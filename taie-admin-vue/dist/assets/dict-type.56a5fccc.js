import{u as L}from"./useView.b2a319db.js";import{d as k,a as D,a0 as w,r as n,y as V,t as d,A as U,F as t,G as a,I as p,H as u,u as m,f as r,P as S,z}from"./vlib.73c86f1d.js";import B from"./dict-type-add-or-update.c5d0319a.js";import F from"./dict-data.b7b37728.js";import{_ as H}from"./index.bc4fd47c.js";import"./monacoeditor.d62c48b5.js";import"./lodash.58534d7e.js";import"./lib.e5e0e84e.js";import"./dict-data-add-or-update.5292fa22.js";const N=k({components:{AddOrUpdate:B,DictTypeList:F},setup(){const e=D({getDataListURL:"/sys/dict/type/page",getDataListIsPage:!0,deleteURL:"/sys/dict/type",deleteIsBatch:!0,dataForm:{id:"0",dictName:"",dictType:""},dictTypeListVisible:!1,focusDictTypeId:"",focusDictTypeTitle:""});return{...L(e),...w(e)}},methods:{showTypeList(e){this.dictTypeListVisible=!0,this.focusDictTypeId=e.id,this.focusDictTypeTitle=`${this.$route.meta.title} - ${e.dictType}`}}}),I={class:"mod-sys__dict"};function _(e,i,P,E,O,R){const y=n("el-input"),c=n("el-form-item"),s=n("el-button"),g=n("el-form"),o=n("el-table-column"),h=n("el-table"),T=n("el-pagination"),C=n("add-or-update"),b=n("DictTypeList"),$=n("el-drawer"),v=V("loading");return d(),U("div",I,[t(g,{inline:!0,model:e.dataForm,onKeyup:i[5]||(i[5]=S(l=>e.getDataList(),["enter"]))},{default:a(()=>[t(c,null,{default:a(()=>[t(y,{modelValue:e.dataForm.dictName,"onUpdate:modelValue":i[0]||(i[0]=l=>e.dataForm.dictName=l),placeholder:e.$t("dict.dictName"),clearable:""},null,8,["modelValue","placeholder"])]),_:1}),t(c,null,{default:a(()=>[t(y,{modelValue:e.dataForm.dictType,"onUpdate:modelValue":i[1]||(i[1]=l=>e.dataForm.dictType=l),placeholder:e.$t("dict.dictType"),clearable:""},null,8,["modelValue","placeholder"])]),_:1}),t(c,null,{default:a(()=>[t(s,{onClick:i[2]||(i[2]=l=>e.getDataList())},{default:a(()=>[p(u(e.$t("query")),1)]),_:1})]),_:1}),t(c,null,{default:a(()=>[e.hasPermission("sys:dict:save")?(d(),m(s,{key:0,type:"primary",onClick:i[3]||(i[3]=l=>e.addOrUpdateHandle())},{default:a(()=>[p(u(e.$t("add")),1)]),_:1})):r("v-if",!0)]),_:1}),t(c,null,{default:a(()=>[e.hasPermission("sys:dict:delete")?(d(),m(s,{key:0,type:"danger",onClick:i[4]||(i[4]=l=>e.deleteHandle())},{default:a(()=>[p(u(e.$t("deleteBatch")),1)]),_:1})):r("v-if",!0)]),_:1})]),_:1},8,["model"]),z((d(),m(h,{data:e.dataList,border:"",onSelectionChange:e.dataListSelectionChangeHandle,onSortChange:e.dataListSortChangeHandle,style:{width:"100%"}},{default:a(()=>[t(o,{type:"selection","header-align":"center",align:"center",width:"50"}),t(o,{prop:"dictName",label:e.$t("dict.dictName"),"header-align":"center",align:"center"},null,8,["label"]),t(o,{prop:"dictType",label:e.$t("dict.dictType"),"header-align":"center",align:"center"},{default:a(l=>[t(s,{type:"primary",link:"",onClick:f=>e.showTypeList(l.row)},{default:a(()=>[p(u(l.row.dictType),1)]),_:2},1032,["onClick"])]),_:1},8,["label"]),t(o,{prop:"sort",label:e.$t("dict.sort"),sortable:"custom","header-align":"center",align:"center"},null,8,["label"]),t(o,{prop:"remark",label:e.$t("dict.remark"),"header-align":"center",align:"center"},null,8,["label"]),t(o,{prop:"createDate",label:e.$t("dict.createDate"),sortable:"custom","header-align":"center",align:"center",width:"180"},null,8,["label"]),t(o,{label:e.$t("handle"),fixed:"right","header-align":"center",align:"center",width:"150"},{default:a(l=>[e.hasPermission("sys:dict:update")?(d(),m(s,{key:0,type:"primary",link:"",onClick:f=>e.addOrUpdateHandle(l.row.id)},{default:a(()=>[p(u(e.$t("update")),1)]),_:2},1032,["onClick"])):r("v-if",!0),e.hasPermission("sys:dict:delete")?(d(),m(s,{key:1,type:"primary",link:"",onClick:f=>e.deleteHandle(l.row.id)},{default:a(()=>[p(u(e.$t("delete")),1)]),_:2},1032,["onClick"])):r("v-if",!0)]),_:1},8,["label"])]),_:1},8,["data","onSelectionChange","onSortChange"])),[[v,e.dataListLoading]]),t(T,{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.pageSizeChangeHandle,onCurrentChange:e.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),r(" \u5F39\u7A97, \u65B0\u589E / \u4FEE\u6539 "),e.addOrUpdateVisible?(d(),m(C,{key:0,ref:"addOrUpdate",onRefreshDataList:e.getDataList},null,8,["onRefreshDataList"])):r("v-if",!0),r(" \u5B57\u5178\u7C7B\u578B\u6570\u636E "),t($,{title:e.focusDictTypeTitle,modelValue:e.dictTypeListVisible,"onUpdate:modelValue":i[6]||(i[6]=l=>e.dictTypeListVisible=l),size:800,"close-on-press-escape":"false","custom-class":"rr-drawer"},{default:a(()=>[t(b,{dictTypeId:e.focusDictTypeId},null,8,["dictTypeId"])]),_:1},8,["title","modelValue"])])}var X=H(N,[["render",_],["__file","/Users/luochen/project17/taie-sword/taie-admin-vue/src/views/sys/dict-type.vue"]]);export{X as default};
