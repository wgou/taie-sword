import{e as n}from"./monacoeditor.d62c48b5.js";import{_ as u}from"./index.08ae0f5b.js";import{d as i,e as c,a0 as m,o as _,w as s,g,t as f,A as p}from"./vlib.982cfaee.js";function v(){return new Worker("./assets/editor.worker.e64733d1.js",{type:"module"})}const h=i({name:"vsCode",props:{modelValue:{type:String,default:""},theme:{type:String,default:"vs"},language:{type:String,default:"json"},options:Object},emits:["change","update:modelValue"],setup(t,{emit:d}){const r=c(),a=m(),l=window;return l.MonacoEnvironment={getWorker(){return new v}},_(()=>{const o=n.create(r.value,{model:n.createModel(t.modelValue,t.language),tabSize:2,automaticLayout:!0,scrollBeyondLastLine:!1,theme:t.theme,...t.options});a.value=o,o.onDidChangeModelContent(()=>{const e=o.getValue();d("update:modelValue",e),d("change",e)}),s(()=>t.modelValue,e=>{e!==o.getValue()&&o.setValue(e)}),s(()=>t.theme,e=>{n.setTheme(e)}),s(()=>t.language,e=>{n.setModelLanguage(o.getModel(),e)}),s(()=>t.options,e=>{o.updateOptions(e)})}),g(()=>{a.value&&a.value.dispose()}),{dom:r}}}),w={class:"editor",ref:"dom"};function y(t,d,r,a,l,o){return f(),p("div",w,null,512)}var k=u(h,[["render",y],["__scopeId","data-v-b11f4cb2"]]);export{k as M};
