import{u as b}from"./useView.b2a319db.js";import{d as _,a as k,a0 as D,r as l,y as L,t as s,A as H,F as t,G as a,I as i,H as r,P as U,z,u,f as c}from"./vlib.73c86f1d.js";import V from"./notice-add-or-update.ec96a4f9.js";import{_ as F,r as S}from"./index.bc4fd47c.js";import"./monacoeditor.d62c48b5.js";/* empty css                   */import"./quill.942ff23b.js";import"./lodash.58534d7e.js";import"./lib.e5e0e84e.js";const T=_({components:{AddOrUpdate:V},setup(){const e=k({getDataListURL:"/sys/notice/page",getDataListIsPage:!0,deleteURL:"/sys/notice",deleteIsBatch:!0,dataForm:{noticeType:""}});return{...b(e),...D(e)}},methods:{viewHandle(e){const o={path:"/notice/notice-view",query:{id:e.id,_mt:this.$t("notice.view1")}};S(o)}}}),B={class:"mod-demo__sysnotice"};function N(e,o,R,O,A,E){const y=l("ren-select"),m=l("el-form-item"),p=l("el-button"),h=l("el-form"),d=l("el-table-column"),g=l("el-tag"),v=l("el-table"),$=l("el-pagination"),w=l("add-or-update"),C=L("loading");return s(),H("div",B,[t(h,{inline:!0,model:e.dataForm,onKeyup:o[4]||(o[4]=U(n=>e.getDataList(),["enter"]))},{default:a(()=>[t(m,null,{default:a(()=>[t(y,{modelValue:e.dataForm.noticeType,"onUpdate:modelValue":o[0]||(o[0]=n=>e.dataForm.noticeType=n),"dict-type":"notice_type",placeholder:e.$t("notice.type")},null,8,["modelValue","placeholder"])]),_:1}),t(m,null,{default:a(()=>[t(p,{onClick:o[1]||(o[1]=n=>e.getDataList())},{default:a(()=>[i(r(e.$t("query")),1)]),_:1})]),_:1}),t(m,null,{default:a(()=>[t(p,{type:"primary",onClick:o[2]||(o[2]=n=>e.addOrUpdateHandle())},{default:a(()=>[i(r(e.$t("add")),1)]),_:1})]),_:1}),t(m,null,{default:a(()=>[t(p,{type:"danger",onClick:o[3]||(o[3]=n=>e.deleteHandle())},{default:a(()=>[i(r(e.$t("deleteBatch")),1)]),_:1})]),_:1})]),_:1},8,["model"]),z((s(),u(v,{data:e.dataList,border:"",onSelectionChange:e.dataListSelectionChangeHandle,style:{width:"100%"}},{default:a(()=>[t(d,{type:"selection","header-align":"center",align:"center",width:"50"}),t(d,{prop:"title",label:e.$t("notice.title"),"header-align":"center",align:"center"},null,8,["label"]),t(d,{prop:"noticeType",label:e.$t("notice.type"),"header-align":"center",align:"center",width:"150"},{default:a(n=>[i(r(e.getDictLabel("notice_type",n.row.noticeType)),1)]),_:1},8,["label"]),t(d,{prop:"senderName",label:e.$t("notice.senderName"),"header-align":"center",align:"center",width:"150"},null,8,["label"]),t(d,{prop:"senderDate",label:e.$t("notice.senderDate"),"header-align":"center",align:"center",width:"170"},null,8,["label"]),t(d,{prop:"status",label:e.$t("notice.status"),"header-align":"center",align:"center",width:"130"},{default:a(n=>[n.row.status===0?(s(),u(g,{key:0,type:"danger"},{default:a(()=>[i(r(e.$t("notice.status0")),1)]),_:1})):(s(),u(g,{key:1,type:"success"},{default:a(()=>[i(r(e.$t("notice.status1")),1)]),_:1}))]),_:1},8,["label"]),t(d,{label:e.$t("handle"),fixed:"right","header-align":"center",align:"center",width:"150"},{default:a(n=>[n.row.status===0?(s(),u(p,{key:0,type:"primary",link:"",onClick:f=>e.addOrUpdateHandle(n.row.id)},{default:a(()=>[i(r(e.$t("update")),1)]),_:2},1032,["onClick"])):c("v-if",!0),n.row.status===1?(s(),u(p,{key:1,type:"primary",link:"",onClick:f=>e.viewHandle(n.row)},{default:a(()=>[i(r(e.$t("notice.view")),1)]),_:2},1032,["onClick"])):c("v-if",!0),t(p,{type:"primary",link:"",onClick:f=>e.deleteHandle(n.row.id)},{default:a(()=>[i(r(e.$t("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data","onSelectionChange"])),[[C,e.dataListLoading]]),t($,{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.pageSizeChangeHandle,onCurrentChange:e.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),c(" \u5F39\u7A97, \u65B0\u589E / \u4FEE\u6539 "),e.addOrUpdateVisible?(s(),u(w,{key:0,ref:"addOrUpdate",onRefreshDataList:e.getDataList},null,8,["onRefreshDataList"])):c("v-if",!0)])}var W=F(T,[["render",N],["__file","/Users/luochen/project17/taie-sword/taie-admin-vue/src/views/notice/notice.vue"]]);export{W as default};
