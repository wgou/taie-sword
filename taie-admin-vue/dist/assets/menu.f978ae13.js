import{u as $}from"./useView.b2a319db.js";import{d as b,a as w,a0 as C,r as d,y as L,t as a,A as y,F as l,G as t,u as o,I as i,H as s,f as u,P as D,z as U,B}from"./vlib.73c86f1d.js";import S from"./menu-add-or-update.cd3d6dfd.js";import{_ as V}from"./index.bc4fd47c.js";import"./monacoeditor.d62c48b5.js";import"./lodash.58534d7e.js";import"./lib.e5e0e84e.js";const H=b({components:{AddOrUpdate:S},setup(){const e=w({getDataListURL:"/sys/menu/list",deleteURL:"/sys/menu"});return{...$(e),...C(e)}}}),O={class:"mod-sys__menu"},P={class:"iconfont","aria-hidden":"true"},R=["xlink:href"],T={key:0};function E(e,m,F,N,A,K){const p=d("el-button"),h=d("el-form-item"),_=d("el-form"),r=d("el-table-column"),f=d("el-tag"),g=d("el-table"),k=d("add-or-update"),v=L("loading");return a(),y("div",O,[l(_,{inline:!0,model:e.dataForm,onKeyup:m[1]||(m[1]=D(n=>e.getDataList(),["enter"]))},{default:t(()=>[l(h,null,{default:t(()=>[e.hasPermission("sys:menu:save")?(a(),o(p,{key:0,type:"primary",onClick:m[0]||(m[0]=n=>e.addOrUpdateHandle())},{default:t(()=>[i(s(e.$t("add")),1)]),_:1})):u("v-if",!0)]),_:1})]),_:1},8,["model"]),U((a(),o(g,{data:e.dataList,"row-key":"id",border:"",style:{width:"100%"}},{default:t(()=>[l(r,{prop:"name",label:e.$t("menu.name"),"header-align":"center","min-width":"150"},null,8,["label"]),l(r,{prop:"icon",label:e.$t("menu.icon"),"header-align":"center",align:"center"},{default:t(n=>[(a(),y("svg",P,[B("use",{"xlink:href":`#${n.row.icon}`},null,8,R)]))]),_:1},8,["label"]),l(r,{prop:"menuType",label:e.$t("menu.type"),"header-align":"center",align:"center"},{default:t(n=>[n.row.menuType===0?(a(),o(f,{key:0},{default:t(()=>[i(s(e.$t("menu.type0")),1)]),_:1})):(a(),o(f,{key:1,type:"info"},{default:t(()=>[i(s(e.$t("menu.type1")),1)]),_:1}))]),_:1},8,["label"]),l(r,{prop:"openStyle",label:e.$t("menu.openStyle"),"header-align":"center",align:"center"},{default:t(n=>[n.row.menuType!==0?(a(),y("span",T)):n.row.openStyle===1?(a(),o(f,{key:1},{default:t(()=>[i(s(e.$t("menu.openStyle1")),1)]),_:1})):(a(),o(f,{key:2,type:"info"},{default:t(()=>[i(s(e.$t("menu.openStyle0")),1)]),_:1}))]),_:1},8,["label"]),l(r,{prop:"sort",label:e.$t("menu.sort"),"header-align":"center",align:"center"},null,8,["label"]),l(r,{prop:"url",label:e.$t("menu.url"),"header-align":"center",align:"center",width:"150","show-overflow-tooltip":!0},null,8,["label"]),l(r,{prop:"permissions",label:e.$t("menu.permissions"),"header-align":"center",align:"center",width:"150","show-overflow-tooltip":!0},null,8,["label"]),l(r,{label:e.$t("handle"),fixed:"right","header-align":"center",align:"center",width:"170"},{default:t(n=>[e.hasPermission("sys:menu:save")&&n.row.menuType===0?(a(),o(p,{key:0,type:"primary",link:"",onClick:c=>e.addHandle(n.row)},{default:t(()=>[i(s(e.$t("add")),1)]),_:2},1032,["onClick"])):u("v-if",!0),e.hasPermission("sys:menu:update")?(a(),o(p,{key:1,type:"primary",link:"",onClick:c=>e.addOrUpdateHandle(n.row.id)},{default:t(()=>[i(s(e.$t("update")),1)]),_:2},1032,["onClick"])):u("v-if",!0),e.hasPermission("sys:menu:delete")?(a(),o(p,{key:2,type:"primary",link:"",onClick:c=>e.deleteHandle(n.row.id)},{default:t(()=>[i(s(e.$t("delete")),1)]),_:2},1032,["onClick"])):u("v-if",!0)]),_:1},8,["label"])]),_:1},8,["data"])),[[v,e.dataListLoading]]),u(" \u5F39\u7A97, \u65B0\u589E / \u4FEE\u6539 "),e.addOrUpdateVisible?(a(),o(k,{key:0,ref:"addOrUpdate",onRefreshDataList:e.getDataList},null,8,["onRefreshDataList"])):u("v-if",!0)])}var Q=V(H,[["render",E],["__file","/Users/luochen/project17/taie-sword/taie-admin-vue/src/views/sys/menu.vue"]]);export{Q as default};
