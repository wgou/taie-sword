import{d as $,a as g,$ as k,r as a,y as v,t as n,A as w,E as o,F as t,u as r,H as m,G as u,f as i,O as L,z as C}from"./vlib.982cfaee.js";import D from"./dept-add-or-update.3f30c21d.js";import{u as U}from"./useView.a666d3e8.js";import{_ as O}from"./index.f377bb16.js";import"./monacoeditor.d62c48b5.js";import"./lodash.0b661716.js";import"./lib.b62e57c8.js";const N=$({components:{AddOrUpdate:D},setup(){const e=g({getDataListURL:"/sys/dept/list",deleteURL:"/sys/dept"});return{...U(e),...k(e)}}}),R={class:"mod-sys__dept"};function V(e,l,H,B,P,A){const p=a("el-button"),f=a("el-form-item"),c=a("el-form"),d=a("el-table-column"),y=a("el-table"),_=a("add-or-update"),b=v("loading");return n(),w("div",R,[o(c,{inline:!0,model:e.dataForm,onKeyup:l[1]||(l[1]=L(s=>e.getDataList(),["enter"]))},{default:t(()=>[o(f,null,{default:t(()=>[e.hasPermission("sys:dept:save")?(n(),r(p,{key:0,type:"primary",onClick:l[0]||(l[0]=s=>e.addOrUpdateHandle())},{default:t(()=>[m(u(e.$t("add")),1)]),_:1})):i("",!0)]),_:1})]),_:1},8,["model"]),C((n(),r(y,{data:e.dataList,"row-key":"id",border:"",style:{width:"100%"}},{default:t(()=>[o(d,{prop:"name",label:e.$t("dept.name"),"header-align":"center","min-width":"150"},null,8,["label"]),o(d,{prop:"parentName",label:e.$t("dept.parentName"),"header-align":"center",align:"center"},null,8,["label"]),o(d,{prop:"sort",label:e.$t("dept.sort"),"header-align":"center",align:"center",width:"80"},null,8,["label"]),o(d,{label:e.$t("handle"),fixed:"right","header-align":"center",align:"center",width:"150"},{default:t(s=>[e.hasPermission("sys:dept:update")?(n(),r(p,{key:0,type:"primary",link:"",onClick:h=>e.addOrUpdateHandle(s.row.id)},{default:t(()=>[m(u(e.$t("update")),1)]),_:2},1032,["onClick"])):i("",!0),e.hasPermission("sys:dept:delete")?(n(),r(p,{key:1,type:"primary",link:"",onClick:h=>e.deleteHandle(s.row.id)},{default:t(()=>[m(u(e.$t("delete")),1)]),_:2},1032,["onClick"])):i("",!0)]),_:1},8,["label"])]),_:1},8,["data"])),[[b,e.dataListLoading]]),e.addOrUpdateVisible?(n(),r(_,{key:0,ref:"addOrUpdate",onRefreshDataList:e.getDataList},null,8,["onRefreshDataList"])):i("",!0)])}var j=O(N,[["render",V]]);export{j as default};
