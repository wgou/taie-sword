import{u as k}from"./useView.b2a319db.js";import{d as b,a as L,a0 as w,r as o,y as D,t as r,A as _,F as a,G as t,I as p,H as m,u as i,f as s,P as S,z as H}from"./vlib.73c86f1d.js";import U from"./role-add-or-update.d2b6c9e4.js";import{_ as z}from"./index.bc4fd47c.js";import"./monacoeditor.d62c48b5.js";import"./lodash.58534d7e.js";import"./lib.e5e0e84e.js";const V=b({components:{AddOrUpdate:U},setup(){const e=L({getDataListURL:"/sys/role/page",getDataListIsPage:!0,deleteURL:"/sys/role",deleteIsBatch:!0,dataForm:{name:""}});return{...k(e),...w(e)}}}),F={class:"mod-sys__role"};function B(e,n,P,O,R,E){const f=o("el-input"),g=o("el-form-item"),d=o("el-button"),h=o("el-form"),u=o("el-table-column"),y=o("el-table"),C=o("el-pagination"),v=o("add-or-update"),c=D("loading");return r(),_("div",F,[a(h,{inline:!0,model:e.dataForm,onKeyup:n[4]||(n[4]=S(l=>e.getDataList(),["enter"]))},{default:t(()=>[a(g,null,{default:t(()=>[a(f,{modelValue:e.dataForm.name,"onUpdate:modelValue":n[0]||(n[0]=l=>e.dataForm.name=l),placeholder:e.$t("role.name"),clearable:""},null,8,["modelValue","placeholder"])]),_:1}),a(g,null,{default:t(()=>[a(d,{onClick:n[1]||(n[1]=l=>e.getDataList())},{default:t(()=>[p(m(e.$t("query")),1)]),_:1})]),_:1}),a(g,null,{default:t(()=>[e.hasPermission("sys:role:save")?(r(),i(d,{key:0,type:"primary",onClick:n[2]||(n[2]=l=>e.addOrUpdateHandle())},{default:t(()=>[p(m(e.$t("add")),1)]),_:1})):s("v-if",!0)]),_:1}),a(g,null,{default:t(()=>[e.hasPermission("sys:role:delete")?(r(),i(d,{key:0,type:"danger",onClick:n[3]||(n[3]=l=>e.deleteHandle())},{default:t(()=>[p(m(e.$t("deleteBatch")),1)]),_:1})):s("v-if",!0)]),_:1})]),_:1},8,["model"]),H((r(),i(y,{data:e.dataList,border:"",onSelectionChange:e.dataListSelectionChangeHandle,onSortChange:e.dataListSortChangeHandle,style:{width:"100%"}},{default:t(()=>[a(u,{type:"selection","header-align":"center",align:"center",width:"50"}),a(u,{prop:"name",label:e.$t("role.name"),"header-align":"center",align:"center"},null,8,["label"]),a(u,{prop:"remark",label:e.$t("role.remark"),"header-align":"center",align:"center"},null,8,["label"]),a(u,{prop:"createDate",label:e.$t("role.createDate"),sortable:"custom","header-align":"center",align:"center",width:"180"},null,8,["label"]),a(u,{label:e.$t("handle"),fixed:"right","header-align":"center",align:"center",width:"150"},{default:t(l=>[e.hasPermission("sys:role:update")?(r(),i(d,{key:0,type:"primary",link:"",onClick:$=>e.addOrUpdateHandle(l.row.id)},{default:t(()=>[p(m(e.$t("update")),1)]),_:2},1032,["onClick"])):s("v-if",!0),e.hasPermission("sys:role:delete")?(r(),i(d,{key:1,type:"primary",link:"",onClick:$=>e.deleteHandle(l.row.id)},{default:t(()=>[p(m(e.$t("delete")),1)]),_:2},1032,["onClick"])):s("v-if",!0)]),_:1},8,["label"])]),_:1},8,["data","onSelectionChange","onSortChange"])),[[c,e.dataListLoading]]),a(C,{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.pageSizeChangeHandle,onCurrentChange:e.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),s(" \u5F39\u7A97, \u65B0\u589E / \u4FEE\u6539 "),e.addOrUpdateVisible?(r(),i(v,{key:0,ref:"addOrUpdate",onRefreshDataList:e.getDataList},null,8,["onRefreshDataList"])):s("v-if",!0)])}var T=z(V,[["render",B],["__file","/Users/luochen/project17/taie-sword/taie-admin-vue/src/views/sys/role.vue"]]);export{T as default};
