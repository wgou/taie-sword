import{u as k}from"./useView.b2a319db.js";import{d as L,a as D,a0 as V,r as o,y as w,t as u,A as H,F as t,G as a,I as s,H as p,P as N,z as U,u as m,f as g}from"./vlib.73c86f1d.js";import F from"./excel-import.c513fe8f.js";import z from"./excel-add-or-update.5ae7985d.js";import{_ as I}from"./index.bc4fd47c.js";import"./monacoeditor.d62c48b5.js";import"./lodash.58534d7e.js";import"./lib.e5e0e84e.js";const R=L({components:{Import:F,AddOrUpdate:z},setup(){const e=D({getDataListURL:"/demo/excel/page",getDataListIsPage:!0,exportURL:"/demo/excel/export",deleteURL:"/demo/excel",deleteIsBatch:!0,importVisible:!1,dataForm:{realName:"",userIdentity:""}});return{...k(e),...V(e)}},methods:{importHandle(){this.importVisible=!0,this.$nextTick(()=>{this.$refs.import.init()})}}}),S={class:"mod-demo__excel"};function _(e,l,B,O,j,E){const f=o("el-input"),r=o("el-form-item"),i=o("el-button"),c=o("el-form"),d=o("el-table-column"),$=o("el-table"),b=o("el-pagination"),h=o("import"),y=o("add-or-update"),C=w("loading");return u(),H("div",S,[t(c,{inline:!0,model:e.dataForm,onKeyup:l[7]||(l[7]=N(n=>e.getDataList(),["enter"]))},{default:a(()=>[t(r,null,{default:a(()=>[t(f,{modelValue:e.dataForm.realName,"onUpdate:modelValue":l[0]||(l[0]=n=>e.dataForm.realName=n),placeholder:e.$t("excel.realName"),clearable:""},null,8,["modelValue","placeholder"])]),_:1}),t(r,null,{default:a(()=>[t(f,{modelValue:e.dataForm.userIdentity,"onUpdate:modelValue":l[1]||(l[1]=n=>e.dataForm.userIdentity=n),placeholder:e.$t("excel.identity"),clearable:""},null,8,["modelValue","placeholder"])]),_:1}),t(r,null,{default:a(()=>[t(i,{onClick:l[2]||(l[2]=n=>e.getDataList())},{default:a(()=>[s(p(e.$t("query")),1)]),_:1})]),_:1}),t(r,null,{default:a(()=>[t(i,{type:"primary",onClick:l[3]||(l[3]=n=>e.addOrUpdateHandle())},{default:a(()=>[s(p(e.$t("add")),1)]),_:1})]),_:1}),t(r,null,{default:a(()=>[t(i,{type:"danger",onClick:l[4]||(l[4]=n=>e.deleteHandle())},{default:a(()=>[s(p(e.$t("deleteBatch")),1)]),_:1})]),_:1}),t(r,null,{default:a(()=>[t(i,{type:"warning",onClick:l[5]||(l[5]=n=>e.importHandle())},{default:a(()=>[s(p(e.$t("excel.import")),1)]),_:1})]),_:1}),t(r,null,{default:a(()=>[t(i,{type:"info",onClick:l[6]||(l[6]=n=>e.exportHandle())},{default:a(()=>[s(p(e.$t("export")),1)]),_:1})]),_:1})]),_:1},8,["model"]),U((u(),m($,{data:e.dataList,border:"",onSelectionChange:e.dataListSelectionChangeHandle,style:{width:"100%"}},{default:a(()=>[t(d,{type:"selection","header-align":"center",align:"center",width:"50"}),t(d,{prop:"realName",label:e.$t("excel.realName"),"header-align":"center",align:"center"},null,8,["label"]),t(d,{prop:"userIdentity",label:e.$t("excel.identity"),"header-align":"center",align:"center"},null,8,["label"]),t(d,{prop:"address",label:e.$t("excel.address"),"header-align":"center",align:"center"},null,8,["label"]),t(d,{prop:"joinDate",label:e.$t("excel.joinDate"),"header-align":"center",align:"center"},null,8,["label"]),t(d,{prop:"className",label:e.$t("excel.className"),"header-align":"center",align:"center"},null,8,["label"]),t(d,{label:e.$t("handle"),fixed:"right","header-align":"center",align:"center",width:"150"},{default:a(n=>[t(i,{type:"primary",link:"",onClick:v=>e.addOrUpdateHandle(n.row.id)},{default:a(()=>[s(p(e.$t("update")),1)]),_:2},1032,["onClick"]),t(i,{type:"primary",link:"",onClick:v=>e.deleteHandle(n.row.id)},{default:a(()=>[s(p(e.$t("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data","onSelectionChange"])),[[C,e.dataListLoading]]),t(b,{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.pageSizeChangeHandle,onCurrentChange:e.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),e.importVisible?(u(),m(h,{key:0,ref:"import",onRefreshDataList:e.getDataList},null,8,["onRefreshDataList"])):g("v-if",!0),g(" \u5F39\u7A97, \u65B0\u589E / \u4FEE\u6539 "),e.addOrUpdateVisible?(u(),m(y,{key:1,ref:"addOrUpdate",onRefreshDataList:e.getDataList},null,8,["onRefreshDataList"])):g("v-if",!0)])}var Q=I(R,[["render",_],["__file","/Users/luochen/project17/taie-sword/taie-admin-vue/src/views/demo/excel.vue"]]);export{Q as default};
