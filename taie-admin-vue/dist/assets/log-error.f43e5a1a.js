import{u as h}from"./useView.2c586aec.js";import{d as _,a as b,$,r as o,y as v,t as s,A as C,E as r,F as a,H as g,G as p,O as w,z as y,u as E}from"./vlib.0bb5c6cc.js";import{_ as L}from"./index.6b1e63f3.js";import"./monacoeditor.d62c48b5.js";import"./lodash.8cc0d8b0.js";import"./lib.aa75605a.js";const z=_({setup(){const e=b({getDataListURL:"/sys/log/error/page",getDataListIsPage:!0,exportURL:"/sys/log/error/export"});return{...h(e),...$(e)}},methods:{infoHandle(e){this.$alert(e,this.$t("logError.errorInfo"),{customClass:"mod-sys__log-error-view-info",confirmButtonText:this.$t("confirm")})}}}),D={class:"mod-sys__log-error"};function k(e,n,H,S,q,B){const i=o("el-button"),d=o("el-form-item"),u=o("el-form"),t=o("el-table-column"),m=o("el-table"),c=o("el-pagination"),f=v("loading");return s(),C("div",D,[r(u,{inline:!0,model:e.dataForm,onKeyup:n[1]||(n[1]=w(l=>e.getDataList(),["enter"]))},{default:a(()=>[r(d,null,{default:a(()=>[r(i,{type:"info",onClick:n[0]||(n[0]=l=>e.exportHandle())},{default:a(()=>[g(p(e.$t("export")),1)]),_:1})]),_:1})]),_:1},8,["model"]),y((s(),E(m,{data:e.dataList,border:"",onSortChange:e.dataListSortChangeHandle,style:{width:"100%"}},{default:a(()=>[r(t,{prop:"requestUri",label:e.$t("logError.requestUri"),"header-align":"center",align:"center"},null,8,["label"]),r(t,{prop:"requestMethod",label:e.$t("logError.requestMethod"),"header-align":"center",align:"center"},null,8,["label"]),r(t,{prop:"requestParams",label:e.$t("logError.requestParams"),"header-align":"center",align:"center",width:"150","show-overflow-tooltip":!0},null,8,["label"]),r(t,{prop:"ip",label:e.$t("logError.ip"),"header-align":"center",align:"center"},null,8,["label"]),r(t,{prop:"userAgent",label:e.$t("logError.userAgent"),"header-align":"center",align:"center",width:"150","show-overflow-tooltip":!0},null,8,["label"]),r(t,{prop:"createDate",label:e.$t("logError.createDate"),sortable:"custom","header-align":"center",align:"center",width:"180"},null,8,["label"]),r(t,{label:e.$t("handle"),fixed:"right","header-align":"center",align:"center",width:"150"},{default:a(l=>[r(i,{type:"primary",link:"",onClick:I=>e.infoHandle(l.row.errorInfo)},{default:a(()=>[g(p(e.$t("logError.errorInfo")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data","onSortChange"])),[[f,e.dataListLoading]]),r(c,{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.pageSizeChangeHandle,onCurrentChange:e.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])}var K=L(z,[["render",k]]);export{K as default};
