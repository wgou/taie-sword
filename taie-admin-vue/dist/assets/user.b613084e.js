import{u as w}from"./useView.b2a319db.js";import{d as V,a as D,a0 as U,r,y as F,t as o,A as z,F as t,G as a,I as d,H as i,u,f as m,P as H,z as S}from"./vlib.73c86f1d.js";import _ from"./user-add-or-update.5c62733a.js";import{_ as P}from"./index.bc4fd47c.js";import"./monacoeditor.d62c48b5.js";import"./lodash.58534d7e.js";import"./lib.e5e0e84e.js";const B=V({components:{AddOrUpdate:_},setup(){const e=D({getDataListURL:"/sys/user/page",getDataListIsPage:!0,deleteURL:"/sys/user",deleteIsBatch:!0,exportURL:"/sys/user/export",dataForm:{username:"",deptId:"",gender:""}});return{...w(e),...U(e)}},methods:{}}),I={class:"mod-sys__user"};function R(e,n,N,O,E,A){const y=r("el-input"),p=r("el-form-item"),b=r("ren-select"),h=r("ren-dept-tree"),g=r("el-button"),$=r("el-form"),s=r("el-table-column"),f=r("el-tag"),C=r("el-table"),v=r("el-pagination"),c=r("add-or-update"),k=F("loading");return o(),z("div",I,[t($,{inline:!0,model:e.dataForm,onKeyup:n[7]||(n[7]=H(l=>e.getDataList(),["enter"]))},{default:a(()=>[t(p,null,{default:a(()=>[t(y,{modelValue:e.dataForm.username,"onUpdate:modelValue":n[0]||(n[0]=l=>e.dataForm.username=l),placeholder:e.$t("user.username"),clearable:""},null,8,["modelValue","placeholder"])]),_:1}),t(p,null,{default:a(()=>[t(b,{modelValue:e.dataForm.gender,"onUpdate:modelValue":n[1]||(n[1]=l=>e.dataForm.gender=l),"dict-type":"gender",placeholder:e.$t("user.gender")},null,8,["modelValue","placeholder"])]),_:1}),t(p,null,{default:a(()=>[t(h,{modelValue:e.dataForm.deptId,"onUpdate:modelValue":n[2]||(n[2]=l=>e.dataForm.deptId=l),placeholder:e.$t("dept.title"),query:!0},null,8,["modelValue","placeholder"])]),_:1}),t(p,null,{default:a(()=>[t(g,{onClick:n[3]||(n[3]=l=>e.getDataList())},{default:a(()=>[d(i(e.$t("query")),1)]),_:1})]),_:1}),t(p,null,{default:a(()=>[e.hasPermission("sys:user:save")?(o(),u(g,{key:0,type:"primary",onClick:n[4]||(n[4]=l=>e.addOrUpdateHandle())},{default:a(()=>[d(i(e.$t("add")),1)]),_:1})):m("v-if",!0)]),_:1}),t(p,null,{default:a(()=>[e.hasPermission("sys:user:delete")?(o(),u(g,{key:0,type:"danger",onClick:n[5]||(n[5]=l=>e.deleteHandle())},{default:a(()=>[d(i(e.$t("deleteBatch")),1)]),_:1})):m("v-if",!0)]),_:1}),t(p,null,{default:a(()=>[e.hasPermission("sys:user:export")?(o(),u(g,{key:0,type:"info",onClick:n[6]||(n[6]=l=>e.exportHandle())},{default:a(()=>[d(i(e.$t("export")),1)]),_:1})):m("v-if",!0)]),_:1})]),_:1},8,["model"]),S((o(),u(C,{data:e.dataList,border:"",onSelectionChange:e.dataListSelectionChangeHandle,onSortChange:e.dataListSortChangeHandle,style:{width:"100%"}},{default:a(()=>[t(s,{type:"selection","header-align":"center",align:"center",width:"50"}),t(s,{prop:"username",label:e.$t("user.username"),sortable:"custom","header-align":"center",align:"center"},null,8,["label"]),t(s,{prop:"deptName",label:e.$t("user.deptName"),"header-align":"center",align:"center"},null,8,["label"]),t(s,{prop:"email",label:e.$t("user.email"),"header-align":"center",align:"center"},null,8,["label"]),t(s,{prop:"mobile",label:e.$t("user.mobile"),sortable:"custom","header-align":"center",align:"center"},null,8,["label"]),t(s,{prop:"gender",label:e.$t("user.gender"),sortable:"custom","header-align":"center",align:"center"},{default:a(l=>[d(i(e.getDictLabel("gender",l.row.gender)),1)]),_:1},8,["label"]),t(s,{prop:"status",label:e.$t("user.status"),sortable:"custom","header-align":"center",align:"center"},{default:a(l=>[l.row.status===0?(o(),u(f,{key:0,size:"small",type:"danger"},{default:a(()=>[d(i(e.$t("user.status0")),1)]),_:1})):(o(),u(f,{key:1,size:"small",type:"success"},{default:a(()=>[d(i(e.$t("user.status1")),1)]),_:1}))]),_:1},8,["label"]),t(s,{prop:"createDate",label:e.$t("user.createDate"),sortable:"custom","header-align":"center",align:"center",width:"180"},null,8,["label"]),t(s,{label:e.$t("handle"),fixed:"right","header-align":"center",align:"center",width:"150"},{default:a(l=>[e.hasPermission("sys:user:update")?(o(),u(g,{key:0,type:"primary",link:"",onClick:L=>e.addOrUpdateHandle(l.row.id)},{default:a(()=>[d(i(e.$t("update")),1)]),_:2},1032,["onClick"])):m("v-if",!0),e.hasPermission("sys:user:delete")?(o(),u(g,{key:1,type:"primary",link:"",onClick:L=>e.deleteHandle(l.row.id)},{default:a(()=>[d(i(e.$t("delete")),1)]),_:2},1032,["onClick"])):m("v-if",!0)]),_:1},8,["label"])]),_:1},8,["data","onSelectionChange","onSortChange"])),[[k,e.dataListLoading]]),t(v,{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.pageSizeChangeHandle,onCurrentChange:e.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),m(" \u5F39\u7A97, \u65B0\u589E / \u4FEE\u6539 "),e.addOrUpdateVisible?(o(),u(c,{key:0,ref:"addOrUpdate",onRefreshDataList:e.getDataList},null,8,["onRefreshDataList"])):m("v-if",!0)])}var Q=P(B,[["render",R],["__file","/Users/luochen/project17/taie-sword/taie-admin-vue/src/views/sys/user.vue"]]);export{Q as default};
