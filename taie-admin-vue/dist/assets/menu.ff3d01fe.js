import{u as b}from"./useView.a666d3e8.js";import{d as w,a as v,$ as C,r as d,y as L,t as a,A as f,E as l,F as t,u as o,H as i,G as s,f as u,O as D,z as U,B as O}from"./vlib.982cfaee.js";import S from"./menu-add-or-update.e54c0be2.js";import{_ as V}from"./index.f377bb16.js";import"./monacoeditor.d62c48b5.js";import"./lodash.0b661716.js";import"./lib.b62e57c8.js";const B=w({components:{AddOrUpdate:S},setup(){const e=v({getDataListURL:"/sys/menu/list",deleteURL:"/sys/menu"});return{...b(e),...C(e)}}}),H={class:"mod-sys__menu"},R={class:"iconfont","aria-hidden":"true"},T=["xlink:href"],N={key:0};function P(e,m,A,E,F,K){const p=d("el-button"),h=d("el-form-item"),$=d("el-form"),r=d("el-table-column"),y=d("el-tag"),g=d("el-table"),k=d("add-or-update"),_=L("loading");return a(),f("div",H,[l($,{inline:!0,model:e.dataForm,onKeyup:m[1]||(m[1]=D(n=>e.getDataList(),["enter"]))},{default:t(()=>[l(h,null,{default:t(()=>[e.hasPermission("sys:menu:save")?(a(),o(p,{key:0,type:"primary",onClick:m[0]||(m[0]=n=>e.addOrUpdateHandle())},{default:t(()=>[i(s(e.$t("add")),1)]),_:1})):u("",!0)]),_:1})]),_:1},8,["model"]),U((a(),o(g,{data:e.dataList,"row-key":"id",border:"",style:{width:"100%"}},{default:t(()=>[l(r,{prop:"name",label:e.$t("menu.name"),"header-align":"center","min-width":"150"},null,8,["label"]),l(r,{prop:"icon",label:e.$t("menu.icon"),"header-align":"center",align:"center"},{default:t(n=>[(a(),f("svg",R,[O("use",{"xlink:href":`#${n.row.icon}`},null,8,T)]))]),_:1},8,["label"]),l(r,{prop:"menuType",label:e.$t("menu.type"),"header-align":"center",align:"center"},{default:t(n=>[n.row.menuType===0?(a(),o(y,{key:0},{default:t(()=>[i(s(e.$t("menu.type0")),1)]),_:1})):(a(),o(y,{key:1,type:"info"},{default:t(()=>[i(s(e.$t("menu.type1")),1)]),_:1}))]),_:1},8,["label"]),l(r,{prop:"openStyle",label:e.$t("menu.openStyle"),"header-align":"center",align:"center"},{default:t(n=>[n.row.menuType!==0?(a(),f("span",N)):n.row.openStyle===1?(a(),o(y,{key:1},{default:t(()=>[i(s(e.$t("menu.openStyle1")),1)]),_:1})):(a(),o(y,{key:2,type:"info"},{default:t(()=>[i(s(e.$t("menu.openStyle0")),1)]),_:1}))]),_:1},8,["label"]),l(r,{prop:"sort",label:e.$t("menu.sort"),"header-align":"center",align:"center"},null,8,["label"]),l(r,{prop:"url",label:e.$t("menu.url"),"header-align":"center",align:"center",width:"150","show-overflow-tooltip":!0},null,8,["label"]),l(r,{prop:"permissions",label:e.$t("menu.permissions"),"header-align":"center",align:"center",width:"150","show-overflow-tooltip":!0},null,8,["label"]),l(r,{label:e.$t("handle"),fixed:"right","header-align":"center",align:"center",width:"170"},{default:t(n=>[e.hasPermission("sys:menu:save")&&n.row.menuType===0?(a(),o(p,{key:0,type:"primary",link:"",onClick:c=>e.addHandle(n.row)},{default:t(()=>[i(s(e.$t("add")),1)]),_:2},1032,["onClick"])):u("",!0),e.hasPermission("sys:menu:update")?(a(),o(p,{key:1,type:"primary",link:"",onClick:c=>e.addOrUpdateHandle(n.row.id)},{default:t(()=>[i(s(e.$t("update")),1)]),_:2},1032,["onClick"])):u("",!0),e.hasPermission("sys:menu:delete")?(a(),o(p,{key:2,type:"primary",link:"",onClick:c=>e.deleteHandle(n.row.id)},{default:t(()=>[i(s(e.$t("delete")),1)]),_:2},1032,["onClick"])):u("",!0)]),_:1},8,["label"])]),_:1},8,["data"])),[[_,e.dataListLoading]]),e.addOrUpdateVisible?(a(),o(k,{key:0,ref:"addOrUpdate",onRefreshDataList:e.getDataList},null,8,["onRefreshDataList"])):u("",!0)])}var Q=V(B,[["render",P]]);export{Q as default};
