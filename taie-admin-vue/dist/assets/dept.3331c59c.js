import{d as g,a as k,a0 as $,r as a,y as v,t as n,A as w,F as o,G as t,u as r,I as m,H as u,f as i,P as L,z as C}from"./vlib.611ed292.js";import D from"./dept-add-or-update.97e29ae5.js";import{u as U}from"./useView.8d54e90d.js";import{_ as N}from"./index.6e4b562b.js";import"./monacoeditor.d62c48b5.js";import"./lodash.78aef77c.js";import"./lib.18273bf4.js";const O=g({components:{AddOrUpdate:D},setup(){const e=k({getDataListURL:"/sys/dept/list",deleteURL:"/sys/dept"});return{...U(e),...$(e)}}}),R={class:"mod-sys__dept"};function V(e,l,H,P,B,A){const p=a("el-button"),f=a("el-form-item"),c=a("el-form"),d=a("el-table-column"),y=a("el-table"),_=a("add-or-update"),b=v("loading");return n(),w("div",R,[o(c,{inline:!0,model:e.dataForm,onKeyup:l[1]||(l[1]=L(s=>e.getDataList(),["enter"]))},{default:t(()=>[o(f,null,{default:t(()=>[e.hasPermission("sys:dept:save")?(n(),r(p,{key:0,type:"primary",onClick:l[0]||(l[0]=s=>e.addOrUpdateHandle())},{default:t(()=>[m(u(e.$t("add")),1)]),_:1})):i("",!0)]),_:1})]),_:1},8,["model"]),C((n(),r(y,{data:e.dataList,"row-key":"id",border:"",style:{width:"100%"}},{default:t(()=>[o(d,{prop:"name",label:e.$t("dept.name"),"header-align":"center","min-width":"150"},null,8,["label"]),o(d,{prop:"parentName",label:e.$t("dept.parentName"),"header-align":"center",align:"center"},null,8,["label"]),o(d,{prop:"sort",label:e.$t("dept.sort"),"header-align":"center",align:"center",width:"80"},null,8,["label"]),o(d,{label:e.$t("handle"),fixed:"right","header-align":"center",align:"center",width:"150"},{default:t(s=>[e.hasPermission("sys:dept:update")?(n(),r(p,{key:0,type:"primary",link:"",onClick:h=>e.addOrUpdateHandle(s.row.id)},{default:t(()=>[m(u(e.$t("update")),1)]),_:2},1032,["onClick"])):i("",!0),e.hasPermission("sys:dept:delete")?(n(),r(p,{key:1,type:"primary",link:"",onClick:h=>e.deleteHandle(s.row.id)},{default:t(()=>[m(u(e.$t("delete")),1)]),_:2},1032,["onClick"])):i("",!0)]),_:1},8,["label"])]),_:1},8,["data"])),[[b,e.dataListLoading]]),e.addOrUpdateVisible?(n(),r(_,{key:0,ref:"addOrUpdate",onRefreshDataList:e.getDataList},null,8,["onRefreshDataList"])):i("",!0)])}var T=N(O,[["render",V]]);export{T as default};
