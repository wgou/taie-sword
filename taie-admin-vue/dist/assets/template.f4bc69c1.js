import{u as $}from"./useView.d7e741d1.js";import{d as F,a as k,$ as w,r as s,y as D,t as u,A as S,E as a,F as n,H as o,O as B,z as c,u as p,f as H}from"./vlib.0bb5c6cc.js";import z from"./template-add-or-update.6eca9511.js";import{_ as E,b as g}from"./index.c9acb6bc.js";import"./monacoeditor.d62c48b5.js";import"./lodash.8cc0d8b0.js";import"./lib.aa75605a.js";const _=F({components:{AddOrUpdate:z},setup(){const t=k({getDataListURL:"/devtools/template/page",getDataListIsPage:!0,deleteURL:"/devtools/template",deleteIsBatch:!0,dataForm:{name:""}});return{...$(t),...w(t)}},methods:{enabledHandle(t){if(!t&&this.dataListSelections&&this.dataListSelections.length<=0)return this.$message({message:"\u8BF7\u9009\u62E9\u8BB0\u5F55",type:"warning",duration:500});g.put("/devtools/template/enabled",t?[t]:this.dataListSelections&&this.dataListSelections.map(e=>e.id)).then(e=>{if(e.code!==0)return this.$message.error(e.msg);this.$message({message:this.$t("prompt.success"),type:"success",duration:500,onClose:()=>{this.getDataList()}})})},disabledHandle(t){if(!t&&this.dataListSelections&&this.dataListSelections.length<=0)return this.$message({message:"\u8BF7\u9009\u62E9\u8BB0\u5F55",type:"warning",duration:500});g.put("/devtools/template/disabled",t?[t]:this.dataListSelections&&this.dataListSelections.map(e=>e.id)).then(e=>{if(e.code!==0)return this.$message.error(e.msg);this.$message({message:this.$t("prompt.success"),type:"success",duration:500,onClose:()=>{this.getDataList()}})})}}}),U={class:"mod-template"};function V(t,e,O,R,A,N){const f=s("el-input"),d=s("el-form-item"),i=s("el-button"),C=s("el-form"),r=s("el-table-column"),m=s("el-tag"),y=s("el-table"),b=s("el-pagination"),h=s("add-or-update"),L=D("loading");return u(),S("div",U,[a(C,{inline:!0,model:t.dataForm,onKeyup:e[6]||(e[6]=B(l=>t.getDataList(),["enter"]))},{default:n(()=>[a(d,null,{default:n(()=>[a(f,{modelValue:t.dataForm.name,"onUpdate:modelValue":e[0]||(e[0]=l=>t.dataForm.name=l),placeholder:"\u6A21\u677F\u540D",clearable:""},null,8,["modelValue"])]),_:1}),a(d,null,{default:n(()=>[a(i,{onClick:e[1]||(e[1]=l=>t.getDataList())},{default:n(()=>e[7]||(e[7]=[o("\u67E5\u8BE2")])),_:1})]),_:1}),a(d,null,{default:n(()=>[a(i,{type:"primary",onClick:e[2]||(e[2]=l=>t.addOrUpdateHandle())},{default:n(()=>e[8]||(e[8]=[o("\u65B0\u589E")])),_:1})]),_:1}),a(d,null,{default:n(()=>[a(i,{type:"success",onClick:e[3]||(e[3]=l=>t.enabledHandle())},{default:n(()=>e[9]||(e[9]=[o("\u542F\u7528")])),_:1})]),_:1}),a(d,null,{default:n(()=>[a(i,{type:"warning",onClick:e[4]||(e[4]=l=>t.disabledHandle())},{default:n(()=>e[10]||(e[10]=[o("\u7981\u7528")])),_:1})]),_:1}),a(d,null,{default:n(()=>[a(i,{type:"danger",onClick:e[5]||(e[5]=l=>t.deleteHandle())},{default:n(()=>e[11]||(e[11]=[o("\u5220\u9664")])),_:1})]),_:1})]),_:1},8,["model"]),c((u(),p(y,{data:t.dataList,border:"",onSelectionChange:t.dataListSelectionChangeHandle,style:{width:"100%"}},{default:n(()=>[a(r,{type:"selection","header-align":"center",align:"center",width:"50"}),a(r,{prop:"name",label:"\u6A21\u677F\u540D","header-align":"center",align:"center",width:"150"}),a(r,{prop:"fileName",label:"\u6587\u4EF6\u540D","header-align":"center",align:"center",width:"200"}),a(r,{prop:"path",label:"\u751F\u6210\u8DEF\u5F84","header-align":"center"}),a(r,{prop:"status",label:"\u72B6\u6001",sortable:"custom","header-align":"center",align:"center",width:"120"},{default:n(l=>[l.row.status===0?(u(),p(m,{key:0,size:"small",type:"success"},{default:n(()=>e[12]||(e[12]=[o("\u542F\u7528")])),_:1})):(u(),p(m,{key:1,size:"small",type:"danger"},{default:n(()=>e[13]||(e[13]=[o("\u7981\u7528")])),_:1}))]),_:1}),a(r,{label:"\u64CD\u4F5C",fixed:"right","header-align":"center",align:"center",width:"120"},{default:n(l=>[a(i,{type:"primary",link:"",onClick:v=>t.addOrUpdateHandle(l.row.id)},{default:n(()=>e[14]||(e[14]=[o("\u7F16\u8F91")])),_:2},1032,["onClick"]),a(i,{type:"primary",link:"",onClick:v=>t.deleteHandle(l.row.id)},{default:n(()=>e[15]||(e[15]=[o("\u5220\u9664")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","onSelectionChange"])),[[L,t.dataListLoading]]),a(b,{"current-page":t.page,"page-sizes":[10,20,50,100],"page-size":t.limit,total:t.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:t.pageSizeChangeHandle,onCurrentChange:t.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),t.addOrUpdateVisible?(u(),p(h,{key:0,ref:"addOrUpdate",onRefreshDataList:t.getDataList},null,8,["onRefreshDataList"])):H("",!0)])}var J=E(_,[["render",V]]);export{J as default};
