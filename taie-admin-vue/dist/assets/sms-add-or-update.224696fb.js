import{d as F,a as V,r as t,t as u,u as A,F as d,E as a,H as s,G as m,A as p,J as f,f as K,O as S}from"./vlib.0bb5c6cc.js";import{_ as T,u as h,b as g}from"./index.d126106f.js";import"./monacoeditor.d62c48b5.js";import"./lodash.8cc0d8b0.js";import"./lib.aa75605a.js";const I=F({setup(){return V({visible:!1,dataForm:{id:"",smsCode:"",remark:"",platform:1,config:{aliyunAccessKeyId:"",aliyunAccessKeySecret:"",aliyunSignName:"",aliyunTemplateCode:"",qcloudAppId:"",qcloudAppKey:"",qcloudSignName:"",qcloudTemplateId:"",qiniuAccessKey:"",qiniuSecretKey:"",qiniuTemplateId:""}}})},computed:{dataRule(){return{smsCode:[{required:!0,message:this.$t("validate.required"),trigger:"blur"}],"config.aliyunAccessKeyId":[{required:!0,message:this.$t("validate.required"),trigger:"blur"}],"config.aliyunAccessKeySecret":[{required:!0,message:this.$t("validate.required"),trigger:"blur"}],"config.aliyunSignName":[{required:!0,message:this.$t("validate.required"),trigger:"blur"}],"config.aliyunTemplateCode":[{required:!0,message:this.$t("validate.required"),trigger:"blur"}],"config.qcloudAppId":[{required:!0,message:this.$t("validate.required"),trigger:"blur"}],"config.qcloudAppKey":[{required:!0,message:this.$t("validate.required"),trigger:"blur"}],"config.qcloudSignName":[{required:!0,message:this.$t("validate.required"),trigger:"blur"}],"config.qcloudTemplateId":[{required:!0,message:this.$t("validate.required"),trigger:"blur"}],"config.qiniuAccessKey":[{required:!0,message:this.$t("validate.required"),trigger:"blur"}],"config.qiniuSecretKey":[{required:!0,message:this.$t("validate.required"),trigger:"blur"}],"config.qiniuTemplateId":[{required:!0,message:this.$t("validate.required"),trigger:"blur"}]}}},watch:{"dataForm.platform"(){this.$refs.dataFormRef.clearValidate()}},created(){this.dataFormSubmitHandle=h(this.dataFormSubmitHandle)},methods:{init(){this.visible=!0,this.$nextTick(()=>{this.$refs.dataFormRef.resetFields(),this.dataForm.id&&this.getInfo()})},getInfo(){g.get(`/sys/sms/${this.dataForm.id}`).then(e=>{if(e.code!==0)return this.$message.error(e.msg);this.dataForm={...this.dataForm,...e.data}})},dataFormSubmitHandle(){this.$refs.dataFormRef.validate(e=>{if(!e)return!1;(this.dataForm.id?g.put:g.post)("/sys/sms",this.dataForm).then(l=>{if(l.code!==0)return this.$message.error(l.msg);this.$message({message:this.$t("prompt.success"),type:"success",duration:500,onClose:()=>{this.visible=!1,this.$emit("refreshDataList")}})})})}}});function v(e,l,C,N,k,U){const i=t("el-input"),r=t("el-form-item"),q=t("el-divider"),n=t("el-radio"),c=t("el-radio-group"),$=t("el-form"),y=t("el-button"),b=t("el-dialog");return u(),A(b,{modelValue:e.visible,"onUpdate:modelValue":l[17]||(l[17]=o=>e.visible=o),title:e.dataForm.id?e.$t("update"):e.$t("add"),"close-on-click-modal":!1,"close-on-press-escape":!1},{footer:d(()=>[a(y,{onClick:l[15]||(l[15]=o=>e.visible=!1)},{default:d(()=>[s(m(e.$t("cancel")),1)]),_:1}),a(y,{type:"primary",onClick:l[16]||(l[16]=o=>e.dataFormSubmitHandle())},{default:d(()=>[s(m(e.$t("confirm")),1)]),_:1})]),default:d(()=>[a($,{model:e.dataForm,rules:e.dataRule,ref:"dataFormRef",onKeyup:l[14]||(l[14]=S(o=>e.dataFormSubmitHandle(),["enter"])),"label-width":"120px"},{default:d(()=>[a(r,{prop:"smsCode",label:e.$t("sms.smsCode")},{default:d(()=>[a(i,{modelValue:e.dataForm.smsCode,"onUpdate:modelValue":l[0]||(l[0]=o=>e.dataForm.smsCode=o),placeholder:e.$t("sms.smsCode")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(r,{prop:"remark",label:e.$t("sms.remark")},{default:d(()=>[a(i,{modelValue:e.dataForm.remark,"onUpdate:modelValue":l[1]||(l[1]=o=>e.dataForm.remark=o),placeholder:e.$t("sms.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(q),a(r,{label:e.$t("sms.platform"),size:"small"},{default:d(()=>[a(c,{modelValue:e.dataForm.platform,"onUpdate:modelValue":l[2]||(l[2]=o=>e.dataForm.platform=o)},{default:d(()=>[a(n,{label:1},{default:d(()=>[s(m(e.$t("sms.platform1")),1)]),_:1}),a(n,{label:2},{default:d(()=>[s(m(e.$t("sms.platform2")),1)]),_:1}),a(n,{label:3},{default:d(()=>[s(m(e.$t("sms.platform3")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),e.dataForm.platform===1?(u(),p(f,{key:0},[a(r,{prop:"config.aliyunAccessKeyId",label:e.$t("sms.aliyunAccessKeyId")},{default:d(()=>[a(i,{modelValue:e.dataForm.config.aliyunAccessKeyId,"onUpdate:modelValue":l[3]||(l[3]=o=>e.dataForm.config.aliyunAccessKeyId=o),placeholder:e.$t("sms.aliyunAccessKeyIdTips")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(r,{prop:"config.aliyunAccessKeySecret",label:e.$t("sms.aliyunAccessKeySecret")},{default:d(()=>[a(i,{modelValue:e.dataForm.config.aliyunAccessKeySecret,"onUpdate:modelValue":l[4]||(l[4]=o=>e.dataForm.config.aliyunAccessKeySecret=o),placeholder:e.$t("sms.aliyunAccessKeySecretTips")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(r,{prop:"config.aliyunSignName",label:e.$t("sms.aliyunSignName")},{default:d(()=>[a(i,{modelValue:e.dataForm.config.aliyunSignName,"onUpdate:modelValue":l[5]||(l[5]=o=>e.dataForm.config.aliyunSignName=o),placeholder:e.$t("sms.aliyunSignName")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(r,{prop:"config.aliyunTemplateCode",label:e.$t("sms.aliyunTemplateCode")},{default:d(()=>[a(i,{modelValue:e.dataForm.config.aliyunTemplateCode,"onUpdate:modelValue":l[6]||(l[6]=o=>e.dataForm.config.aliyunTemplateCode=o),placeholder:e.$t("sms.aliyunTemplateCodeTips")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])],64)):e.dataForm.platform===2?(u(),p(f,{key:1},[a(r,{prop:"config.qcloudAppId",label:e.$t("sms.qcloudAppId")},{default:d(()=>[a(i,{modelValue:e.dataForm.config.qcloudAppId,"onUpdate:modelValue":l[7]||(l[7]=o=>e.dataForm.config.qcloudAppId=o),placeholder:e.$t("sms.qcloudAppIdTips")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(r,{prop:"config.qcloudAppKey",label:e.$t("sms.qcloudAppKey")},{default:d(()=>[a(i,{modelValue:e.dataForm.config.qcloudAppKey,"onUpdate:modelValue":l[8]||(l[8]=o=>e.dataForm.config.qcloudAppKey=o),placeholder:e.$t("sms.qcloudAppKeyTips")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(r,{prop:"config.qcloudSignName",label:e.$t("sms.qcloudSignName")},{default:d(()=>[a(i,{modelValue:e.dataForm.config.qcloudSignName,"onUpdate:modelValue":l[9]||(l[9]=o=>e.dataForm.config.qcloudSignName=o),placeholder:e.$t("sms.qcloudSignName")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(r,{prop:"config.qcloudTemplateId",label:e.$t("sms.qcloudTemplateId")},{default:d(()=>[a(i,{modelValue:e.dataForm.config.qcloudTemplateId,"onUpdate:modelValue":l[10]||(l[10]=o=>e.dataForm.config.qcloudTemplateId=o),placeholder:e.$t("sms.qcloudTemplateIdTips")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])],64)):e.dataForm.platform===3?(u(),p(f,{key:2},[a(r,{prop:"config.qiniuAccessKey",label:e.$t("sms.qiniuAccessKey")},{default:d(()=>[a(i,{modelValue:e.dataForm.config.qiniuAccessKey,"onUpdate:modelValue":l[11]||(l[11]=o=>e.dataForm.config.qiniuAccessKey=o),placeholder:e.$t("sms.qiniuAccessKeyTips")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(r,{prop:"config.qiniuSecretKey",label:e.$t("sms.qiniuSecretKey")},{default:d(()=>[a(i,{modelValue:e.dataForm.config.qiniuSecretKey,"onUpdate:modelValue":l[12]||(l[12]=o=>e.dataForm.config.qiniuSecretKey=o),placeholder:e.$t("sms.qiniuSecretKeyTips")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(r,{prop:"config.qiniuTemplateId",label:e.$t("sms.qiniuTemplateId")},{default:d(()=>[a(i,{modelValue:e.dataForm.config.qiniuTemplateId,"onUpdate:modelValue":l[13]||(l[13]=o=>e.dataForm.config.qiniuTemplateId=o),placeholder:e.$t("sms.qiniuTemplateIdTips")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])],64)):K("",!0)]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}var E=T(I,[["render",v]]);export{E as default};
