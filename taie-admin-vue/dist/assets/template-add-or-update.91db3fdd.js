import{d as v,a as V,r as u,t as A,A as D,F as a,G as o,I as s}from"./vlib.73c86f1d.js";import{w as h,_ as E,j as $,b as m}from"./index.bc4fd47c.js";import{M as c}from"./index.c53cfe2f.js";import"./monacoeditor.d62c48b5.js";import"./lodash.58534d7e.js";import"./lib.e5e0e84e.js";var B=h(c);const C=v({components:{MonacoEditor:B},setup(){return V({visible:!1,dataForm:{id:"",name:"",content:"",fileName:"",path:"",status:0}})},computed:{dataRule(){return{name:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],content:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],path:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],fileName:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}}},created(){this.dataFormSubmitHandle=$(this.dataFormSubmitHandle)},methods:{init(){this.visible=!0,this.$nextTick(()=>{this.$refs.dataFormRef.resetFields(),this.dataForm.id&&this.getInfo()})},getInfo(){m.get(`/devtools/template/${this.dataForm.id}`).then(t=>{if(t.code!==0)return this.$message.error(t.msg);this.dataForm={...this.dataForm,...t.data}})},dataFormSubmitHandle(){this.$refs.dataFormRef.validate(t=>{if(!t)return!1;(this.dataForm.id?m.put:m.post)("/devtools/template",this.dataForm).then(e=>{if(e.code!==0)return this.$message.error(e.msg);this.$message({message:this.$t("prompt.success"),type:"success",duration:500,onClose:()=>{this.visible=!1,this.$emit("refreshDataList")}})})})}}}),w={class:"template-code"};function U(t,e,y,N,k,R){const n=u("el-input"),d=u("el-form-item"),r=u("el-col"),i=u("el-row"),p=u("el-radio"),F=u("el-radio-group"),g=u("monaco-editor"),_=u("el-form"),f=u("el-button"),b=u("el-dialog");return A(),D("div",w,[a(b,{modelValue:t.visible,"onUpdate:modelValue":e[7]||(e[7]=l=>t.visible=l),title:t.dataForm.id?"\u7F16\u8F91":"\u65B0\u589E","close-on-click-modal":!1,"close-on-press-escape":!1,fullscreen:!0},{footer:o(()=>[a(f,{onClick:e[5]||(e[5]=l=>t.visible=!1)},{default:o(()=>e[10]||(e[10]=[s("\u53D6\u6D88")])),_:1}),a(f,{type:"primary",onClick:e[6]||(e[6]=l=>t.dataFormSubmitHandle())},{default:o(()=>e[11]||(e[11]=[s("\u786E\u5B9A")])),_:1})]),default:o(()=>[a(_,{model:t.dataForm,rules:t.dataRule,ref:"dataFormRef","label-width":"80px",size:"small"},{default:o(()=>[a(i,{gutter:24},{default:o(()=>[a(r,{span:12},{default:o(()=>[a(d,{label:"\u6A21\u677F\u540D",prop:"name"},{default:o(()=>[a(n,{modelValue:t.dataForm.name,"onUpdate:modelValue":e[0]||(e[0]=l=>t.dataForm.name=l),placeholder:"\u6A21\u677F\u540D"},null,8,["modelValue"])]),_:1})]),_:1}),a(r,{span:12},{default:o(()=>[a(d,{label:"\u6587\u4EF6\u540D",prop:"fileName"},{default:o(()=>[a(n,{modelValue:t.dataForm.fileName,"onUpdate:modelValue":e[1]||(e[1]=l=>t.dataForm.fileName=l),placeholder:"\u6587\u4EF6\u540D"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(i,{gutter:24},{default:o(()=>[a(r,{span:12},{default:o(()=>[a(d,{label:"\u751F\u6210\u8DEF\u5F84",prop:"path"},{default:o(()=>[a(n,{modelValue:t.dataForm.path,"onUpdate:modelValue":e[2]||(e[2]=l=>t.dataForm.path=l),placeholder:"\u751F\u6210\u8DEF\u5F84"},null,8,["modelValue"])]),_:1})]),_:1}),a(r,{span:12},{default:o(()=>[a(d,{label:"\u72B6\u6001",prop:"status"},{default:o(()=>[a(F,{modelValue:t.dataForm.status,"onUpdate:modelValue":e[3]||(e[3]=l=>t.dataForm.status=l)},{default:o(()=>[a(p,{label:0},{default:o(()=>e[8]||(e[8]=[s("\u542F\u7528")])),_:1}),a(p,{label:1},{default:o(()=>e[9]||(e[9]=[s("\u7981\u7528")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(d,{label:"\u5185\u5BB9",prop:"content"},{default:o(()=>[a(g,{class:"editor",modelValue:t.dataForm.content,"onUpdate:modelValue":e[4]||(e[4]=l=>t.dataForm.content=l),theme:"vs",language:"java",style:{width:"100%",height:"480px",border:"1px solid #ccc"}},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])}var O=E(C,[["render",U],["__file","/Users/luochen/project17/taie-sword/taie-admin-vue/src/views/devtools/template-add-or-update.vue"]]);export{O as default};
