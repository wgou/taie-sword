import{u as _}from"./useView.d7e741d1.js";import y from"./oss-config.ce1dbda6.js";import k from"./oss-upload.10a82c55.js";import{_ as v}from"./index.c9acb6bc.js";import{d as L,a as H,$ as D,r as n,y as S,t as r,A as V,E as t,F as a,H as d,G as p,z as w,u as g,f as m}from"./vlib.0bb5c6cc.js";import"./monacoeditor.d62c48b5.js";import"./lodash.8cc0d8b0.js";import"./lib.aa75605a.js";const z=L({components:{Config:y,Upload:k},setup(){const e=H({getDataListURL:"/sys/oss/page",getDataListIsPage:!0,deleteURL:"/sys/oss",deleteIsBatch:!0,dataForm:{},configVisible:!1,uploadVisible:!1});return{..._(e),...D(e)}},methods:{configHandle(){this.configVisible=!0,this.$nextTick(()=>{this.$refs.config.init()})},uploadHandle(){this.uploadVisible=!0,this.$nextTick(()=>{this.$refs.upload.init()})}}}),B={class:"mod-oss__oss"};function R(e,o,F,N,T,U){const l=n("el-button"),u=n("el-form-item"),f=n("el-form"),i=n("el-table-column"),c=n("el-table"),h=n("el-pagination"),C=n("config"),b=n("upload"),$=S("loading");return r(),V("div",B,[t(f,{inline:!0,model:e.dataForm},{default:a(()=>[t(u,null,{default:a(()=>[t(l,{type:"primary",onClick:o[0]||(o[0]=s=>e.configHandle())},{default:a(()=>[d(p(e.$t("oss.config")),1)]),_:1})]),_:1}),t(u,null,{default:a(()=>[t(l,{type:"primary",onClick:o[1]||(o[1]=s=>e.uploadHandle())},{default:a(()=>[d(p(e.$t("oss.upload")),1)]),_:1})]),_:1}),t(u,null,{default:a(()=>[t(l,{type:"danger",onClick:o[2]||(o[2]=s=>e.deleteHandle())},{default:a(()=>[d(p(e.$t("deleteBatch")),1)]),_:1})]),_:1})]),_:1},8,["model"]),w((r(),g(c,{data:e.dataList,border:"",onSelectionChange:e.dataListSelectionChangeHandle,onSortChange:e.dataListSortChangeHandle,style:{width:"100%"}},{default:a(()=>[t(i,{type:"selection","header-align":"center",align:"center",width:"50"}),t(i,{prop:"url",label:e.$t("oss.url"),"header-align":"center",align:"center"},null,8,["label"]),t(i,{prop:"createDate",label:e.$t("oss.createDate"),sortable:"custom","header-align":"center",align:"center",width:"180"},null,8,["label"]),t(i,{label:e.$t("handle"),fixed:"right","header-align":"center",align:"center",width:"150"},{default:a(s=>[t(l,{type:"primary",link:"",onClick:E=>e.deleteHandle(s.row.id)},{default:a(()=>[d(p(e.$t("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data","onSelectionChange","onSortChange"])),[[$,e.dataListLoading]]),t(h,{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.pageSizeChangeHandle,onCurrentChange:e.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),e.configVisible?(r(),g(C,{key:0,ref:"config"},null,512)):m("",!0),e.uploadVisible?(r(),g(b,{key:1,ref:"upload",onRefreshDataList:e.getDataList},null,8,["onRefreshDataList"])):m("",!0)])}var M=v(z,[["render",R]]);export{M as default};
