import{d as u,e as c,a1 as i,o as m,w as n,g as _,t as g,A as f}from"./vlib.73c86f1d.js";import{e as s}from"./monacoeditor.d62c48b5.js";import{_ as p}from"./index.bc4fd47c.js";function v(){return new Worker("./assets/editor.worker.e64733d1.js",{type:"module"})}const h=u({name:"vsCode",props:{modelValue:{type:String,default:""},theme:{type:String,default:"vs"},language:{type:String,default:"json"},options:Object},emits:["change","update:modelValue"],setup(t,{emit:d}){const r=c(),a=i(),l=window;return l.MonacoEnvironment={getWorker(){return new v}},m(()=>{const o=s.create(r.value,{model:s.createModel(t.modelValue,t.language),tabSize:2,automaticLayout:!0,scrollBeyondLastLine:!1,theme:t.theme,...t.options});a.value=o,o.onDidChangeModelContent(()=>{const e=o.getValue();d("update:modelValue",e),d("change",e)}),n(()=>t.modelValue,e=>{e!==o.getValue()&&o.setValue(e)}),n(()=>t.theme,e=>{s.setTheme(e)}),n(()=>t.language,e=>{s.setModelLanguage(o.getModel(),e)}),n(()=>t.options,e=>{o.updateOptions(e)})}),_(()=>{a.value&&a.value.dispose()}),{dom:r}}}),w={class:"editor",ref:"dom"};function y(t,d,r,a,l,o){return g(),f("div",w,null,512)}var x=p(h,[["render",y],["__scopeId","data-v-747c721c"],["__file","/Users/luochen/project17/taie-sword/taie-admin-vue/src/components/monaco-editor/index.vue"]]);export{x as M};
