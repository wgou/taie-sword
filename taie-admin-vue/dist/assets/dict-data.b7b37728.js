import{u as v}from"./useView.b2a319db.js";import{d as L,a as k,a0 as V,r as i,y as D,t as r,A as U,F as t,G as a,I as m,H as c,u as o,f as s,P as F,z as w}from"./vlib.73c86f1d.js";import I from"./dict-data-add-or-update.5292fa22.js";import{_ as T}from"./index.bc4fd47c.js";import"./monacoeditor.d62c48b5.js";import"./lodash.58534d7e.js";import"./lib.e5e0e84e.js";const S=L({components:{AddOrUpdate:I},props:{dictTypeId:String},setup(){const e=k({createdIsNeed:!1,getDataListURL:"/sys/dict/data/page",getDataListIsPage:!0,deleteURL:"/sys/dict/data",deleteIsBatch:!0,dataForm:{dictTypeId:"0",dictLabel:"",dictValue:""}});return{...v(e),...V(e)}},created(){this.dataForm.dictTypeId=this.dictTypeId,this.getDataList()},watch:{dictTypeId(){this.dataForm.dictTypeId=this.dictTypeId,this.getDataList()}},methods:{addOrUpdateHandleX(e){this.addOrUpdateVisible=!0,this.$nextTick(()=>{this.$refs.addOrUpdate.dataForm.id=e,this.$refs.addOrUpdate.dataForm.dictTypeId=this.dataForm.dictTypeId,this.$refs.addOrUpdate.init()})}}}),H={class:"mod-sys__dict"};function O(e,l,z,B,P,_){const g=i("el-input"),p=i("el-form-item"),u=i("el-button"),h=i("el-form"),n=i("el-table-column"),f=i("el-table"),y=i("el-pagination"),b=i("add-or-update"),$=D("loading");return r(),U("div",H,[t(h,{inline:!0,model:e.dataForm,onKeyup:l[5]||(l[5]=F(d=>e.getDataList(),["enter"]))},{default:a(()=>[t(p,null,{default:a(()=>[t(g,{modelValue:e.dataForm.dictValue,"onUpdate:modelValue":l[0]||(l[0]=d=>e.dataForm.dictValue=d),placeholder:e.$t("dict.dictValue"),clearable:""},null,8,["modelValue","placeholder"])]),_:1}),t(p,null,{default:a(()=>[t(g,{modelValue:e.dataForm.dictLabel,"onUpdate:modelValue":l[1]||(l[1]=d=>e.dataForm.dictLabel=d),placeholder:e.$t("dict.dictLabel"),clearable:""},null,8,["modelValue","placeholder"])]),_:1}),t(p,null,{default:a(()=>[t(u,{onClick:l[2]||(l[2]=d=>e.getDataList())},{default:a(()=>[m(c(e.$t("query")),1)]),_:1})]),_:1}),t(p,null,{default:a(()=>[e.hasPermission("sys:dict:save")?(r(),o(u,{key:0,type:"primary",onClick:l[3]||(l[3]=d=>e.addOrUpdateHandleX())},{default:a(()=>[m(c(e.$t("add")),1)]),_:1})):s("v-if",!0)]),_:1}),t(p,null,{default:a(()=>[e.hasPermission("sys:dict:delete")?(r(),o(u,{key:0,type:"danger",onClick:l[4]||(l[4]=d=>e.deleteHandle())},{default:a(()=>[m(c(e.$t("deleteBatch")),1)]),_:1})):s("v-if",!0)]),_:1})]),_:1},8,["model"]),w((r(),o(f,{data:e.dataList,border:"",onSelectionChange:e.dataListSelectionChangeHandle,onSortChange:e.dataListSortChangeHandle,style:{width:"100%"}},{default:a(()=>[t(n,{type:"selection","header-align":"center",align:"center",width:"50"}),t(n,{prop:"dictValue",label:e.$t("dict.dictValue"),"header-align":"center",align:"center"},null,8,["label"]),t(n,{prop:"dictLabel",label:e.$t("dict.dictLabel"),"header-align":"center",align:"center"},null,8,["label"]),t(n,{prop:"sort",label:e.$t("dict.sort"),sortable:"custom","header-align":"center",align:"center"},null,8,["label"]),t(n,{prop:"remark",label:e.$t("dict.remark"),"header-align":"center",align:"center"},null,8,["label"]),t(n,{prop:"createDate",label:e.$t("dict.createDate"),sortable:"custom","header-align":"center",align:"center",width:"180"},null,8,["label"]),t(n,{label:e.$t("handle"),fixed:"right","header-align":"center",align:"center",width:"150"},{default:a(d=>[e.hasPermission("sys:dict:update")?(r(),o(u,{key:0,type:"primary",link:"",onClick:C=>e.addOrUpdateHandleX(d.row.id)},{default:a(()=>[m(c(e.$t("update")),1)]),_:2},1032,["onClick"])):s("v-if",!0),e.hasPermission("sys:dict:delete")?(r(),o(u,{key:1,type:"primary",link:"",onClick:C=>e.deleteHandle(d.row.id)},{default:a(()=>[m(c(e.$t("delete")),1)]),_:2},1032,["onClick"])):s("v-if",!0)]),_:1},8,["label"])]),_:1},8,["data","onSelectionChange","onSortChange"])),[[$,e.dataListLoading]]),t(y,{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.pageSizeChangeHandle,onCurrentChange:e.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),s(" \u5F39\u7A97, \u65B0\u589E / \u4FEE\u6539 "),e.addOrUpdateVisible?(r(),o(b,{key:0,ref:"addOrUpdate",onRefreshDataList:e.getDataList},null,8,["onRefreshDataList"])):s("v-if",!0)])}var q=T(S,[["render",O],["__file","/Users/luochen/project17/taie-sword/taie-admin-vue/src/views/sys/dict-data.vue"]]);export{q as default};
