import{u as b}from"./useView.7a1c979e.js";import{d as w,a as v,a0 as C,r as d,y as L,t as a,A as f,F as l,G as t,u as o,I as i,H as s,f as u,P as D,z as U,B as S}from"./vlib.611ed292.js";import V from"./menu-add-or-update.688dd3b5.js";import{_ as B}from"./index.a08d64ed.js";import"./monacoeditor.d62c48b5.js";import"./lodash.78aef77c.js";import"./lib.18273bf4.js";const H=w({components:{AddOrUpdate:V},setup(){const e=v({getDataListURL:"/sys/menu/list",deleteURL:"/sys/menu"});return{...b(e),...C(e)}}}),O={class:"mod-sys__menu"},P={class:"iconfont","aria-hidden":"true"},R=["xlink:href"],T={key:0};function N(e,m,A,F,K,z){const p=d("el-button"),h=d("el-form-item"),g=d("el-form"),r=d("el-table-column"),y=d("el-tag"),k=d("el-table"),_=d("add-or-update"),$=L("loading");return a(),f("div",O,[l(g,{inline:!0,model:e.dataForm,onKeyup:m[1]||(m[1]=D(n=>e.getDataList(),["enter"]))},{default:t(()=>[l(h,null,{default:t(()=>[e.hasPermission("sys:menu:save")?(a(),o(p,{key:0,type:"primary",onClick:m[0]||(m[0]=n=>e.addOrUpdateHandle())},{default:t(()=>[i(s(e.$t("add")),1)]),_:1})):u("",!0)]),_:1})]),_:1},8,["model"]),U((a(),o(k,{data:e.dataList,"row-key":"id",border:"",style:{width:"100%"}},{default:t(()=>[l(r,{prop:"name",label:e.$t("menu.name"),"header-align":"center","min-width":"150"},null,8,["label"]),l(r,{prop:"icon",label:e.$t("menu.icon"),"header-align":"center",align:"center"},{default:t(n=>[(a(),f("svg",P,[S("use",{"xlink:href":`#${n.row.icon}`},null,8,R)]))]),_:1},8,["label"]),l(r,{prop:"menuType",label:e.$t("menu.type"),"header-align":"center",align:"center"},{default:t(n=>[n.row.menuType===0?(a(),o(y,{key:0},{default:t(()=>[i(s(e.$t("menu.type0")),1)]),_:1})):(a(),o(y,{key:1,type:"info"},{default:t(()=>[i(s(e.$t("menu.type1")),1)]),_:1}))]),_:1},8,["label"]),l(r,{prop:"openStyle",label:e.$t("menu.openStyle"),"header-align":"center",align:"center"},{default:t(n=>[n.row.menuType!==0?(a(),f("span",T)):n.row.openStyle===1?(a(),o(y,{key:1},{default:t(()=>[i(s(e.$t("menu.openStyle1")),1)]),_:1})):(a(),o(y,{key:2,type:"info"},{default:t(()=>[i(s(e.$t("menu.openStyle0")),1)]),_:1}))]),_:1},8,["label"]),l(r,{prop:"sort",label:e.$t("menu.sort"),"header-align":"center",align:"center"},null,8,["label"]),l(r,{prop:"url",label:e.$t("menu.url"),"header-align":"center",align:"center",width:"150","show-overflow-tooltip":!0},null,8,["label"]),l(r,{prop:"permissions",label:e.$t("menu.permissions"),"header-align":"center",align:"center",width:"150","show-overflow-tooltip":!0},null,8,["label"]),l(r,{label:e.$t("handle"),fixed:"right","header-align":"center",align:"center",width:"170"},{default:t(n=>[e.hasPermission("sys:menu:save")&&n.row.menuType===0?(a(),o(p,{key:0,type:"primary",link:"",onClick:c=>e.addHandle(n.row)},{default:t(()=>[i(s(e.$t("add")),1)]),_:2},1032,["onClick"])):u("",!0),e.hasPermission("sys:menu:update")?(a(),o(p,{key:1,type:"primary",link:"",onClick:c=>e.addOrUpdateHandle(n.row.id)},{default:t(()=>[i(s(e.$t("update")),1)]),_:2},1032,["onClick"])):u("",!0),e.hasPermission("sys:menu:delete")?(a(),o(p,{key:2,type:"primary",link:"",onClick:c=>e.deleteHandle(n.row.id)},{default:t(()=>[i(s(e.$t("delete")),1)]),_:2},1032,["onClick"])):u("",!0)]),_:1},8,["label"])]),_:1},8,["data"])),[[$,e.dataListLoading]]),e.addOrUpdateVisible?(a(),o(_,{key:0,ref:"addOrUpdate",onRefreshDataList:e.getDataList},null,8,["onRefreshDataList"])):u("",!0)])}var Q=B(H,[["render",N]]);export{Q as default};
