import{u as c}from"./useView.71b197a7.js";import{d as v,a as L,$ as _,r,y as D,t as o,A as V,E as a,F as t,H as p,G as m,u as s,f as u,O as w,z}from"./vlib.0bb5c6cc.js";import H from"./params-add-or-update.e05e5bcf.js";import{_ as U}from"./index.3a8d87d2.js";import"./monacoeditor.d62c48b5.js";import"./lodash.8cc0d8b0.js";import"./lib.aa75605a.js";const S=v({components:{AddOrUpdate:H},setup(){const e=L({getDataListURL:"/sys/params/page",getDataListIsPage:!0,deleteURL:"/sys/params",deleteIsBatch:!0,dataForm:{paramCode:""}});return{...c(e),..._(e)}}}),O={class:"mod-sys__params"};function B(e,n,F,P,R,N){const f=r("el-input"),g=r("el-form-item"),d=r("el-button"),C=r("el-form"),i=r("el-table-column"),y=r("el-table"),h=r("el-pagination"),$=r("add-or-update"),k=D("loading");return o(),V("div",O,[a(C,{inline:!0,model:e.dataForm,onKeyup:n[4]||(n[4]=w(l=>e.getDataList(),["enter"]))},{default:t(()=>[a(g,null,{default:t(()=>[a(f,{modelValue:e.dataForm.paramCode,"onUpdate:modelValue":n[0]||(n[0]=l=>e.dataForm.paramCode=l),placeholder:e.$t("params.paramCode"),clearable:""},null,8,["modelValue","placeholder"])]),_:1}),a(g,null,{default:t(()=>[a(d,{onClick:n[1]||(n[1]=l=>e.getDataList())},{default:t(()=>[p(m(e.$t("query")),1)]),_:1})]),_:1}),a(g,null,{default:t(()=>[e.hasPermission("sys:params:save")?(o(),s(d,{key:0,type:"primary",onClick:n[2]||(n[2]=l=>e.addOrUpdateHandle())},{default:t(()=>[p(m(e.$t("add")),1)]),_:1})):u("",!0)]),_:1}),a(g,null,{default:t(()=>[e.hasPermission("sys:params:delete")?(o(),s(d,{key:0,type:"danger",onClick:n[3]||(n[3]=l=>e.deleteHandle())},{default:t(()=>[p(m(e.$t("deleteBatch")),1)]),_:1})):u("",!0)]),_:1})]),_:1},8,["model"]),z((o(),s(y,{data:e.dataList,border:"",onSelectionChange:e.dataListSelectionChangeHandle,style:{width:"100%"}},{default:t(()=>[a(i,{type:"selection","header-align":"center",align:"center",width:"50"}),a(i,{prop:"paramCode",label:e.$t("params.paramCode"),"header-align":"center",align:"center"},null,8,["label"]),a(i,{prop:"paramValue",label:e.$t("params.paramValue"),"header-align":"center",align:"center"},null,8,["label"]),a(i,{prop:"remark",label:e.$t("params.remark"),"header-align":"center",align:"center"},null,8,["label"]),a(i,{label:e.$t("handle"),fixed:"right","header-align":"center",align:"center",width:"150"},{default:t(l=>[e.hasPermission("sys:params:update")?(o(),s(d,{key:0,type:"primary",link:"",onClick:b=>e.addOrUpdateHandle(l.row.id)},{default:t(()=>[p(m(e.$t("update")),1)]),_:2},1032,["onClick"])):u("",!0),e.hasPermission("sys:params:delete")?(o(),s(d,{key:1,type:"primary",link:"",onClick:b=>e.deleteHandle(l.row.id)},{default:t(()=>[p(m(e.$t("delete")),1)]),_:2},1032,["onClick"])):u("",!0)]),_:1},8,["label"])]),_:1},8,["data","onSelectionChange"])),[[k,e.dataListLoading]]),a(h,{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.pageSizeChangeHandle,onCurrentChange:e.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),e.addOrUpdateVisible?(o(),s($,{key:0,ref:"addOrUpdate",onRefreshDataList:e.getDataList},null,8,["onRefreshDataList"])):u("",!0)])}var T=U(S,[["render",B]]);export{T as default};
