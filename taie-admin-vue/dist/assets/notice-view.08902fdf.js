import{u as f}from"./useView.b2a319db.js";import{d as F,a as b,a0 as C,r as i,y as $,t as d,A as S,B as a,H as n,F as o,I as r,z as D,u,G as s,K as z}from"./vlib.73c86f1d.js";import{_ as L,b as N}from"./index.bc4fd47c.js";import"./monacoeditor.d62c48b5.js";import"./lodash.58534d7e.js";import"./lib.e5e0e84e.js";const w=F({setup(){const e=b({getDataListURL:"/sys/notice/user/page",createdIsNeed:!1,activatedIsNeed:!1,getDataListIsPage:!0,dataForm:{id:"",noticeType:0,senderDate:"",senderName:"",content:"",title:""}});return{...f(e),...C(e)}},created(){this.init()},methods:{init(){this.dataForm.id=this.$route.query.id,this.dataList=[],this.dataForm.content="",this.dataForm.senderDate="",this.dataForm.senderName="",this.dataForm.title="",this.getInfo(),this.query()},getInfo(){N.get(`/sys/notice/${this.dataForm.id}`).then(e=>{if(e.code!==0)return this.$message.error(e.msg);this.dataForm={...this.dataForm,...e.data}})}}}),_={style:{"text-align":"center","font-size":"28px"}},k=["innerHTML"],H={style:{"text-align":"center"}};function I(e,t,T,B,V,A){const l=i("el-divider"),p=i("el-table-column"),c=i("el-tag"),g=i("el-table"),h=i("el-pagination"),v=i("el-button"),y=$("loading");return d(),S(z,null,[a("div",_,n(e.dataForm.title),1),o(l),a("div",{innerHTML:e.dataForm.content},null,8,k),a("div",null,[t[4]||(t[4]=a("hr",{size:"1",color:"#ddd",style:{margin:"30px 0 10px 0"}},null,-1)),a("span",null,[t[1]||(t[1]=a("i",{class:"el-icon-user-solid",style:{color:"#e6444a"}},null,-1)),r(" "+n(e.$t("notice.senderName"))+"\uFF1A"+n(e.dataForm.senderName),1)]),o(l,{direction:"vertical"}),a("span",null,[t[2]||(t[2]=a("i",{class:"el-icon-time",style:{color:"#e6444a"}},null,-1)),r(" "+n(e.$t("notice.senderDate"))+"\uFF1A"+n(e.dataForm.senderDate),1)]),o(l,{direction:"vertical",style:{margin:"0px",padding:"0px"}}),a("span",null,[t[3]||(t[3]=a("i",{class:"el-icon-s-order",style:{color:"#e6a23c"}},null,-1)),r(" "+n(e.$t("notice.type"))+"\uFF1A "+n(e.getDictLabel("notice_type",e.dataForm.noticeType)),1)]),t[5]||(t[5]=a("hr",{size:"1",color:"#ddd",style:{margin:"10px 0 30px 0"}},null,-1))]),D((d(),u(g,{data:e.dataList,border:"",onSelectionChange:e.dataListSelectionChangeHandle,style:{width:"100%"}},{default:s(()=>[o(p,{prop:"receiverName",label:e.$t("notice.receiverName"),"header-align":"center",align:"center"},null,8,["label"]),o(p,{prop:"readStatus",label:e.$t("notice.readStatus"),"header-align":"center",align:"center"},{default:s(m=>[m.row.readStatus===0?(d(),u(c,{key:0,type:"danger"},{default:s(()=>[r(n(e.$t("notice.readStatus0")),1)]),_:1})):(d(),u(c,{key:1,type:"success"},{default:s(()=>[r(n(e.$t("notice.readStatus1")),1)]),_:1}))]),_:1},8,["label"]),o(p,{prop:"readDate",label:e.$t("notice.readDate"),"header-align":"center",align:"center"},null,8,["label"])]),_:1},8,["data","onSelectionChange"])),[[y,e.dataListLoading]]),o(h,{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.pageSizeChangeHandle,onCurrentChange:e.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),o(l),a("div",H,[o(v,{type:"danger",onClick:t[0]||(t[0]=m=>e.closeCurrentTab())},{default:s(()=>[r(n(e.$t("notice.close")),1)]),_:1})])],64)}var G=L(w,[["render",I],["__file","/Users/luochen/project17/taie-sword/taie-admin-vue/src/views/notice/notice-view.vue"]]);export{G as default};
