import{u as $}from"./useView.b2a319db.js";import{d as v,a as y,a0 as k,r as n,y as L,t as r,A as D,F as t,G as a,I as d,H as u,z as H,u as f,f as p}from"./vlib.73c86f1d.js";import w from"./oss-config.819fa3ea.js";import S from"./oss-upload.5a72a10b.js";import{_ as V}from"./index.bc4fd47c.js";import"./monacoeditor.d62c48b5.js";import"./lodash.58534d7e.js";import"./lib.e5e0e84e.js";const z=v({components:{Config:w,Upload:S},setup(){const e=y({getDataListURL:"/sys/oss/page",getDataListIsPage:!0,deleteURL:"/sys/oss",deleteIsBatch:!0,dataForm:{},configVisible:!1,uploadVisible:!1});return{...$(e),...k(e)}},methods:{configHandle(){this.configVisible=!0,this.$nextTick(()=>{this.$refs.config.init()})},uploadHandle(){this.uploadVisible=!0,this.$nextTick(()=>{this.$refs.upload.init()})}}}),F={class:"mod-oss__oss"};function B(e,o,A,E,R,U){const l=n("el-button"),g=n("el-form-item"),m=n("el-form"),i=n("el-table-column"),c=n("el-table"),h=n("el-pagination"),C=n("config"),_=n("upload"),b=L("loading");return r(),D("div",F,[t(m,{inline:!0,model:e.dataForm},{default:a(()=>[t(g,null,{default:a(()=>[t(l,{type:"primary",onClick:o[0]||(o[0]=s=>e.configHandle())},{default:a(()=>[d(u(e.$t("oss.config")),1)]),_:1})]),_:1}),t(g,null,{default:a(()=>[t(l,{type:"primary",onClick:o[1]||(o[1]=s=>e.uploadHandle())},{default:a(()=>[d(u(e.$t("oss.upload")),1)]),_:1})]),_:1}),t(g,null,{default:a(()=>[t(l,{type:"danger",onClick:o[2]||(o[2]=s=>e.deleteHandle())},{default:a(()=>[d(u(e.$t("deleteBatch")),1)]),_:1})]),_:1})]),_:1},8,["model"]),H((r(),f(c,{data:e.dataList,border:"",onSelectionChange:e.dataListSelectionChangeHandle,onSortChange:e.dataListSortChangeHandle,style:{width:"100%"}},{default:a(()=>[t(i,{type:"selection","header-align":"center",align:"center",width:"50"}),t(i,{prop:"url",label:e.$t("oss.url"),"header-align":"center",align:"center"},null,8,["label"]),t(i,{prop:"createDate",label:e.$t("oss.createDate"),sortable:"custom","header-align":"center",align:"center",width:"180"},null,8,["label"]),t(i,{label:e.$t("handle"),fixed:"right","header-align":"center",align:"center",width:"150"},{default:a(s=>[t(l,{type:"primary",link:"",onClick:I=>e.deleteHandle(s.row.id)},{default:a(()=>[d(u(e.$t("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data","onSelectionChange","onSortChange"])),[[b,e.dataListLoading]]),t(h,{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.pageSizeChangeHandle,onCurrentChange:e.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),p(" \u5F39\u7A97, \u4E91\u5B58\u50A8\u914D\u7F6E "),e.configVisible?(r(),f(C,{key:0,ref:"config"},null,512)):p("v-if",!0),p(" \u5F39\u7A97, \u4E0A\u4F20\u6587\u4EF6 "),e.uploadVisible?(r(),f(_,{key:1,ref:"upload",onRefreshDataList:e.getDataList},null,8,["onRefreshDataList"])):p("v-if",!0)])}var M=V(z,[["render",B],["__file","/Users/luochen/project17/taie-sword/taie-admin-vue/src/views/oss/oss.vue"]]);export{M as default};
