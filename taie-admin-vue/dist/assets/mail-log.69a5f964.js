import{u as v}from"./useView.385d0769.js";import{d as L,a as V,$ as _,r as o,y as F,t as m,A as k,E as l,F as a,H as s,G as d,O as w,z,u as p}from"./vlib.0bb5c6cc.js";import{_ as S}from"./index.d126106f.js";import"./monacoeditor.d62c48b5.js";import"./lodash.8cc0d8b0.js";import"./lib.aa75605a.js";const D=L({setup(){const e=V({getDataListURL:"/sys/maillog/page",getDataListIsPage:!0,deleteURL:"/sys/maillog",deleteIsBatch:!0,dataForm:{templateId:"",mailTo:"",status:null}});return{...v(e),..._(e)}}}),I={class:"mod-message__mail-log"};function H(e,t,T,B,U,j){const g=o("el-input"),i=o("el-form-item"),b=o("el-option"),f=o("el-select"),u=o("el-button"),h=o("el-form"),r=o("el-table-column"),c=o("el-tag"),$=o("el-table"),C=o("el-pagination"),y=F("loading");return m(),k("div",I,[l(h,{inline:!0,model:e.dataForm,onKeyup:t[5]||(t[5]=w(n=>e.getDataList(),["enter"]))},{default:a(()=>[l(i,null,{default:a(()=>[l(g,{modelValue:e.dataForm.templateId,"onUpdate:modelValue":t[0]||(t[0]=n=>e.dataForm.templateId=n),placeholder:e.$t("mail.templateId"),clearable:""},null,8,["modelValue","placeholder"])]),_:1}),l(i,null,{default:a(()=>[l(g,{modelValue:e.dataForm.mailTo,"onUpdate:modelValue":t[1]||(t[1]=n=>e.dataForm.mailTo=n),placeholder:e.$t("mail.mailTo"),clearable:""},null,8,["modelValue","placeholder"])]),_:1}),l(i,null,{default:a(()=>[l(f,{modelValue:e.dataForm.status,"onUpdate:modelValue":t[2]||(t[2]=n=>e.dataForm.status=n),placeholder:e.$t("mail.status"),clearable:""},{default:a(()=>[l(b,{label:e.$t("mail.status1"),value:1},null,8,["label"]),l(b,{label:e.$t("mail.status0"),value:0},null,8,["label"])]),_:1},8,["modelValue","placeholder"])]),_:1}),l(i,null,{default:a(()=>[l(u,{onClick:t[3]||(t[3]=n=>e.getDataList())},{default:a(()=>[s(d(e.$t("query")),1)]),_:1})]),_:1}),l(i,null,{default:a(()=>[l(u,{type:"danger",onClick:t[4]||(t[4]=n=>e.deleteHandle())},{default:a(()=>[s(d(e.$t("deleteBatch")),1)]),_:1})]),_:1})]),_:1},8,["model"]),z((m(),p($,{data:e.dataList,border:"",onSelectionChange:e.dataListSelectionChangeHandle,onSortChange:e.dataListSortChangeHandle,style:{width:"100%"}},{default:a(()=>[l(r,{type:"selection","header-align":"center",align:"center",width:"50"}),l(r,{prop:"templateId",label:e.$t("mail.templateId"),sortable:"custom","header-align":"center",align:"center"},null,8,["label"]),l(r,{prop:"mailFrom",label:e.$t("mail.mailFrom"),"header-align":"center",align:"center"},null,8,["label"]),l(r,{prop:"mailTo",label:e.$t("mail.mailTo"),"header-align":"center",align:"center"},null,8,["label"]),l(r,{prop:"mailCc",label:e.$t("mail.mailCc"),"header-align":"center",align:"center"},null,8,["label"]),l(r,{prop:"subject",label:e.$t("mail.subject"),"header-align":"center",align:"center"},null,8,["label"]),l(r,{prop:"status",label:e.$t("mail.status"),sortable:"custom","header-align":"center",align:"center"},{default:a(n=>[n.row.status===1?(m(),p(c,{key:0,size:"small"},{default:a(()=>[s(d(e.$t("mail.status1")),1)]),_:1})):(m(),p(c,{key:1,size:"small",type:"danger"},{default:a(()=>[s(d(e.$t("mail.status0")),1)]),_:1}))]),_:1},8,["label"]),l(r,{prop:"createDate",label:e.$t("mail.createDate"),sortable:"custom","header-align":"center",align:"center",width:"180"},null,8,["label"]),l(r,{label:e.$t("handle"),fixed:"right","header-align":"center",align:"center",width:"150"},{default:a(n=>[l(u,{type:"primary",link:"",onClick:R=>e.deleteHandle(n.row.id)},{default:a(()=>[s(d(e.$t("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data","onSelectionChange","onSortChange"])),[[y,e.dataListLoading]]),l(C,{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.pageSizeChangeHandle,onCurrentChange:e.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])}var O=S(D,[["render",H]]);export{O as default};
