import{u as f}from"./useView.2c586aec.js";import{_ as v,b as $}from"./index.6b1e63f3.js";import{d as b,a as C,$ as S,r as i,y as D,t as d,A as z,B as a,G as n,E as o,H as r,z as L,u,F as s,J as N}from"./vlib.0bb5c6cc.js";import"./lodash.8cc0d8b0.js";import"./monacoeditor.d62c48b5.js";import"./lib.aa75605a.js";const k=b({setup(){const e=C({getDataListURL:"/sys/notice/user/page",createdIsNeed:!1,activatedIsNeed:!1,getDataListIsPage:!0,dataForm:{id:"",noticeType:0,senderDate:"",senderName:"",content:"",title:""}});return{...f(e),...S(e)}},created(){this.init()},methods:{init(){this.dataForm.id=this.$route.query.id,this.dataList=[],this.dataForm.content="",this.dataForm.senderDate="",this.dataForm.senderName="",this.dataForm.title="",this.getInfo(),this.query()},getInfo(){$.get(`/sys/notice/${this.dataForm.id}`).then(e=>{if(e.code!==0)return this.$message.error(e.msg);this.dataForm={...this.dataForm,...e.data}})}}}),w={style:{"text-align":"center","font-size":"28px"}},H=["innerHTML"],T={style:{"text-align":"center"}};function _(e,t,B,I,V,A){const l=i("el-divider"),p=i("el-table-column"),c=i("el-tag"),m=i("el-table"),h=i("el-pagination"),y=i("el-button"),F=D("loading");return d(),z(N,null,[a("div",w,n(e.dataForm.title),1),o(l),a("div",{innerHTML:e.dataForm.content},null,8,H),a("div",null,[t[4]||(t[4]=a("hr",{size:"1",color:"#ddd",style:{margin:"30px 0 10px 0"}},null,-1)),a("span",null,[t[1]||(t[1]=a("i",{class:"el-icon-user-solid",style:{color:"#e6444a"}},null,-1)),r(" "+n(e.$t("notice.senderName"))+"\uFF1A"+n(e.dataForm.senderName),1)]),o(l,{direction:"vertical"}),a("span",null,[t[2]||(t[2]=a("i",{class:"el-icon-time",style:{color:"#e6444a"}},null,-1)),r(" "+n(e.$t("notice.senderDate"))+"\uFF1A"+n(e.dataForm.senderDate),1)]),o(l,{direction:"vertical",style:{margin:"0px",padding:"0px"}}),a("span",null,[t[3]||(t[3]=a("i",{class:"el-icon-s-order",style:{color:"#e6a23c"}},null,-1)),r(" "+n(e.$t("notice.type"))+"\uFF1A "+n(e.getDictLabel("notice_type",e.dataForm.noticeType)),1)]),t[5]||(t[5]=a("hr",{size:"1",color:"#ddd",style:{margin:"10px 0 30px 0"}},null,-1))]),L((d(),u(m,{data:e.dataList,border:"",onSelectionChange:e.dataListSelectionChangeHandle,style:{width:"100%"}},{default:s(()=>[o(p,{prop:"receiverName",label:e.$t("notice.receiverName"),"header-align":"center",align:"center"},null,8,["label"]),o(p,{prop:"readStatus",label:e.$t("notice.readStatus"),"header-align":"center",align:"center"},{default:s(g=>[g.row.readStatus===0?(d(),u(c,{key:0,type:"danger"},{default:s(()=>[r(n(e.$t("notice.readStatus0")),1)]),_:1})):(d(),u(c,{key:1,type:"success"},{default:s(()=>[r(n(e.$t("notice.readStatus1")),1)]),_:1}))]),_:1},8,["label"]),o(p,{prop:"readDate",label:e.$t("notice.readDate"),"header-align":"center",align:"center"},null,8,["label"])]),_:1},8,["data","onSelectionChange"])),[[F,e.dataListLoading]]),o(h,{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.pageSizeChangeHandle,onCurrentChange:e.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),o(l),a("div",T,[o(y,{type:"danger",onClick:t[0]||(t[0]=g=>e.closeCurrentTab())},{default:s(()=>[r(n(e.$t("notice.close")),1)]),_:1})])],64)}var J=v(k,[["render",_]]);export{J as default};
