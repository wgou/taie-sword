import{u as k}from"./useView.b2a319db.js";import{d as v,a as y,a0 as V,r as o,y as L,t as u,A as U,F as t,G as l,I as s,H as p,P as F,z as S,u as m,f as g}from"./vlib.73c86f1d.js";import _ from"./news-add-or-update.8f6b7f6d.js";import{_ as H}from"./index.bc4fd47c.js";import"./monacoeditor.d62c48b5.js";import"./lodash.58534d7e.js";import"./lib.e5e0e84e.js";const z=v({components:{AddOrUpdate:_},setup(){const e=y({getDataListURL:"/demo/news/page",getDataListIsPage:!0,deleteURL:"/demo/news",deleteIsBatch:!0,daterange:null,dataForm:{title:"",startDate:null,endDate:null}});return{...k(e),...V(e)}},watch:{daterange(e){e===null?(this.dataForm.startDate=null,this.dataForm.endDate=null):(this.dataForm.startDate=e[0],this.dataForm.endDate=e[1])}}}),O={class:"mod-demo__news"};function B(e,a,P,R,E,Y){const f=o("el-input"),r=o("el-form-item"),h=o("el-date-picker"),d=o("el-button"),C=o("el-form"),i=o("el-table-column"),c=o("el-table"),b=o("el-pagination"),w=o("add-or-update"),$=L("loading");return u(),U("div",O,[t(C,{inline:!0,model:e.dataForm,onKeyup:a[5]||(a[5]=F(n=>e.getDataList(),["enter"]))},{default:l(()=>[t(r,null,{default:l(()=>[t(f,{modelValue:e.dataForm.title,"onUpdate:modelValue":a[0]||(a[0]=n=>e.dataForm.title=n),placeholder:e.$t("news.title"),clearable:""},null,8,["modelValue","placeholder"])]),_:1}),t(r,null,{default:l(()=>[t(h,{modelValue:e.daterange,"onUpdate:modelValue":a[1]||(a[1]=n=>e.daterange=n),type:"daterange","value-format":"YYYY-MM-DD","range-separator":e.$t("datePicker.range"),"start-placeholder":e.$t("datePicker.start"),"end-placeholder":e.$t("datePicker.end")},null,8,["modelValue","range-separator","start-placeholder","end-placeholder"])]),_:1}),t(r,null,{default:l(()=>[t(d,{onClick:a[2]||(a[2]=n=>e.getDataList())},{default:l(()=>[s(p(e.$t("query")),1)]),_:1})]),_:1}),t(r,null,{default:l(()=>[t(d,{type:"primary",onClick:a[3]||(a[3]=n=>e.addOrUpdateHandle())},{default:l(()=>[s(p(e.$t("add")),1)]),_:1})]),_:1}),t(r,null,{default:l(()=>[t(d,{type:"danger",onClick:a[4]||(a[4]=n=>e.deleteHandle())},{default:l(()=>[s(p(e.$t("deleteBatch")),1)]),_:1})]),_:1})]),_:1},8,["model"]),S((u(),m(c,{data:e.dataList,border:"",onSelectionChange:e.dataListSelectionChangeHandle,onSortChange:e.dataListSortChangeHandle,style:{width:"100%"}},{default:l(()=>[t(i,{type:"selection","header-align":"center",align:"center",width:"50"}),t(i,{prop:"title",label:e.$t("news.title"),"header-align":"center",align:"center"},null,8,["label"]),t(i,{prop:"pubDate",label:e.$t("news.pubDate"),sortable:"custom","header-align":"center",align:"center",width:"180"},null,8,["label"]),t(i,{prop:"createDate",label:e.$t("news.createDate"),sortable:"custom","header-align":"center",align:"center",width:"180"},null,8,["label"]),t(i,{label:e.$t("handle"),fixed:"right","header-align":"center",align:"center",width:"150"},{default:l(n=>[t(d,{type:"primary",link:"",onClick:D=>e.addOrUpdateHandle(n.row.id)},{default:l(()=>[s(p(e.$t("update")),1)]),_:2},1032,["onClick"]),t(d,{type:"primary",link:"",onClick:D=>e.deleteHandle(n.row.id)},{default:l(()=>[s(p(e.$t("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data","onSelectionChange","onSortChange"])),[[$,e.dataListLoading]]),t(b,{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.pageSizeChangeHandle,onCurrentChange:e.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),g(" \u5F39\u7A97, \u65B0\u589E / \u4FEE\u6539 "),e.addOrUpdateVisible?(u(),m(w,{key:0,modelValue:e.addOrUpdateVisible,"onUpdate:modelValue":a[6]||(a[6]=n=>e.addOrUpdateVisible=n),ref:"addOrUpdate",onRefreshDataList:e.getDataList},null,8,["modelValue","onRefreshDataList"])):g("v-if",!0)])}var G=H(z,[["render",B],["__file","/Users/luochen/project17/taie-sword/taie-admin-vue/src/views/demo/news.vue"]]);export{G as default};
