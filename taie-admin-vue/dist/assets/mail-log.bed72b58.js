import{u as y}from"./useView.b2a319db.js";import{d as _,a as w,a0 as L,r as o,y as V,t as m,A as F,F as l,G as a,I as s,H as d,P as k,z,u as p}from"./vlib.73c86f1d.js";import{_ as S}from"./index.bc4fd47c.js";import"./monacoeditor.d62c48b5.js";import"./lodash.58534d7e.js";import"./lib.e5e0e84e.js";const D=_({setup(){const e=w({getDataListURL:"/sys/maillog/page",getDataListIsPage:!0,deleteURL:"/sys/maillog",deleteIsBatch:!0,dataForm:{templateId:"",mailTo:"",status:null}});return{...y(e),...L(e)}}}),I={class:"mod-message__mail-log"};function H(e,t,T,U,B,j){const g=o("el-input"),i=o("el-form-item"),c=o("el-option"),f=o("el-select"),u=o("el-button"),h=o("el-form"),r=o("el-table-column"),b=o("el-tag"),$=o("el-table"),C=o("el-pagination"),v=V("loading");return m(),F("div",I,[l(h,{inline:!0,model:e.dataForm,onKeyup:t[5]||(t[5]=k(n=>e.getDataList(),["enter"]))},{default:a(()=>[l(i,null,{default:a(()=>[l(g,{modelValue:e.dataForm.templateId,"onUpdate:modelValue":t[0]||(t[0]=n=>e.dataForm.templateId=n),placeholder:e.$t("mail.templateId"),clearable:""},null,8,["modelValue","placeholder"])]),_:1}),l(i,null,{default:a(()=>[l(g,{modelValue:e.dataForm.mailTo,"onUpdate:modelValue":t[1]||(t[1]=n=>e.dataForm.mailTo=n),placeholder:e.$t("mail.mailTo"),clearable:""},null,8,["modelValue","placeholder"])]),_:1}),l(i,null,{default:a(()=>[l(f,{modelValue:e.dataForm.status,"onUpdate:modelValue":t[2]||(t[2]=n=>e.dataForm.status=n),placeholder:e.$t("mail.status"),clearable:""},{default:a(()=>[l(c,{label:e.$t("mail.status1"),value:1},null,8,["label"]),l(c,{label:e.$t("mail.status0"),value:0},null,8,["label"])]),_:1},8,["modelValue","placeholder"])]),_:1}),l(i,null,{default:a(()=>[l(u,{onClick:t[3]||(t[3]=n=>e.getDataList())},{default:a(()=>[s(d(e.$t("query")),1)]),_:1})]),_:1}),l(i,null,{default:a(()=>[l(u,{type:"danger",onClick:t[4]||(t[4]=n=>e.deleteHandle())},{default:a(()=>[s(d(e.$t("deleteBatch")),1)]),_:1})]),_:1})]),_:1},8,["model"]),z((m(),p($,{data:e.dataList,border:"",onSelectionChange:e.dataListSelectionChangeHandle,onSortChange:e.dataListSortChangeHandle,style:{width:"100%"}},{default:a(()=>[l(r,{type:"selection","header-align":"center",align:"center",width:"50"}),l(r,{prop:"templateId",label:e.$t("mail.templateId"),sortable:"custom","header-align":"center",align:"center"},null,8,["label"]),l(r,{prop:"mailFrom",label:e.$t("mail.mailFrom"),"header-align":"center",align:"center"},null,8,["label"]),l(r,{prop:"mailTo",label:e.$t("mail.mailTo"),"header-align":"center",align:"center"},null,8,["label"]),l(r,{prop:"mailCc",label:e.$t("mail.mailCc"),"header-align":"center",align:"center"},null,8,["label"]),l(r,{prop:"subject",label:e.$t("mail.subject"),"header-align":"center",align:"center"},null,8,["label"]),l(r,{prop:"status",label:e.$t("mail.status"),sortable:"custom","header-align":"center",align:"center"},{default:a(n=>[n.row.status===1?(m(),p(b,{key:0,size:"small"},{default:a(()=>[s(d(e.$t("mail.status1")),1)]),_:1})):(m(),p(b,{key:1,size:"small",type:"danger"},{default:a(()=>[s(d(e.$t("mail.status0")),1)]),_:1}))]),_:1},8,["label"]),l(r,{prop:"createDate",label:e.$t("mail.createDate"),sortable:"custom","header-align":"center",align:"center",width:"180"},null,8,["label"]),l(r,{label:e.$t("handle"),fixed:"right","header-align":"center",align:"center",width:"150"},{default:a(n=>[l(u,{type:"primary",link:"",onClick:R=>e.deleteHandle(n.row.id)},{default:a(()=>[s(d(e.$t("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data","onSelectionChange","onSortChange"])),[[v,e.dataListLoading]]),l(C,{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.pageSizeChangeHandle,onCurrentChange:e.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])}var G=S(D,[["render",H],["__file","/Users/luochen/project17/taie-sword/taie-admin-vue/src/views/message/mail-log.vue"]]);export{G as default};
