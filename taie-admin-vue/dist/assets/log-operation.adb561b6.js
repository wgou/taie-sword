import{u as O}from"./useView.d7e741d1.js";import{d as _,a as v,$ as y,r as o,y as w,t as p,A as q,E as t,F as a,H as s,G as i,O as z,z as L,u as g}from"./vlib.0bb5c6cc.js";import{_ as D}from"./index.c9acb6bc.js";import"./monacoeditor.d62c48b5.js";import"./lodash.8cc0d8b0.js";import"./lib.aa75605a.js";const k=_({setup(){const e=v({getDataListURL:"/sys/log/operation/page",getDataListIsPage:!0,exportURL:"/sys/log/operation/export",dataForm:{status:""}});return{...O(e),...y(e)}}}),S={class:"mod-sys__log-operation"};function V(e,n,F,H,U,N){const d=o("el-option"),c=o("el-select"),u=o("el-form-item"),m=o("el-button"),f=o("el-form"),l=o("el-table-column"),b=o("el-tag"),h=o("el-table"),$=o("el-pagination"),C=w("loading");return p(),q("div",S,[t(f,{inline:!0,model:e.dataForm,onKeyup:n[3]||(n[3]=z(r=>e.getDataList(),["enter"]))},{default:a(()=>[t(u,null,{default:a(()=>[t(c,{modelValue:e.dataForm.status,"onUpdate:modelValue":n[0]||(n[0]=r=>e.dataForm.status=r),placeholder:e.$t("logOperation.status"),clearable:""},{default:a(()=>[t(d,{label:e.$t("logOperation.status0"),value:0},null,8,["label"]),t(d,{label:e.$t("logOperation.status1"),value:1},null,8,["label"])]),_:1},8,["modelValue","placeholder"])]),_:1}),t(u,null,{default:a(()=>[t(m,{onClick:n[1]||(n[1]=r=>e.getDataList())},{default:a(()=>[s(i(e.$t("query")),1)]),_:1})]),_:1}),t(u,null,{default:a(()=>[t(m,{type:"info",onClick:n[2]||(n[2]=r=>e.exportHandle())},{default:a(()=>[s(i(e.$t("export")),1)]),_:1})]),_:1})]),_:1},8,["model"]),L((p(),g(h,{data:e.dataList,border:"",onSortChange:e.dataListSortChangeHandle,style:{width:"100%"}},{default:a(()=>[t(l,{prop:"creatorName",label:e.$t("logOperation.creatorName"),"header-align":"center",align:"center"},null,8,["label"]),t(l,{prop:"operation",label:e.$t("logOperation.operation"),"header-align":"center",align:"center"},null,8,["label"]),t(l,{prop:"requestUri",label:e.$t("logOperation.requestUri"),"header-align":"center",align:"center"},null,8,["label"]),t(l,{prop:"requestMethod",label:e.$t("logOperation.requestMethod"),"header-align":"center",align:"center"},null,8,["label"]),t(l,{prop:"requestParams",label:e.$t("logOperation.requestParams"),"header-align":"center",align:"center",width:"150","show-overflow-tooltip":!0},null,8,["label"]),t(l,{prop:"requestTime",label:e.$t("logOperation.requestTime"),sortable:"custom","header-align":"center",align:"center"},{default:a(r=>[s(i(`${r.row.requestTime}ms`),1)]),_:1},8,["label"]),t(l,{prop:"status",label:e.$t("logOperation.status"),sortable:"custom","header-align":"center",align:"center"},{default:a(r=>[r.row.status===0?(p(),g(b,{key:0,size:"small",type:"danger"},{default:a(()=>[s(i(e.$t("logOperation.status0")),1)]),_:1})):(p(),g(b,{key:1,size:"small",type:"success"},{default:a(()=>[s(i(e.$t("logOperation.status1")),1)]),_:1}))]),_:1},8,["label"]),t(l,{prop:"ip",label:e.$t("logOperation.ip"),"header-align":"center",align:"center"},null,8,["label"]),t(l,{prop:"userAgent",label:e.$t("logOperation.userAgent"),"header-align":"center",align:"center",width:"150","show-overflow-tooltip":!0},null,8,["label"]),t(l,{prop:"createDate",label:e.$t("logOperation.createDate"),sortable:"custom","header-align":"center",align:"center",width:"180"},null,8,["label"])]),_:1},8,["data","onSortChange"])),[[C,e.dataListLoading]]),t($,{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.pageSizeChangeHandle,onCurrentChange:e.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])}var K=D(k,[["render",V]]);export{K as default};
