import{u as $}from"./useView.b2a319db.js";import{d as w,a as k,a0 as D,r as s,y as c,t as u,A as S,F as a,G as n,I as o,P as B,z as E,u as p,f as g}from"./vlib.73c86f1d.js";import H from"./template-add-or-update.91db3fdd.js";import{_,b as f}from"./index.bc4fd47c.js";import"./monacoeditor.d62c48b5.js";import"./index.c53cfe2f.js";import"./lodash.58534d7e.js";import"./lib.e5e0e84e.js";const z=w({components:{AddOrUpdate:H},setup(){const t=k({getDataListURL:"/devtools/template/page",getDataListIsPage:!0,deleteURL:"/devtools/template",deleteIsBatch:!0,dataForm:{name:""}});return{...$(t),...D(t)}},methods:{enabledHandle(t){if(!t&&this.dataListSelections&&this.dataListSelections.length<=0)return this.$message({message:"\u8BF7\u9009\u62E9\u8BB0\u5F55",type:"warning",duration:500});f.put("/devtools/template/enabled",t?[t]:this.dataListSelections&&this.dataListSelections.map(e=>e.id)).then(e=>{if(e.code!==0)return this.$message.error(e.msg);this.$message({message:this.$t("prompt.success"),type:"success",duration:500,onClose:()=>{this.getDataList()}})})},disabledHandle(t){if(!t&&this.dataListSelections&&this.dataListSelections.length<=0)return this.$message({message:"\u8BF7\u9009\u62E9\u8BB0\u5F55",type:"warning",duration:500});f.put("/devtools/template/disabled",t?[t]:this.dataListSelections&&this.dataListSelections.map(e=>e.id)).then(e=>{if(e.code!==0)return this.$message.error(e.msg);this.$message({message:this.$t("prompt.success"),type:"success",duration:500,onClose:()=>{this.getDataList()}})})}}}),U={class:"mod-template"};function V(t,e,A,O,R,N){const C=s("el-input"),r=s("el-form-item"),i=s("el-button"),v=s("el-form"),d=s("el-table-column"),m=s("el-tag"),h=s("el-table"),y=s("el-pagination"),b=s("add-or-update"),L=c("loading");return u(),S("div",U,[a(v,{inline:!0,model:t.dataForm,onKeyup:e[6]||(e[6]=B(l=>t.getDataList(),["enter"]))},{default:n(()=>[a(r,null,{default:n(()=>[a(C,{modelValue:t.dataForm.name,"onUpdate:modelValue":e[0]||(e[0]=l=>t.dataForm.name=l),placeholder:"\u6A21\u677F\u540D",clearable:""},null,8,["modelValue"])]),_:1}),a(r,null,{default:n(()=>[a(i,{onClick:e[1]||(e[1]=l=>t.getDataList())},{default:n(()=>e[7]||(e[7]=[o("\u67E5\u8BE2")])),_:1})]),_:1}),a(r,null,{default:n(()=>[a(i,{type:"primary",onClick:e[2]||(e[2]=l=>t.addOrUpdateHandle())},{default:n(()=>e[8]||(e[8]=[o("\u65B0\u589E")])),_:1})]),_:1}),a(r,null,{default:n(()=>[a(i,{type:"success",onClick:e[3]||(e[3]=l=>t.enabledHandle())},{default:n(()=>e[9]||(e[9]=[o("\u542F\u7528")])),_:1})]),_:1}),a(r,null,{default:n(()=>[a(i,{type:"warning",onClick:e[4]||(e[4]=l=>t.disabledHandle())},{default:n(()=>e[10]||(e[10]=[o("\u7981\u7528")])),_:1})]),_:1}),a(r,null,{default:n(()=>[a(i,{type:"danger",onClick:e[5]||(e[5]=l=>t.deleteHandle())},{default:n(()=>e[11]||(e[11]=[o("\u5220\u9664")])),_:1})]),_:1})]),_:1},8,["model"]),E((u(),p(h,{data:t.dataList,border:"",onSelectionChange:t.dataListSelectionChangeHandle,style:{width:"100%"}},{default:n(()=>[a(d,{type:"selection","header-align":"center",align:"center",width:"50"}),a(d,{prop:"name",label:"\u6A21\u677F\u540D","header-align":"center",align:"center",width:"150"}),a(d,{prop:"fileName",label:"\u6587\u4EF6\u540D","header-align":"center",align:"center",width:"200"}),a(d,{prop:"path",label:"\u751F\u6210\u8DEF\u5F84","header-align":"center"}),a(d,{prop:"status",label:"\u72B6\u6001",sortable:"custom","header-align":"center",align:"center",width:"120"},{default:n(l=>[l.row.status===0?(u(),p(m,{key:0,size:"small",type:"success"},{default:n(()=>e[12]||(e[12]=[o("\u542F\u7528")])),_:1})):(u(),p(m,{key:1,size:"small",type:"danger"},{default:n(()=>e[13]||(e[13]=[o("\u7981\u7528")])),_:1}))]),_:1}),a(d,{label:"\u64CD\u4F5C",fixed:"right","header-align":"center",align:"center",width:"120"},{default:n(l=>[a(i,{type:"primary",link:"",onClick:F=>t.addOrUpdateHandle(l.row.id)},{default:n(()=>e[14]||(e[14]=[o("\u7F16\u8F91")])),_:2},1032,["onClick"]),a(i,{type:"primary",link:"",onClick:F=>t.deleteHandle(l.row.id)},{default:n(()=>e[15]||(e[15]=[o("\u5220\u9664")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","onSelectionChange"])),[[L,t.dataListLoading]]),a(y,{"current-page":t.page,"page-sizes":[10,20,50,100],"page-size":t.limit,total:t.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:t.pageSizeChangeHandle,onCurrentChange:t.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),g(" \u5F39\u7A97, \u65B0\u589E / \u4FEE\u6539 "),t.addOrUpdateVisible?(u(),p(b,{key:0,ref:"addOrUpdate",onRefreshDataList:t.getDataList},null,8,["onRefreshDataList"])):g("v-if",!0)])}var M=_(z,[["render",V],["__file","/Users/luochen/project17/taie-sword/taie-admin-vue/src/views/devtools/template.vue"]]);export{M as default};
